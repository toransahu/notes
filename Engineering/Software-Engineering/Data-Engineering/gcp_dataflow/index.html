
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
        <meta name="author" content="Toran Sahu <toran.sahu@yahoo.com>">
      
      
      
        <link rel="prev" href="../apache_storm/">
      
      
        <link rel="next" href="../overview/">
      
      
      <link rel="icon" href="../../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.5.45">
    
    
      
        <title>Gcp dataflow - Toran's Notes</title>
      
    
    
      <link rel="stylesheet" href="../../../../assets/stylesheets/main.0253249f.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#gcp-dataflow" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../../.." title="Toran&#39;s Notes" class="md-header__button md-logo" aria-label="Toran's Notes" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Toran's Notes
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Gcp dataflow
            
          </span>
        </div>
      </div>
    </div>
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/toransahu/notes/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../../.." title="Toran&#39;s Notes" class="md-nav__button md-logo" aria-label="Toran's Notes" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    Toran's Notes
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/toransahu/notes/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Home
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../Unclassified/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Unclassified
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Computer Science
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Computer Science
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../Computer-Science/algo/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Algo
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../Computer-Science/dbms/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Dbms
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../Computer-Science/ds/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Ds
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../Computer-Science/faq/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Faq
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../Computer-Science/keywords/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Keywords
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../Computer-Science/maths/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Maths
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../Computer-Science/network/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Network
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../Computer-Science/os/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Os
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../Computer-Science/se/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Se
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../Computer-Science/toc/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Toc
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Data Science
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Data Science
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../Data-Science/ml_azure/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Ml azure
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../Data-Science/overview/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Overview
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" checked>
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Engineering
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            Engineering
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_1" >
        
          
          <label class="md-nav__link" for="__nav_5_1" id="__nav_5_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Network Engineering
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_1">
            <span class="md-nav__icon md-icon"></span>
            Network Engineering
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Network-Engineering/Designs/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Designs
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Network-Engineering/FAQ/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    FAQ
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Network-Engineering/Keywords/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Keywords
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Network-Engineering/MAC/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    MAC
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Network-Engineering/Tools/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Tools
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_1_6" >
        
          
          <label class="md-nav__link" for="__nav_5_1_6" id="__nav_5_1_6_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    OpenConfig
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_5_1_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_1_6">
            <span class="md-nav__icon md-icon"></span>
            OpenConfig
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Network-Engineering/OpenConfig/openconfig/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Openconfig
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_1_7" >
        
          
          <label class="md-nav__link" for="__nav_5_1_7" id="__nav_5_1_7_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Wireless
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_5_1_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_1_7">
            <span class="md-nav__icon md-icon"></span>
            Wireless
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Network-Engineering/Wireless/wifi_basics/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Wifi basics
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Network-Engineering/Wireless/wifi_basics_1/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Wifi basics 1
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Network-Engineering/Wireless/wifi_basics_2/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Wifi basics 2
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Network-Engineering/Wireless/wifi_basics_3/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Wifi basics 3
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Network-Engineering/Wireless/wifi_overview/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Wifi overview
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_2" checked>
        
          
          <label class="md-nav__link" for="__nav_5_2" id="__nav_5_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Software Engineering
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_5_2">
            <span class="md-nav__icon md-icon"></span>
            Software Engineering
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../android/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Android
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../blockchain/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Blockchain
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../code/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Code
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../docker/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Docker
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../git/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Git
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../k8s/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    K8s
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../linux/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Linux
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../markup/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Markup
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../practice_problems/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Practice problems
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_2_10" >
        
          
          <label class="md-nav__link" for="__nav_5_2_10" id="__nav_5_2_10_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Architecture
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_5_2_10_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_2_10">
            <span class="md-nav__icon md-icon"></span>
            Architecture
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Architecture/design_patterns/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Design patterns
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Architecture/design_principles/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Design principles
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Architecture/documentation/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Documentation
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Architecture/project_design/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Project design
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Architecture/system_design/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    System design
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_2_11" checked>
        
          
          <label class="md-nav__link" for="__nav_5_2_11" id="__nav_5_2_11_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Data Engineering
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_5_2_11_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_5_2_11">
            <span class="md-nav__icon md-icon"></span>
            Data Engineering
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../apache_beam/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Apache beam
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../apache_storm/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Apache storm
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Gcp dataflow
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Gcp dataflow
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#gcp-dataflow" class="md-nav__link">
    <span class="md-ellipsis">
      GCP Dataflow
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#introduction" class="md-nav__link">
    <span class="md-ellipsis">
      Introduction
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Introduction">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#what" class="md-nav__link">
    <span class="md-ellipsis">
      What
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#why" class="md-nav__link">
    <span class="md-ellipsis">
      Why
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#how" class="md-nav__link">
    <span class="md-ellipsis">
      How
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#classic-template" class="md-nav__link">
    <span class="md-ellipsis">
      Classic Template
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Classic Template">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#why-template" class="md-nav__link">
    <span class="md-ellipsis">
      Why Template
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#what_1" class="md-nav__link">
    <span class="md-ellipsis">
      What
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#how_1" class="md-nav__link">
    <span class="md-ellipsis">
      How
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#create" class="md-nav__link">
    <span class="md-ellipsis">
      Create
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#stage" class="md-nav__link">
    <span class="md-ellipsis">
      Stage
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#run" class="md-nav__link">
    <span class="md-ellipsis">
      Run
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Run">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#permission-to-run-on-production-env" class="md-nav__link">
    <span class="md-ellipsis">
      Permission to run on Production env
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#run-in-web-console" class="md-nav__link">
    <span class="md-ellipsis">
      Run in Web Console
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#run-as-rest-api" class="md-nav__link">
    <span class="md-ellipsis">
      Run as REST API
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#run-as-python-gcp-client" class="md-nav__link">
    <span class="md-ellipsis">
      Run as Python GCP Client
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#run-using-gcloud-cli" class="md-nav__link">
    <span class="md-ellipsis">
      Run using gcloud CLI
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#schedule" class="md-nav__link">
    <span class="md-ellipsis">
      Schedule
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#clean" class="md-nav__link">
    <span class="md-ellipsis">
      Clean
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Clean">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#clean-up-the-classic-template-resources" class="md-nav__link">
    <span class="md-ellipsis">
      Clean up the Classic Template resources
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#clean-up-google-cloud-project-resources" class="md-nav__link">
    <span class="md-ellipsis">
      Clean up Google Cloud project resources
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#how-gcp-dataflow-stores-things" class="md-nav__link">
    <span class="md-ellipsis">
      how gcp dataflow stores things
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#python-packaging" class="md-nav__link">
    <span class="md-ellipsis">
      Python packaging
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#to" class="md-nav__link">
    <span class="md-ellipsis">
      to
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#flex-template" class="md-nav__link">
    <span class="md-ellipsis">
      Flex Template
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Flex Template">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#why_1" class="md-nav__link">
    <span class="md-ellipsis">
      Why
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Why">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#flex-template-over-classic-template" class="md-nav__link">
    <span class="md-ellipsis">
      Flex Template over Classic Template
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#what_2" class="md-nav__link">
    <span class="md-ellipsis">
      What
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#how_2" class="md-nav__link">
    <span class="md-ellipsis">
      How
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#create_1" class="md-nav__link">
    <span class="md-ellipsis">
      Create
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#stage_1" class="md-nav__link">
    <span class="md-ellipsis">
      Stage
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#run_1" class="md-nav__link">
    <span class="md-ellipsis">
      Run
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Run">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#permission-required" class="md-nav__link">
    <span class="md-ellipsis">
      Permission required
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#allowed-env-variables" class="md-nav__link">
    <span class="md-ellipsis">
      Allowed ENV variables
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#build" class="md-nav__link">
    <span class="md-ellipsis">
      Build
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Build">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#allowed-optionsargsparams" class="md-nav__link">
    <span class="md-ellipsis">
      Allowed options/args/params
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#schedule_1" class="md-nav__link">
    <span class="md-ellipsis">
      Schedule
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Schedule">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#custom-worker-image" class="md-nav__link">
    <span class="md-ellipsis">
      Custom Worker Image
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tech-concept" class="md-nav__link">
    <span class="md-ellipsis">
      Tech Concept
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#setup" class="md-nav__link">
    <span class="md-ellipsis">
      Setup
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Setup">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#gcp-account" class="md-nav__link">
    <span class="md-ellipsis">
      GCP Account
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#gcloud-cli" class="md-nav__link">
    <span class="md-ellipsis">
      gcloud CLI
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#python-38" class="md-nav__link">
    <span class="md-ellipsis">
      python 3.8
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#apache-beam-job" class="md-nav__link">
    <span class="md-ellipsis">
      Apache Beam Job
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#authentication-authorization" class="md-nav__link">
    <span class="md-ellipsis">
      Authentication &amp; Authorization
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#access-control-with-iam" class="md-nav__link">
    <span class="md-ellipsis">
      Access Control with IAM
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#network-config" class="md-nav__link">
    <span class="md-ellipsis">
      Network Config
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#cicd-production-grade-best-practice" class="md-nav__link">
    <span class="md-ellipsis">
      CI/CD / Production Grade / Best Practice
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#observability" class="md-nav__link">
    <span class="md-ellipsis">
      Observability
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Observability">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#monitoring-troubleshooting" class="md-nav__link">
    <span class="md-ellipsis">
      Monitoring &amp; Troubleshooting
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#execution-detail" class="md-nav__link">
    <span class="md-ellipsis">
      Execution Detail
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#faq" class="md-nav__link">
    <span class="md-ellipsis">
      FAQ
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#deep" class="md-nav__link">
    <span class="md-ellipsis">
      Deep
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Deep">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parallelism" class="md-nav__link">
    <span class="md-ellipsis">
      Parallelism
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#autoscaling" class="md-nav__link">
    <span class="md-ellipsis">
      Autoscaling
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#autoscaling-not-working" class="md-nav__link">
    <span class="md-ellipsis">
      Autoscaling not working
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Autoscaling not working">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#reshuffling" class="md-nav__link">
    <span class="md-ellipsis">
      Reshuffling
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#optimization" class="md-nav__link">
    <span class="md-ellipsis">
      Optimization
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#references" class="md-nav__link">
    <span class="md-ellipsis">
      References
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../overview/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Overview
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_2_12" >
        
          
          <label class="md-nav__link" for="__nav_5_2_12" id="__nav_5_2_12_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Database
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_5_2_12_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_2_12">
            <span class="md-nav__icon md-icon"></span>
            Database
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Database/elasticsearch/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Elasticsearch
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Database/gcp_bigquery/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Gcp bigquery
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Database/mysql/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Mysql
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Database/oracle_plsql/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Oracle plsql
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Database/postgresql/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Postgresql
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_2_13" >
        
          
          <label class="md-nav__link" for="__nav_5_2_13" id="__nav_5_2_13_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    DevOps
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_5_2_13_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_2_13">
            <span class="md-nav__icon md-icon"></span>
            DevOps
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../DevOps/basics/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Basics
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_2_13_2" >
        
          
          <label class="md-nav__link" for="__nav_5_2_13_2" id="__nav_5_2_13_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Clouds
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_5_2_13_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_2_13_2">
            <span class="md-nav__icon md-icon"></span>
            Clouds
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../DevOps/Clouds/aws/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Aws
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../DevOps/Clouds/gcp/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Gcp
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_2_14" >
        
          
          <label class="md-nav__link" for="__nav_5_2_14" id="__nav_5_2_14_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Product Development
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_5_2_14_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_2_14">
            <span class="md-nav__icon md-icon"></span>
            Product Development
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Product-Development/product_mindset/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Product mindset
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Product-Development/regulations_and_compliances/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Regulations and compliances
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_2_14_3" >
        
          
          <label class="md-nav__link" for="__nav_5_2_14_3" id="__nav_5_2_14_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Practices
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_5_2_14_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_2_14_3">
            <span class="md-nav__icon md-icon"></span>
            Practices
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Product-Development/Practices/code_review/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Code review
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_2_15" >
        
          
          <label class="md-nav__link" for="__nav_5_2_15" id="__nav_5_2_15_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Web
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_5_2_15_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_2_15">
            <span class="md-nav__icon md-icon"></span>
            Web
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Web/caching/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Caching
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Web/overview/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Overview
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Web/security/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Security
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_2_15_4" >
        
          
          <label class="md-nav__link" for="__nav_5_2_15_4" id="__nav_5_2_15_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    API
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_5_2_15_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_2_15_4">
            <span class="md-nav__icon md-icon"></span>
            API
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Web/API/graphql/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Graphql
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Web/API/grpc/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Grpc
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Web/API/overview/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Overview
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Web/API/rest/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Rest
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Web/API/websocket/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Websocket
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" >
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Human Science
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            Human Science
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../Human-Science/faq/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Faq
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../Human-Science/human_science/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Human science
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../Human-Science/misc/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Misc
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7" >
        
          
          <label class="md-nav__link" for="__nav_7" id="__nav_7_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Languages
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7">
            <span class="md-nav__icon md-icon"></span>
            Languages
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../Languages/c_cpp/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    C cpp
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../Languages/markdown/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Markdown
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_3" >
        
          
          <label class="md-nav__link" for="__nav_7_3" id="__nav_7_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Golang
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_7_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_3">
            <span class="md-nav__icon md-icon"></span>
            Golang
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../Languages/golang/go_basics/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Go basics
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_4" >
        
          
          <label class="md-nav__link" for="__nav_7_4" id="__nav_7_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Java
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_7_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_4">
            <span class="md-nav__icon md-icon"></span>
            Java
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../Languages/java/java_basics/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Java basics
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../Languages/java/spring_framework/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Spring framework
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_5" >
        
          
          <label class="md-nav__link" for="__nav_7_5" id="__nav_7_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Python
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_7_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_5">
            <span class="md-nav__icon md-icon"></span>
            Python
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../Languages/python/python_advanced/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Python advanced
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../Languages/python/python_basics/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Python basics
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../Languages/python/python_django/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Python django
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../Languages/python/python_oops/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Python oops
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../Languages/python/python_production_servers/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Python production servers
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../Languages/python/python_testing/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Python testing
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_6" >
        
          
          <label class="md-nav__link" for="__nav_7_6" id="__nav_7_6_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Rust
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_7_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_6">
            <span class="md-nav__icon md-icon"></span>
            Rust
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../Languages/rust/rust_basics/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Rust basics
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8" >
        
          
          <label class="md-nav__link" for="__nav_8" id="__nav_8_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Music
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8">
            <span class="md-nav__icon md-icon"></span>
            Music
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../Music/piano/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Piano
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#gcp-dataflow" class="md-nav__link">
    <span class="md-ellipsis">
      GCP Dataflow
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#introduction" class="md-nav__link">
    <span class="md-ellipsis">
      Introduction
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Introduction">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#what" class="md-nav__link">
    <span class="md-ellipsis">
      What
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#why" class="md-nav__link">
    <span class="md-ellipsis">
      Why
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#how" class="md-nav__link">
    <span class="md-ellipsis">
      How
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#classic-template" class="md-nav__link">
    <span class="md-ellipsis">
      Classic Template
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Classic Template">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#why-template" class="md-nav__link">
    <span class="md-ellipsis">
      Why Template
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#what_1" class="md-nav__link">
    <span class="md-ellipsis">
      What
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#how_1" class="md-nav__link">
    <span class="md-ellipsis">
      How
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#create" class="md-nav__link">
    <span class="md-ellipsis">
      Create
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#stage" class="md-nav__link">
    <span class="md-ellipsis">
      Stage
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#run" class="md-nav__link">
    <span class="md-ellipsis">
      Run
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Run">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#permission-to-run-on-production-env" class="md-nav__link">
    <span class="md-ellipsis">
      Permission to run on Production env
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#run-in-web-console" class="md-nav__link">
    <span class="md-ellipsis">
      Run in Web Console
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#run-as-rest-api" class="md-nav__link">
    <span class="md-ellipsis">
      Run as REST API
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#run-as-python-gcp-client" class="md-nav__link">
    <span class="md-ellipsis">
      Run as Python GCP Client
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#run-using-gcloud-cli" class="md-nav__link">
    <span class="md-ellipsis">
      Run using gcloud CLI
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#schedule" class="md-nav__link">
    <span class="md-ellipsis">
      Schedule
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#clean" class="md-nav__link">
    <span class="md-ellipsis">
      Clean
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Clean">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#clean-up-the-classic-template-resources" class="md-nav__link">
    <span class="md-ellipsis">
      Clean up the Classic Template resources
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#clean-up-google-cloud-project-resources" class="md-nav__link">
    <span class="md-ellipsis">
      Clean up Google Cloud project resources
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#how-gcp-dataflow-stores-things" class="md-nav__link">
    <span class="md-ellipsis">
      how gcp dataflow stores things
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#python-packaging" class="md-nav__link">
    <span class="md-ellipsis">
      Python packaging
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#to" class="md-nav__link">
    <span class="md-ellipsis">
      to
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#flex-template" class="md-nav__link">
    <span class="md-ellipsis">
      Flex Template
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Flex Template">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#why_1" class="md-nav__link">
    <span class="md-ellipsis">
      Why
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Why">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#flex-template-over-classic-template" class="md-nav__link">
    <span class="md-ellipsis">
      Flex Template over Classic Template
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#what_2" class="md-nav__link">
    <span class="md-ellipsis">
      What
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#how_2" class="md-nav__link">
    <span class="md-ellipsis">
      How
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#create_1" class="md-nav__link">
    <span class="md-ellipsis">
      Create
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#stage_1" class="md-nav__link">
    <span class="md-ellipsis">
      Stage
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#run_1" class="md-nav__link">
    <span class="md-ellipsis">
      Run
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Run">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#permission-required" class="md-nav__link">
    <span class="md-ellipsis">
      Permission required
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#allowed-env-variables" class="md-nav__link">
    <span class="md-ellipsis">
      Allowed ENV variables
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#build" class="md-nav__link">
    <span class="md-ellipsis">
      Build
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Build">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#allowed-optionsargsparams" class="md-nav__link">
    <span class="md-ellipsis">
      Allowed options/args/params
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#schedule_1" class="md-nav__link">
    <span class="md-ellipsis">
      Schedule
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Schedule">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#custom-worker-image" class="md-nav__link">
    <span class="md-ellipsis">
      Custom Worker Image
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tech-concept" class="md-nav__link">
    <span class="md-ellipsis">
      Tech Concept
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#setup" class="md-nav__link">
    <span class="md-ellipsis">
      Setup
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Setup">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#gcp-account" class="md-nav__link">
    <span class="md-ellipsis">
      GCP Account
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#gcloud-cli" class="md-nav__link">
    <span class="md-ellipsis">
      gcloud CLI
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#python-38" class="md-nav__link">
    <span class="md-ellipsis">
      python 3.8
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#apache-beam-job" class="md-nav__link">
    <span class="md-ellipsis">
      Apache Beam Job
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#authentication-authorization" class="md-nav__link">
    <span class="md-ellipsis">
      Authentication &amp; Authorization
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#access-control-with-iam" class="md-nav__link">
    <span class="md-ellipsis">
      Access Control with IAM
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#network-config" class="md-nav__link">
    <span class="md-ellipsis">
      Network Config
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#cicd-production-grade-best-practice" class="md-nav__link">
    <span class="md-ellipsis">
      CI/CD / Production Grade / Best Practice
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#observability" class="md-nav__link">
    <span class="md-ellipsis">
      Observability
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Observability">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#monitoring-troubleshooting" class="md-nav__link">
    <span class="md-ellipsis">
      Monitoring &amp; Troubleshooting
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#execution-detail" class="md-nav__link">
    <span class="md-ellipsis">
      Execution Detail
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#faq" class="md-nav__link">
    <span class="md-ellipsis">
      FAQ
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#deep" class="md-nav__link">
    <span class="md-ellipsis">
      Deep
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Deep">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parallelism" class="md-nav__link">
    <span class="md-ellipsis">
      Parallelism
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#autoscaling" class="md-nav__link">
    <span class="md-ellipsis">
      Autoscaling
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#autoscaling-not-working" class="md-nav__link">
    <span class="md-ellipsis">
      Autoscaling not working
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Autoscaling not working">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#reshuffling" class="md-nav__link">
    <span class="md-ellipsis">
      Reshuffling
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#optimization" class="md-nav__link">
    <span class="md-ellipsis">
      Optimization
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#references" class="md-nav__link">
    <span class="md-ellipsis">
      References
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
  


  <h1>Gcp dataflow</h1>

<h2 id="gcp-dataflow">GCP Dataflow<a class="headerlink" href="#gcp-dataflow" title="Permanent link">#</a></h2>
<h3>Table of Contents</h3>

<div class="toc">
<ul>
<li><a href="#gcp-dataflow">GCP Dataflow</a></li>
<li><a href="#introduction">Introduction</a><ul>
<li><a href="#what">What</a></li>
<li><a href="#why">Why</a></li>
<li><a href="#how">How</a></li>
</ul>
</li>
<li><a href="#classic-template">Classic Template</a><ul>
<li><a href="#why-template">Why Template</a></li>
<li><a href="#what_1">What</a></li>
<li><a href="#how_1">How</a></li>
<li><a href="#create">Create</a></li>
<li><a href="#stage">Stage</a></li>
<li><a href="#run">Run</a><ul>
<li><a href="#permission-to-run-on-production-env">Permission to run on Production env</a></li>
<li><a href="#run-in-web-console">Run in Web Console</a></li>
<li><a href="#run-as-rest-api">Run as REST API</a></li>
<li><a href="#run-as-python-gcp-client">Run as Python GCP Client</a></li>
<li><a href="#run-using-gcloud-cli">Run using gcloud CLI</a></li>
</ul>
</li>
<li><a href="#schedule">Schedule</a></li>
<li><a href="#clean">Clean</a><ul>
<li><a href="#clean-up-the-classic-template-resources">Clean up the Classic Template resources</a></li>
<li><a href="#clean-up-google-cloud-project-resources">Clean up Google Cloud project resources</a></li>
<li><a href="#how-gcp-dataflow-stores-things">how gcp dataflow stores things</a></li>
<li><a href="#python-packaging">Python packaging</a></li>
<li><a href="#to">to</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#flex-template">Flex Template</a><ul>
<li><a href="#why_1">Why</a><ul>
<li><a href="#flex-template-over-classic-template">Flex Template over Classic Template</a></li>
</ul>
</li>
<li><a href="#what_2">What</a></li>
<li><a href="#how_2">How</a></li>
<li><a href="#create_1">Create</a></li>
<li><a href="#stage_1">Stage</a></li>
<li><a href="#run_1">Run</a><ul>
<li><a href="#permission-required">Permission required</a></li>
<li><a href="#allowed-env-variables">Allowed ENV variables</a></li>
</ul>
</li>
<li><a href="#build">Build</a><ul>
<li><a href="#allowed-optionsargsparams">Allowed options/args/params</a></li>
</ul>
</li>
<li><a href="#schedule_1">Schedule</a><ul>
<li><a href="#custom-worker-image">Custom Worker Image</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#tech-concept">Tech Concept</a></li>
<li><a href="#setup">Setup</a><ul>
<li><a href="#gcp-account">GCP Account</a></li>
<li><a href="#gcloud-cli">gcloud CLI</a></li>
<li><a href="#python-38">python 3.8</a></li>
</ul>
</li>
<li><a href="#apache-beam-job">Apache Beam Job</a></li>
<li><a href="#authentication-authorization">Authentication &amp; Authorization</a></li>
<li><a href="#access-control-with-iam">Access Control with IAM</a></li>
<li><a href="#network-config">Network Config</a></li>
<li><a href="#cicd-production-grade-best-practice">CI/CD / Production Grade / Best Practice</a></li>
<li><a href="#observability">Observability</a><ul>
<li><a href="#monitoring-troubleshooting">Monitoring &amp; Troubleshooting</a></li>
<li><a href="#execution-detail">Execution Detail</a></li>
</ul>
</li>
<li><a href="#faq">FAQ</a></li>
<li><a href="#deep">Deep</a><ul>
<li><a href="#parallelism">Parallelism</a></li>
<li><a href="#autoscaling">Autoscaling</a></li>
<li><a href="#autoscaling-not-working">Autoscaling not working</a><ul>
<li><a href="#reshuffling">Reshuffling</a></li>
</ul>
</li>
<li><a href="#optimization">Optimization</a></li>
</ul>
</li>
<li><a href="#references">References</a></li>
</ul>
</div>
<h2 id="introduction">Introduction<a class="headerlink" href="#introduction" title="Permanent link">#</a></h2>
<ul>
<li>https://cloud.google.com/dataflow</li>
</ul>
<h3 id="what">What<a class="headerlink" href="#what" title="Permanent link">#</a></h3>
<h3 id="why">Why<a class="headerlink" href="#why" title="Permanent link">#</a></h3>
<h3 id="how">How<a class="headerlink" href="#how" title="Permanent link">#</a></h3>
<ul>
<li>https://www.ververica.com/blog/announcing-google-cloud-dataflow-on-flink-and-easy-flink-deployment-on-google-cloud</li>
<li>https://research.google/pubs/pub41378/<ul>
<li>https://storage.googleapis.com/pub-tools-public-publication-data/pdf/41378.pdf</li>
</ul>
</li>
<li>(paper:how apache beam works) https://pages.cs.wisc.edu/~akella/CS838/F12/838-CloudPapers/FlumeJava.pdf</li>
<li>https://static.googleusercontent.com/media/research.google.com/en//pubs/archive/43864.pdf</li>
<li>https://www.youtube.com/watch?v=3BrcmUqWNm0</li>
<li>https://www.youtube.com/watch?v=a7CymWiX3oM&amp;t=399s</li>
<li>https://cloud.google.com/dataflow/docs/concepts</li>
<li>https://cloud.google.com/dataflow/docs/concepts/dataflow-templates</li>
<li>https://cloud.google.com/dataflow/docs/guides/deploying-a-pipeline#parallelization-and-distribution</li>
<li>https://cloud.google.com/dataflow/docs/guides/deploying-a-pipeline</li>
<li>https://cloud.google.com/dataflow/docs/concepts/execution-details</li>
<li>https://cloud.google.com/dataflow/docs/resources/faq<ul>
<li>https://cloud.google.com/dataflow/docs/resources/faq#how_many_instances_of_dofn_should_i_expect_dataflow_to_spin_up_</li>
</ul>
</li>
</ul>
<h2 id="classic-template">Classic Template<a class="headerlink" href="#classic-template" title="Permanent link">#</a></h2>
<h3 id="why-template">Why Template<a class="headerlink" href="#why-template" title="Permanent link">#</a></h3>
<p>Templates provide you with additional benefits compared to non-templated Dataflow deployment, such as:</p>
<ul>
<li>You can run your pipelines without the development environment and associated dependencies that are common with non-templated deployment. This is useful for scheduling recurring batch jobs.</li>
<li>Templates separate the pipeline construction (performed by developers) from the running of the pipeline. Hence, there's no need to recompile the code every time the pipeline is run.</li>
<li>Runtime parameters allow you to customize the running of the pipeline.</li>
<li>Non-technical users can run templates with the Google Cloud Console, Google Cloud CLI, or the REST API.</li>
<li>You can extend templates with user-defined functions.</li>
</ul>
<h3 id="what_1">What<a class="headerlink" href="#what_1" title="Permanent link">#</a></h3>
<h3 id="how_1">How<a class="headerlink" href="#how_1" title="Permanent link">#</a></h3>
<h3 id="create">Create<a class="headerlink" href="#create" title="Permanent link">#</a></h3>
<p>Covert the Apache Beam pipeline into a Dataflow classic template.</p>
<p>Ref: https://cloud.google.com/dataflow/docs/guides/templates/creating-templates</p>
<h3 id="stage">Stage<a class="headerlink" href="#stage" title="Permanent link">#</a></h3>
<p>Stage the classic template in cloud storage using the following command:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span>
<span class="normal">6</span>
<span class="normal">7</span>
<span class="normal">8</span></pre></div></td><td class="code"><div><pre><span></span><code>$<span class="w"> </span>python<span class="w"> </span>-m<span class="w"> </span>exploratory.wordcount_with_option_and_value_provider_v2<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--region<span class="w"> </span>us-central1<span class="w"> </span><span class="se">\ </span><span class="w">                                                                     </span><span class="c1"># cloud region</span>
<span class="w">    </span>--runner<span class="w"> </span>DataflowRunner<span class="w"> </span><span class="se">\ </span><span class="w">                                                                  </span><span class="c1"># beam runner engine</span>
<span class="w">    </span>--job_name<span class="w"> </span>wordcount-custom-job-<span class="k">$(</span>date<span class="w"> </span>+%Y%m%d-%H%M%S<span class="k">)</span><span class="w"> </span><span class="se">\ </span><span class="w">                                   </span><span class="c1"># dataflow job name</span>
<span class="w">    </span>--project<span class="w"> </span><span class="nv">$GCP_PROJECT</span><span class="w"> </span><span class="se">\ </span><span class="w">                                               </span><span class="c1"># cloud project</span>
<span class="w">    </span>--temp_location<span class="w"> </span>gs://<span class="nv">$GCP_PROJECT</span>-dataflow-poc/tmp/<span class="w"> </span><span class="se">\ </span><span class="w">                  </span><span class="c1"># gcs path</span>
<span class="w">    </span>--staging_location<span class="w"> </span>gs://<span class="nv">$GCP_PROJECT</span>-dataflow-poc/staging<span class="w"> </span><span class="se">\ </span><span class="w">            </span><span class="c1"># gcs path for staging files</span>
<span class="w">    </span>--template_location<span class="w"> </span>gs://<span class="nv">$GCP_PROJECT</span>-dataflow-poc/templates/wordcount<span class="w">  </span><span class="c1"># gcs path to store template file</span>
</code></pre></div></td></tr></table></div>
<h3 id="run">Run<a class="headerlink" href="#run" title="Permanent link">#</a></h3>
<h5 id="permission-to-run-on-production-env">Permission to run on Production env<a class="headerlink" href="#permission-to-run-on-production-env" title="Permanent link">#</a></h5>
<p>tbd</p>
<h4 id="run-in-web-console">Run in Web Console<a class="headerlink" href="#run-in-web-console" title="Permanent link">#</a></h4>
<h4 id="run-as-rest-api">Run as REST API<a class="headerlink" href="#run-as-rest-api" title="Permanent link">#</a></h4>
<p>Run GCP Dataflow template job using REST API sample:</p>
<p>Ref: </p>
<ul>
<li>https://cloud.google.com/dataflow/docs/guides/templates/provided-batch#running-the-bigquery-to-elasticsearch-template</li>
<li>https://cloud.google.com/dataflow/docs/guides/templates/running-templates#example-1:-creating-a-custom-template-batch-job</li>
</ul>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span></pre></div></td><td class="code"><div><pre><span></span><code>$<span class="w"> </span>curl<span class="w"> </span><span class="se">\</span>
--url<span class="w"> </span><span class="s2">&quot;https://dataflow.googleapis.com/v1b3/projects/dataflow-eg/locations/us-central1/templates:launch?gcsPath=gs://dataflow-eg-dataflow-poc/templates/wordcount&quot;</span><span class="w"> </span><span class="se">\</span>
--request<span class="w"> </span>POST<span class="w"> </span><span class="se">\</span>
--header<span class="w"> </span><span class="s2">&quot;Authorization: Bearer &quot;</span><span class="k">$(</span>gcloud<span class="w"> </span>auth<span class="w"> </span>print-access-token<span class="k">)</span><span class="w"> </span><span class="se">\</span>
--header<span class="w"> </span><span class="s1">&#39;Accept: application/json&#39;</span><span class="w"> </span><span class="se">\</span>
--header<span class="w"> </span><span class="s1">&#39;Content-Type: application/json&#39;</span><span class="w"> </span><span class="se">\</span>
--data<span class="w"> </span><span class="s1">&#39;{</span>
<span class="s1">    &quot;jobName&quot;: &quot;wordcount-curl-job-&#39;</span><span class="k">$(</span>date<span class="w"> </span>+%Y%m%d-%H%M%S<span class="k">)</span><span class="s1">&#39;&quot;,</span>
<span class="s1">    &quot;environment&quot;: {</span>
<span class="s1">        &quot;bypassTempDirValidation&quot;: false,</span>
<span class="s1">        &quot;tempLocation&quot;: &quot;gs://dataflow-eg-dataflow-poc/tmp/&quot;,</span>
<span class="s1">        &quot;ipConfiguration&quot;: &quot;WORKER_IP_UNSPECIFIED&quot;,</span>
<span class="s1">        &quot;additionalExperiments&quot;: []</span>
<span class="s1">    },</span>
<span class="s1">    &quot;parameters&quot;: {</span>
<span class="s1">        &quot;input&quot;: &quot;gs://dataflow-samples/shakespeare/kinglear.txt&quot;,</span>
<span class="s1">        &quot;output&quot;: &quot;gs://dataflow-eg-dataflow-poc/results/outputs-templated-curl&quot;</span>
<span class="s1">    }</span>
<span class="s1">}&#39;</span>

<span class="c1"># sample output:</span>
<span class="o">{</span>
<span class="w">  </span><span class="s2">&quot;job&quot;</span>:<span class="w"> </span><span class="o">{</span>
<span class="w">    </span><span class="s2">&quot;id&quot;</span>:<span class="w"> </span><span class="s2">&quot;2022-02-16_01_15_13-5260506404532792394&quot;</span>,
<span class="w">    </span><span class="s2">&quot;projectId&quot;</span>:<span class="w"> </span><span class="s2">&quot;dataflow-eg&quot;</span>,
<span class="w">    </span><span class="s2">&quot;name&quot;</span>:<span class="w"> </span><span class="s2">&quot;wordcount-curl-job-20220216-144511&quot;</span>,
<span class="w">    </span><span class="s2">&quot;type&quot;</span>:<span class="w"> </span><span class="s2">&quot;JOB_TYPE_BATCH&quot;</span>,
<span class="w">    </span><span class="s2">&quot;currentStateTime&quot;</span>:<span class="w"> </span><span class="s2">&quot;1970-01-01T00:00:00Z&quot;</span>,
<span class="w">    </span><span class="s2">&quot;createTime&quot;</span>:<span class="w"> </span><span class="s2">&quot;2022-02-16T09:15:13.997352Z&quot;</span>,
<span class="w">    </span><span class="s2">&quot;location&quot;</span>:<span class="w"> </span><span class="s2">&quot;us-central1&quot;</span>,
<span class="w">    </span><span class="s2">&quot;startTime&quot;</span>:<span class="w"> </span><span class="s2">&quot;2022-02-16T09:15:13.997352Z&quot;</span>
<span class="w">  </span><span class="o">}</span>
<span class="o">}</span>
</code></pre></div></td></tr></table></div>
<h4 id="run-as-python-gcp-client">Run as Python GCP Client<a class="headerlink" href="#run-as-python-gcp-client" title="Permanent link">#</a></h4>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="c1"># dataflow/run_template/main.py </span>

<span class="kn">from</span> <span class="nn">googleapiclient.discovery</span> <span class="kn">import</span> <span class="n">build</span>

<span class="n">project</span> <span class="o">=</span> <span class="s1">&#39;your-gcp-project&#39;</span>
<span class="n">job</span> <span class="o">=</span> <span class="s1">&#39;unique-job-name&#39;</span>
<span class="n">template</span> <span class="o">=</span> <span class="s1">&#39;gs://dataflow-templates/latest/Word_Count&#39;</span>
<span class="n">parameters</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;inputFile&#39;</span><span class="p">:</span> <span class="s1">&#39;gs://dataflow-samples/shakespeare/kinglear.txt&#39;</span><span class="p">,</span>
    <span class="s1">&#39;output&#39;</span><span class="p">:</span> <span class="s1">&#39;gs://&lt;your-gcs-bucket&gt;/wordcount/outputs&#39;</span><span class="p">,</span>
<span class="p">}</span>

<span class="n">dataflow</span> <span class="o">=</span> <span class="n">build</span><span class="p">(</span><span class="s1">&#39;dataflow&#39;</span><span class="p">,</span> <span class="s1">&#39;v1b3&#39;</span><span class="p">)</span>
<span class="n">request</span> <span class="o">=</span> <span class="n">dataflow</span><span class="o">.</span><span class="n">projects</span><span class="p">()</span><span class="o">.</span><span class="n">templates</span><span class="p">()</span><span class="o">.</span><span class="n">launch</span><span class="p">(</span>
    <span class="n">projectId</span><span class="o">=</span><span class="n">project</span><span class="p">,</span>
    <span class="n">gcsPath</span><span class="o">=</span><span class="n">template</span><span class="p">,</span>
    <span class="n">body</span><span class="o">=</span><span class="p">{</span>
        <span class="s1">&#39;jobName&#39;</span><span class="p">:</span> <span class="n">job</span><span class="p">,</span>
        <span class="s1">&#39;parameters&#39;</span><span class="p">:</span> <span class="n">parameters</span><span class="p">,</span>
    <span class="p">}</span>
<span class="p">)</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="n">execute</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
<p>Ref: https://github.com/GoogleCloudPlatform/python-docs-samples/tree/main/dataflow/run_template</p>
<h4 id="run-using-gcloud-cli">Run using gcloud CLI<a class="headerlink" href="#run-using-gcloud-cli" title="Permanent link">#</a></h4>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span></pre></div></td><td class="code"><div><pre><span></span><code>$<span class="w"> </span>gcloud<span class="w"> </span>dataflow<span class="w"> </span><span class="nb">jobs</span><span class="w"> </span>run<span class="w"> </span>dataflow-templated-wordcount-custom-gcloud-job<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--region<span class="w"> </span>us-central1<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--gcs-location<span class="w"> </span>gs://apache-beam-eg/templates/wordcount<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--parameters<span class="w"> </span><span class="nv">input</span><span class="o">=</span>gs://dataflow-samples/shakespeare/kinglear.txt,output<span class="o">=</span>gs://apache-beam-eg/results/output_wordcount_gcloud

<span class="c1"># sample output:</span>
createTime:<span class="w"> </span><span class="s1">&#39;2022-02-11T09:37:25.311851Z&#39;</span>
currentStateTime:<span class="w"> </span><span class="s1">&#39;1970-01-01T00:00:00Z&#39;</span>
id:<span class="w"> </span><span class="m">2022</span>-02-11_01_37_24-16510436790575398178
location:<span class="w"> </span>us-central1
name:<span class="w"> </span>dataflow-templated-wordcount-custom-gcloud-job
projectId:<span class="w"> </span>apache-beam-eg
startTime:<span class="w"> </span><span class="s1">&#39;2022-02-11T09:37:25.311851Z&#39;</span>
type:<span class="w"> </span>JOB_TYPE_BATCH
</code></pre></div></td></tr></table></div>
<h3 id="schedule">Schedule<a class="headerlink" href="#schedule" title="Permanent link">#</a></h3>
<p>For more refer to <a href="/Engineering/Software-Engineering/DevOps/Clouds/gcp/#scheduler">DevOps/GCP/Scheduler</a>.</p>
<h3 id="clean">Clean<a class="headerlink" href="#clean" title="Permanent link">#</a></h3>
<h4 id="clean-up-the-classic-template-resources">Clean up the Classic Template resources<a class="headerlink" href="#clean-up-the-classic-template-resources" title="Permanent link">#</a></h4>
<p>Stop the Dataflow pipeline.</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span></pre></div></td><td class="code"><div><pre><span></span><code>gcloud dataflow jobs list \
  --filter &#39;NAME=&lt;job name&gt; AND STATE=Running&#39; \
  --format &#39;value(JOB_ID)&#39; \
  --region &quot;$REGION&quot; \
  | xargs gcloud dataflow jobs cancel --region &quot;$REGION&quot;
</code></pre></div></td></tr></table></div>
<p>Delete the template spec file from Cloud Storage.</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span></pre></div></td><td class="code"><div><pre><span></span><code>gsutil rm &lt;TEMPLATE_PATH&gt;
</code></pre></div></td></tr></table></div>
<h4 id="clean-up-google-cloud-project-resources">Clean up Google Cloud project resources<a class="headerlink" href="#clean-up-google-cloud-project-resources" title="Permanent link">#</a></h4>
<p>Delete the Cloud Scheduler jobs.</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span></pre></div></td><td class="code"><div><pre><span></span><code>gcloud scheduler jobs delete &lt;scheduler job name&gt;
</code></pre></div></td></tr></table></div>
<h4 id="how-gcp-dataflow-stores-things">how gcp dataflow stores things<a class="headerlink" href="#how-gcp-dataflow-stores-things" title="Permanent link">#</a></h4>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span></pre></div></td><td class="code"><div><pre><span></span><code>bucket
    staging/
        job_name_uniq/
            requirements.txt
            apache_beam-2.36.0-cp38-cp38-manylinux1_x86_64.whl
            dataflow_python_sdk.tar
            excel2json_3-0.1.6-py3-none-any.whl
            extra_packages.txt
            pickled_main_session                                # python pickled data of __main__ context
            pipeline.pb                                         # python pickled data of whole python code
            workflow.tar.gz
    templates/
        bigquery-poc-template                                   # a json file
    tmp/
        job_name_uniq/                                          # same as staged one, but here temporary
            requirements.txt
            apache_beam-2.36.0-cp38-cp38-manylinux1_x86_64.whl
            dataflow_python_sdk.tar
            excel2json_3-0.1.6-py3-none-any.whl
            extra_packages.txt
            pickled_main_session                                # python pickled data of __main__ context
            pipeline.pb                                         # python pickled data of whole python code
            workflow.tar.gz
</code></pre></div></td></tr></table></div>
<h4 id="python-packaging">Python packaging<a class="headerlink" href="#python-packaging" title="Permanent link">#</a></h4>
<ul>
<li>use of MANIFEST.in with <code>include_package_data=True</code> vs <code>package_data={}</code><ul>
<li>Ref: https://stackoverflow.com/questions/1612733/including-non-python-files-with-setup-py</li>
<li>https://docs.python.org/3/distutils/sourcedist.html#the-manifest-in-template</li>
</ul>
</li>
</ul>
<h4 id="to">to<a class="headerlink" href="#to" title="Permanent link">#</a></h4>
<ul>
<li>mention python dependencies<ul>
<li>https://beam.apache.org/documentation/sdks/python-pipeline-dependencies/ </li>
<li>https://github.com/apache/beam/blob/master/sdks/python/apache_beam/examples/complete/juliaset/setup.py</li>
</ul>
</li>
<li>nameerror in main.py dataflow template<ul>
<li>https://cloud.google.com/dataflow/docs/resources/faq#how_do_i_handle_nameerrors<ul>
<li>use <code>save_main_session=True</code></li>
</ul>
</li>
</ul>
</li>
<li>pardo examples<ul>
<li>https://beam.apache.org/documentation/transforms/python/elementwise/pardo/</li>
</ul>
</li>
<li>job failing due to dependenciesGIT_PAGER<ul>
<li>not working with requirements mentioned inside setup.py while combination of 3 works i.e.<ul>
<li>setup.py (required if local imports)</li>
<li>extra_packages (required if local deps/.whl/tar.gz)</li>
<li>requirements_text (required if pypi/git/remote deps)</li>
<li>which contradicts https://issues.apache.org/jira/browse/BEAM-10115</li>
</ul>
</li>
<li>setup.py thing not working in flex template<ul>
<li>symptom: module not found</li>
<li>solution: use explicit <code>--setup_file</code></li>
</ul>
</li>
</ul>
</li>
<li>develop io connector<ul>
<li>https://beam.apache.org/documentation/io/developing-io-java/</li>
<li>https://www.youtube.com/watch?v=e5EdPNAw6N4</li>
<li>https://www.youtube.com/watch?v=eAN6rNc6EjE</li>
</ul>
</li>
<li>production ready arch<ul>
<li>https://cloud.google.com/architecture/building-production-ready-data-pipelines-using-dataflow-developing-and-testing</li>
<li>Use dead letter queues for error handling<ul>
<li>https://cloud.google.com/architecture/building-production-ready-data-pipelines-using-dataflow-developing-and-testing#use_dead_letter_queues</li>
</ul>
</li>
</ul>
</li>
<li>empty PCollection<ul>
<li>https://stackoverflow.com/questions/47624146/apache-beam-initialize-an-pcollection-to-empty</li>
</ul>
</li>
<li>DoFn vs PTransforms<ul>
<li>https://stackoverflow.com/questions/47706600/apache-beam-dofn-vs-ptransform</li>
</ul>
</li>
<li>catch:<ul>
<li>while running flex template, don't set runner explicitely to Dataflow otherwise another additional job gets triggered</li>
<li>by default is uses Dataflow runner only</li>
</ul>
</li>
<li>observations<ul>
<li>work user a/c started experiencing some issue, started using my personal account</li>
<li>wheel containing cloudvision-python as git dep <code>pkg @ url</code> works fine - except the kedro logging.yml part - on my personal account (see below cmd)</li>
<li>multiple <code>--extra_package</code> is allowed - incase need to pass cloudvision.whl</li>
</ul>
</li>
</ul>
<h2 id="flex-template">Flex Template<a class="headerlink" href="#flex-template" title="Permanent link">#</a></h2>
<ul>
<li>https://cloud.google.com/dataflow/docs/guides/templates/using-flex-templates#python_3</li>
</ul>
<h3 id="why_1">Why<a class="headerlink" href="#why_1" title="Permanent link">#</a></h3>
<h4 id="flex-template-over-classic-template">Flex Template over Classic Template<a class="headerlink" href="#flex-template-over-classic-template" title="Permanent link">#</a></h4>
<p>Ref: https://cloud.google.com/dataflow/docs/concepts/dataflow-templates</p>
<h3 id="what_2">What<a class="headerlink" href="#what_2" title="Permanent link">#</a></h3>
<h3 id="how_2">How<a class="headerlink" href="#how_2" title="Permanent link">#</a></h3>
<ul>
<li>Note: For readability, we recommend that you set the entry point in your Dockerfile. When ENTRYPOINT is not set, Dataflow sets the entry point to the template launcher binary based on SDK language.<ul>
<li>https://cloud.google.com/dataflow/docs/guides/templates/configuring-flex-templates</li>
</ul>
</li>
<li>allowed parameters/flags<ul>
<li>https://cloud.google.com/dataflow/docs/reference/rest/v1b3/projects.locations.flexTemplates/launch#flextemplateruntimeenvironment</li>
</ul>
</li>
</ul>
<h3 id="create_1">Create<a class="headerlink" href="#create_1" title="Permanent link">#</a></h3>
<h3 id="stage_1">Stage<a class="headerlink" href="#stage_1" title="Permanent link">#</a></h3>
<h3 id="run_1">Run<a class="headerlink" href="#run_1" title="Permanent link">#</a></h3>
<h4 id="permission-required">Permission required<a class="headerlink" href="#permission-required" title="Permanent link">#</a></h4>
<ul>
<li>for Flex templates: https://cloud.google.com/dataflow/docs/guides/templates/configuring-flex-templates#understanding_flex_template_permissions</li>
</ul>
<h4 id="allowed-env-variables">Allowed ENV variables<a class="headerlink" href="#allowed-env-variables" title="Permanent link">#</a></h4>
<ul>
<li>https://cloud.google.com/dataflow/docs/reference/rest/v1b3/projects.locations.flexTemplates/launch#flextemplateruntimeenvironment</li>
</ul>
<h3 id="build">Build<a class="headerlink" href="#build" title="Permanent link">#</a></h3>
<h4 id="allowed-optionsargsparams">Allowed options/args/params<a class="headerlink" href="#allowed-optionsargsparams" title="Permanent link">#</a></h4>
<ul>
<li>
<p>https://cloud.google.com/sdk/gcloud/reference/beta/dataflow/flex-template/build</p>
</li>
<li>
<p><code>--env</code></p>
<ul>
<li>https://cloud.google.com/sdk/gcloud/reference/beta/dataflow/flex-template/build#--env</li>
<li>Allowed ENV vars<ul>
<li>https://cloud.google.com/dataflow/docs/guides/templates/configuring-flex-templates#setting_required_dockerfile_environment_variables</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="schedule_1">Schedule<a class="headerlink" href="#schedule_1" title="Permanent link">#</a></h3>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span></pre></div></td><td class="code"><div><pre><span></span><code>$<span class="w"> </span>gcloud<span class="w"> </span>scheduler<span class="w"> </span><span class="nb">jobs</span><span class="w"> </span>create<span class="w"> </span>http<span class="w"> </span>apache-beam-eg-wordcount<span class="w"> </span><span class="se">\</span>
--location<span class="o">=</span><span class="s2">&quot;us-central1&quot;</span><span class="w"> </span><span class="se">\</span>
--description<span class="o">=</span><span class="s2">&quot;Run at every 00:00 UTC&quot;</span><span class="w"> </span><span class="se">\</span>
--uri<span class="o">=</span><span class="s2">&quot;https://dataflow.googleapis.com/v1b3/projects/apache-beam-eg/locations/us-central1/flexTemplates:launch&quot;</span><span class="w"> </span><span class="se">\</span>
--http-method<span class="o">=</span><span class="s2">&quot;post&quot;</span><span class="w"> </span><span class="se">\</span>
--headers<span class="o">=</span><span class="s2">&quot;Content-Type=application/octet-stream,User-Agent=Google-Cloud-Scheduler&quot;</span><span class="w"> </span><span class="se">\</span>
--schedule<span class="o">=</span><span class="s2">&quot;0 0 * * *&quot;</span><span class="w"> </span><span class="se">\</span>
--time-zone<span class="o">=</span><span class="s2">&quot;Etc/UTC&quot;</span><span class="w"> </span><span class="se">\</span>
--message-body<span class="o">=</span><span class="s1">&#39;{</span>
<span class="s1">    &quot;launch_parameter&quot;: {</span>
<span class="s1">        &quot;jobName&quot;: &quot;wordcount-v0-0-1&quot;,</span>
<span class="s1">        &quot;parameters&quot;: {</span>
<span class="s1">            &quot;setup_file&quot;: &quot;/dataflow/wordcount/src/setup.py&quot;</span>
<span class="s1">        },</span>
<span class="s1">        &quot;containerSpecGcsPath&quot;: &quot;gs://apache-beam-eg/dataflow/wordcount/flex_template_launcher_v0.0.1.json&quot;,</span>
<span class="s1">        &quot;environment&quot;: {</span>
<span class="s1">            &quot;sdkContainerImage&quot;: &quot;gcr.io/apache-beam-eg/dataflow/wordcount/flex_template_worker:v0.0.1&quot;,</span>
<span class="s1">            &quot;additionalExperiments&quot;: [</span>
<span class="s1">                &quot;use_runner_v2&quot;</span>
<span class="s1">            ]</span>
<span class="s1">        }</span>
<span class="s1">    }</span>
<span class="s1">}&#39;</span><span class="w"> </span><span class="se">\</span>
--oauth-service-account-email<span class="o">=</span><span class="s2">&quot;apache-beam-eg@appspot.gserviceaccount.com&quot;</span><span class="w"> </span><span class="se">\</span>
--oauth-token-scope<span class="o">=</span><span class="s2">&quot;https://www.googleapis.com/auth/cloud-platform&quot;</span>
</code></pre></div></td></tr></table></div>
<p>For more refer to <a href="/Engineering/Software-Engineering/DevOps/Clouds/gcp/#scheduler">DevOps/GCP/Scheduler</a>.</p>
<h4 id="custom-worker-image">Custom Worker Image<a class="headerlink" href="#custom-worker-image" title="Permanent link">#</a></h4>
<ul>
<li>Use mutistage Docker build<ul>
<li>https://cloud.google.com/dataflow/docs/guides/using-custom-containers?hl=en#use_a_custom_base_image_or_multi-stage_builds</li>
</ul>
</li>
</ul>
<h2 id="tech-concept">Tech Concept<a class="headerlink" href="#tech-concept" title="Permanent link">#</a></h2>
<p>https://cloud.google.com/dataflow/docs/concepts</p>
<h2 id="setup">Setup<a class="headerlink" href="#setup" title="Permanent link">#</a></h2>
<h3 id="gcp-account">GCP Account<a class="headerlink" href="#gcp-account" title="Permanent link">#</a></h3>
<ul>
<li>https://console.cloud.google.com/freetrial</li>
</ul>
<h3 id="gcloud-cli">gcloud CLI<a class="headerlink" href="#gcloud-cli" title="Permanent link">#</a></h3>
<p>Refer to <a href="/Engineering/Software-Engineering/DevOps/Clouds/gcp/#gcloud-cli">DevOps/GCP/Setup/gcloud CLI</a>.</p>
<h3 id="python-38"><code>python 3.8</code><a class="headerlink" href="#python-38" title="Permanent link">#</a></h3>
<p>Use <code>pyenve</code>/<code>conda</code> to install appropriate python version.</p>
<h2 id="apache-beam-job">Apache Beam Job<a class="headerlink" href="#apache-beam-job" title="Permanent link">#</a></h2>
<ul>
<li>https://cloud.google.com/dataflow/docs/quickstarts/quickstart-python
Follow <a href="/Engineering/Software-Engineering/Data-Engineering/apache_beam/">Apache Beam</a> to write a sample Apache Beam pipeline, run them locally using Dataflow runner.</li>
</ul>
<h2 id="authentication-authorization">Authentication &amp; Authorization<a class="headerlink" href="#authentication-authorization" title="Permanent link">#</a></h2>
<p>To run the GCP dataflow template in cloud using REST.</p>
<p>Authorization:</p>
<ul>
<li>OAuth2/OIDC scope: https://cloud.google.com/dataflow/docs/reference/rest/v1b3/projects.templates/launch</li>
</ul>
<p>Authentication:</p>
<ul>
<li>https://cloud.google.com/docs/authentication/</li>
<li>https://cloud.google.com/docs/authentication/getting-started#auth-cloud-implicit-python</li>
<li>https://stackoverflow.com/questions/57433397/how-to-authorize-an-http-post-request-to-execute-dataflow-template-with-rest-api</li>
</ul>
<h2 id="access-control-with-iam">Access Control with IAM<a class="headerlink" href="#access-control-with-iam" title="Permanent link">#</a></h2>
<p>For service accounts:</p>
<ul>
<li>https://cloud.google.com/dataflow/docs/concepts/access-control#roles</li>
</ul>
<h2 id="network-config">Network Config<a class="headerlink" href="#network-config" title="Permanent link">#</a></h2>
<ul>
<li>https://console.cloud.google.com/networking/networks/list?project=dataflow-eg</li>
</ul>
<h2 id="cicd-production-grade-best-practice">CI/CD / Production Grade / Best Practice<a class="headerlink" href="#cicd-production-grade-best-practice" title="Permanent link">#</a></h2>
<ul>
<li>https://cloud.google.com/architecture/cicd-pipeline-for-data-processing</li>
<li>https://cloud.google.com/architecture/building-production-ready-data-pipelines-using-dataflow-deploying<ul>
<li>CI/CD example<ul>
<li>https://cloud.google.com/architecture/building-production-ready-data-pipelines-using-dataflow-deploying#example_cicd_pipeline</li>
</ul>
</li>
</ul>
</li>
<li>https://medium.com/@zhongchen/dataflow-ci-cd-with-cloudbuild-1ad503c1c81</li>
<li>https://medium.com/everything-full-stack/dataflow-ci-cd-with-github-actions-65765f09713f</li>
<li>https://medium.com/@emailchhavisharma/quick-steps-to-build-deploy-dataflow-flex-templates-python-java-728fc366f0d1</li>
<li>https://github.com/kwadie/dataflow-templates-cicd</li>
<li>https://dataintegration.info/why-you-should-be-using-flex-templates-for-your-dataflow-deployments<ul>
<li>https://github.com/slilichenko/dataflow-jdbc-replication</li>
</ul>
</li>
</ul>
<h2 id="observability">Observability<a class="headerlink" href="#observability" title="Permanent link">#</a></h2>
<h3 id="monitoring-troubleshooting">Monitoring &amp; Troubleshooting<a class="headerlink" href="#monitoring-troubleshooting" title="Permanent link">#</a></h3>
<ul>
<li>https://cloud.google.com/dataflow/pipelines/dataflow-monitoring-intf</li>
<li>https://cloud.google.com/dataflow/pipelines/troubleshooting-your-pipeline</li>
<li>https://cloud.google.com/dataflow/docs/guides/profiling-a-pipeline#python</li>
</ul>
<h3 id="execution-detail">Execution Detail<a class="headerlink" href="#execution-detail" title="Permanent link">#</a></h3>
<p>https://cloud.google.com/dataflow/docs/concepts/execution-details</p>
<h2 id="faq">FAQ<a class="headerlink" href="#faq" title="Permanent link">#</a></h2>
<p>https://cloud.google.com/dataflow/docs/resources/faq</p>
<h2 id="deep">Deep<a class="headerlink" href="#deep" title="Permanent link">#</a></h2>
<ul>
<li>https://storage.googleapis.com/pub-tools-public-publication-data/pdf/41378.pdf</li>
<li>https://medium.com/@raigonjolly/dataflow-for-google-cloud-professional-data-exam-9efd59377068</li>
</ul>
<h3 id="parallelism">Parallelism<a class="headerlink" href="#parallelism" title="Permanent link">#</a></h3>
<ul>
<li>https://cloud.google.com/dataflow/docs/guides/deploying-a-pipeline#parallelization-and-distribution</li>
<li>--num_workers=1-1000|3</li>
<li>--autoscaling_algorithm=NONE|THROUGHPUT_BASED</li>
<li>max_num_workers</li>
</ul>
<h3 id="autoscaling">Autoscaling<a class="headerlink" href="#autoscaling" title="Permanent link">#</a></h3>
<ul>
<li>https://thegcpgurus.com/cloud-dataflow-how-to-implement-auto-scaling-data-pipelines/</li>
<li>https://cloud.google.com/dataflow/docs/guides/deploying-a-pipeline#batch-autoscaling</li>
<li>https://www.youtube.com/watch?v=a7CymWiX3oM&amp;t=399s</li>
</ul>
<h3 id="autoscaling-not-working">Autoscaling not working<a class="headerlink" href="#autoscaling-not-working" title="Permanent link">#</a></h3>
<ul>
<li>https://stackoverflow.com/questions/53885306/why-do-i-need-to-shuffle-my-pcollection-for-it-to-autoscale-on-cloud-dataflow</li>
</ul>
<h4 id="reshuffling">Reshuffling<a class="headerlink" href="#reshuffling" title="Permanent link">#</a></h4>
<ul>
<li>https://beam.apache.org/documentation/transforms/python/other/reshuffle/</li>
<li>https://stackoverflow.com/questions/54121642/apache-beam-dataflow-reshuffle</li>
<li>https://www.programcreek.com/python/example/122924/apache_beam.Reshuffle</li>
<li>https://beam.apache.org/releases/pydoc/current/apache_beam.transforms.util.html?highlight=reshuffle#apache_beam.transforms.util.Reshuffle</li>
<li>https://stackoverflow.com/questions/53885306/why-do-i-need-to-shuffle-my-pcollection-for-it-to-autoscale-on-cloud-dataflow</li>
<li>https://stackoverflow.com/questions/41212272/google-cloud-dataflow-consume-external-source</li>
<li>https://stackoverflow.com/questions/46116443/dataflow-streaming-job-not-scaleing-past-1-worker</li>
<li>https://stackoverflow.com/questions/46807450/scaling-of-pardo-transforms-having-blocking-network-calls</li>
<li>https://stackoverflow.com/questions/41268877/dataflow-is-it-possible-to-run-parts-of-the-pipeline-synchronously-and-other-pa</li>
</ul>
<h3 id="optimization">Optimization<a class="headerlink" href="#optimization" title="Permanent link">#</a></h3>
<ul>
<li>https://www.carted.com/blog/improving-dataflow-pipelines-for-text-data-processing/</li>
<li>https://cloud.google.com/dataflow/docs/concepts/execution-details</li>
</ul>
<h2 id="references">References<a class="headerlink" href="#references" title="Permanent link">#</a></h2>
<ul>
<li>external<ul>
<li>https://medium.com/@zhongchen/schedule-your-dataflow-batch-jobs-with-cloud-scheduler-8390e0e958eb<ul>
<li>https://github.com/zhongchen/GCP-Demo/tree/master/demos/scheduler-dataflow-demo/terraform</li>
</ul>
</li>
<li>https://medium.com/@jamesmoore255/creating-a-template-for-the-python-cloud-dataflow-sdk-2fe36cc4167f</li>
</ul>
</li>
<li>google<ul>
<li><a href="https://cloud.google.com/products/calculator">pricing calc</a></li>
</ul>
</li>
</ul>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../../../..", "features": [], "search": "../../../../assets/javascripts/workers/search.6ce7567c.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../../../assets/javascripts/bundle.83f73b43.min.js"></script>
      
        <script src="../../../../javascripts/config.js"></script>
      
        <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
      
    
  </body>
</html>