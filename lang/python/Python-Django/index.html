
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <meta name="author" content="Toran Sahu <toran.sahu@yahoo.com>">
      
      
      <link rel="shortcut icon" href="../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.1.2, mkdocs-material-6.2.5">
    
    
      
        <title>Python Django - Toran's Notes</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.15aa0b43.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.75751829.min.css">
        
      
    
    
    
      
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>body,input{font-family:"Roboto",-apple-system,BlinkMacSystemFont,Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono",SFMono-Regular,Consolas,Menlo,monospace}</style>
      
    
    
    
    
      
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="none" data-md-color-accent="none">
      
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#intro" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid" aria-label="Header">
    <a href="../../.." title="Toran&#39;s Notes" class="md-header-nav__button md-logo" aria-label="Toran's Notes">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 003-3 3 3 0 00-3-3 3 3 0 00-3 3 3 3 0 003 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    <label class="md-header-nav__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header-nav__title" data-md-component="header-title">
      <div class="md-header-nav__ellipsis">
        <div class="md-header-nav__topic">
          <span class="md-ellipsis">
            Toran's Notes
          </span>
        </div>
        <div class="md-header-nav__topic">
          <span class="md-ellipsis">
            
              Python Django
            
          </span>
        </div>
      </div>
    </div>
    
      <label class="md-header-nav__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" data-md-state="active" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <button type="reset" class="md-search__icon md-icon" aria-label="Clear" data-md-component="search-reset" tabindex="-1">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header-nav__source">
        
<a href="https://github.com/toransahu/notes/" title="Go to repository" class="md-source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    




<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="Toran&#39;s Notes" class="md-nav__button md-logo" aria-label="Toran's Notes">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 003-3 3 3 0 00-3-3 3 3 0 00-3 3 3 3 0 003 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    Toran's Notes
  </label>
  
    <div class="md-nav__source">
      
<a href="https://github.com/toransahu/notes/" title="Go to repository" class="md-source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  
  
  
    <li class="md-nav__item">
      <a href="../../.." class="md-nav__link">
        Home
      </a>
    </li>
  

    
      
      
      


  
  
  
    <li class="md-nav__item">
      <a href="../../../Blockchain/" class="md-nav__link">
        Blockchain
      </a>
    </li>
  

    
      
      
      


  
  
  
    <li class="md-nav__item">
      <a href="../../../Git/" class="md-nav__link">
        Git
      </a>
    </li>
  

    
      
      
      


  
  
  
    <li class="md-nav__item">
      <a href="../../../Maths/" class="md-nav__link">
        Maths
      </a>
    </li>
  

    
      
      
      


  
  
  
    <li class="md-nav__item">
      <a href="../../../Projects/" class="md-nav__link">
        Projects
      </a>
    </li>
  

    
      
      
      


  
  
  
    <li class="md-nav__item">
      <a href="../../../android/" class="md-nav__link">
        Android
      </a>
    </li>
  

    
      
      
      


  
  
  
    <li class="md-nav__item">
      <a href="../../../linux/" class="md-nav__link">
        Linux
      </a>
    </li>
  

    
      
      
      


  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="nav-8" type="checkbox" id="nav-8" >
      
      <label class="md-nav__link" for="nav-8">
        Api
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Api" data-md-level="1">
        <label class="md-nav__title" for="nav-8">
          <span class="md-nav__icon md-icon"></span>
          Api
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../api/GraphQL/" class="md-nav__link">
        GraphQL
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../api/REST/" class="md-nav__link">
        REST
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      


  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="nav-9" type="checkbox" id="nav-9" >
      
      <label class="md-nav__link" for="nav-9">
        Cs fundamentals
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Cs fundamentals" data-md-level="1">
        <label class="md-nav__title" for="nav-9">
          <span class="md-nav__icon md-icon"></span>
          Cs fundamentals
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../cs-fundamentals/Algo/" class="md-nav__link">
        Algo
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../cs-fundamentals/CS-Dictionary/" class="md-nav__link">
        CS Dictionary
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../cs-fundamentals/DBMS/" class="md-nav__link">
        DBMS
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../cs-fundamentals/DS/" class="md-nav__link">
        DS
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../cs-fundamentals/Network/" class="md-nav__link">
        Network
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../cs-fundamentals/OS/" class="md-nav__link">
        OS
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../cs-fundamentals/SE/" class="md-nav__link">
        SE
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../cs-fundamentals/ToC/" class="md-nav__link">
        ToC
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      


  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="nav-10" type="checkbox" id="nav-10" >
      
      <label class="md-nav__link" for="nav-10">
        Data science
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Data science" data-md-level="1">
        <label class="md-nav__title" for="nav-10">
          <span class="md-nav__icon md-icon"></span>
          Data science
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../data-science/ML-Azure/" class="md-nav__link">
        ML Azure
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      


  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="nav-11" type="checkbox" id="nav-11" >
      
      <label class="md-nav__link" for="nav-11">
        Infra
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Infra" data-md-level="1">
        <label class="md-nav__title" for="nav-11">
          <span class="md-nav__icon md-icon"></span>
          Infra
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../infra/DevOps/" class="md-nav__link">
        DevOps
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      


  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="nav-12" type="checkbox" id="nav-12" checked>
      
      <label class="md-nav__link" for="nav-12">
        Lang
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Lang" data-md-level="1">
        <label class="md-nav__title" for="nav-12">
          <span class="md-nav__icon md-icon"></span>
          Lang
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../C-C%2B%2B/" class="md-nav__link">
        C C++
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../markdown/" class="md-nav__link">
        Markdown
      </a>
    </li>
  

          
            
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="nav-12-3" type="checkbox" id="nav-12-3" >
      
      <label class="md-nav__link" for="nav-12-3">
        Golang
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Golang" data-md-level="2">
        <label class="md-nav__title" for="nav-12-3">
          <span class="md-nav__icon md-icon"></span>
          Golang
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../golang/go/" class="md-nav__link">
        Go
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

          
            
  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="nav-12-4" type="checkbox" id="nav-12-4" checked>
      
      <label class="md-nav__link" for="nav-12-4">
        Python
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Python" data-md-level="2">
        <label class="md-nav__title" for="nav-12-4">
          <span class="md-nav__icon md-icon"></span>
          Python
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../Python-Advanced/" class="md-nav__link">
        Python Advanced
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../Python-Basics/" class="md-nav__link">
        Python Basics
      </a>
    </li>
  

          
            
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Python Django
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Python Django
      </a>
      
        
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#intro" class="md-nav__link">
    Intro
  </a>
  
    <nav class="md-nav" aria-label="Intro">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#why-should-we-use-django" class="md-nav__link">
    Why should we use Django
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#mvc-architecture" class="md-nav__link">
    MVC Architecture
  </a>
  
    <nav class="md-nav" aria-label="MVC Architecture">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#models" class="md-nav__link">
    Models
  </a>
  
    <nav class="md-nav" aria-label="Models">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#fields" class="md-nav__link">
    Fields
  </a>
  
    <nav class="md-nav" aria-label="Fields">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#field-options" class="md-nav__link">
    Field Options
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#views" class="md-nav__link">
    Views
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#templates" class="md-nav__link">
    Templates
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#project-structure" class="md-nav__link">
    Project Structure
  </a>
  
    <nav class="md-nav" aria-label="Project Structure">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#wsgi-web-server-gateway-interface" class="md-nav__link">
    WSGI: Web Server Gateway Interface
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rename-django-project" class="md-nav__link">
    Rename Django Project
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#workflow" class="md-nav__link">
    Workflow
  </a>
  
    <nav class="md-nav" aria-label="Workflow">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#django-adminpy-vs-managepy" class="md-nav__link">
    django-admin.py Vs manage.py
  </a>
  
    <nav class="md-nav" aria-label="django-admin.py Vs manage.py">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#uses" class="md-nav__link">
    Uses
  </a>
  
    <nav class="md-nav" aria-label="Uses">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#clean-database" class="md-nav__link">
    Clean Database
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#load-initial-data-fixtures" class="md-nav__link">
    Load initial data / fixtures
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dump-data-save-db-data" class="md-nav__link">
    dump data / save DB data
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#check-production-readyness" class="md-nav__link">
    Check production readyness
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#run-dev-server" class="md-nav__link">
    Run Dev server
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#makemigrations-into-files" class="md-nav__link">
    makemigrations into files
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#migrate-changes-into-db" class="md-nav__link">
    migrate changes into db
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#makemigrations-into-files_1" class="md-nav__link">
    makemigrations into files
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#clean-migration-files" class="md-nav__link">
    Clean Migration Files
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#features" class="md-nav__link">
    Features
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#database" class="md-nav__link">
    Database
  </a>
  
    <nav class="md-nav" aria-label="Database">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#set-charset" class="md-nav__link">
    Set CharSet
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mysql" class="md-nav__link">
    MySQL
  </a>
  
    <nav class="md-nav" aria-label="MySQL">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#prerequisites" class="md-nav__link">
    Prerequisites
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#do-django-models-support-multiple-column-primary-keys" class="md-nav__link">
    Do Django models support multiple-column primary keys?
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#does-django-support-nosql-databases" class="md-nav__link">
    Does Django support NoSQL databases?
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#using-multiple-databases-in-django" class="md-nav__link">
    Using Multiple Databases in Django
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#migrations-in-django" class="md-nav__link">
    Migrations in Django
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#orm-object-relational-mapper" class="md-nav__link">
    ORM - Object Relational Mapper
  </a>
  
    <nav class="md-nav" aria-label="ORM - Object Relational Mapper">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#queryset-features" class="md-nav__link">
    QuerySet Features:
  </a>
  
    <nav class="md-nav" aria-label="QuerySet Features:">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#iteration" class="md-nav__link">
    Iteration
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#slicing" class="md-nav__link">
    Slicing
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#len" class="md-nav__link">
    len()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#list" class="md-nav__link">
    list()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bool" class="md-nav__link">
    bool()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#queryset-operations" class="md-nav__link">
    QuerySet Operations:
  </a>
  
    <nav class="md-nav" aria-label="QuerySet Operations:">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#field-lookups" class="md-nav__link">
    Field Lookups
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#custom-lookups-transforms" class="md-nav__link">
    Custom Lookups &amp; Transforms
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#queries-which-do-not-return-queryset" class="md-nav__link">
    queries which do not return QuerySet
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#all" class="md-nav__link">
    all()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#distinct" class="md-nav__link">
    distinct()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#filter" class="md-nav__link">
    filter()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#select_for_update" class="md-nav__link">
    select_for_update()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#raw" class="md-nav__link">
    raw()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#f" class="md-nav__link">
    F()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#order_by" class="md-nav__link">
    order_by()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#exclude" class="md-nav__link">
    exclude()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#annotate" class="md-nav__link">
    annotate()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#reverse" class="md-nav__link">
    reverse()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#values" class="md-nav__link">
    values()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#values_list" class="md-nav__link">
    values_list()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#extra" class="md-nav__link">
    extra()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#only" class="md-nav__link">
    only()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#defer" class="md-nav__link">
    defer()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dates" class="md-nav__link">
    dates()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#datetimes" class="md-nav__link">
    datetimes()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#none" class="md-nav__link">
    none()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#union" class="md-nav__link">
    union()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#intersection" class="md-nav__link">
    intersection()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#difference" class="md-nav__link">
    difference()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#select_related" class="md-nav__link">
    select_related()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#prefetch_related" class="md-nav__link">
    prefetch_related()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#using" class="md-nav__link">
    using()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#1-n-problems" class="md-nav__link">
    1 + N Problems
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#models_1" class="md-nav__link">
    Models
  </a>
  
    <nav class="md-nav" aria-label="Models">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#query-manager" class="md-nav__link">
    Query Manager
  </a>
  
    <nav class="md-nav" aria-label="Query Manager">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#manager-names" class="md-nav__link">
    Manager names
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#custom-manager" class="md-nav__link">
    Custom Manager
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#inheritance-style-in-django" class="md-nav__link">
    Inheritance style in django?
  </a>
  
    <nav class="md-nav" aria-label="Inheritance style in django?">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#abstract-base-class" class="md-nav__link">
    Abstract base class
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#multi-table-inheritance" class="md-nav__link">
    Multi-table Inheritance
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#proxy-models" class="md-nav__link">
    Proxy models
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#extend-user-model-custom-user-model" class="md-nav__link">
    Extend User Model (Custom User Model)
  </a>
  
    <nav class="md-nav" aria-label="Extend User Model (Custom User Model)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#using-a-proxy-model" class="md-nav__link">
    Using a Proxy Model
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#using-one-to-one-link-with-a-user-model-profile" class="md-nav__link">
    Using One-To-One Link with a User Model (Profile)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#creating-a-custom-user-model-extending-abstractbaseuser" class="md-nav__link">
    Creating a Custom User Model Extending AbstractBaseUser
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#creating-a-custom-user-model-extending-abstractuser" class="md-nav__link">
    Creating a Custom User Model Extending AbstractUser
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#conclusion" class="md-nav__link">
    Conclusion
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#class-meta-options" class="md-nav__link">
    class Meta Options
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#views_1" class="md-nav__link">
    Views
  </a>
  
    <nav class="md-nav" aria-label="Views">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#function-based-generic-view" class="md-nav__link">
    Function Based Generic View
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#class-based-view" class="md-nav__link">
    Class Based View
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#urls" class="md-nav__link">
    URLs
  </a>
  
    <nav class="md-nav" aria-label="URLs">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#using-view-function" class="md-nav__link">
    using view function
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#using-class-based-view" class="md-nav__link">
    using class based view
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#including-app-urls" class="md-nav__link">
    including app urls
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#django-20-using-path" class="md-nav__link">
    django 2.0: using path
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#django-19-using-url" class="md-nav__link">
    django &lt;=1.9: using url
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#static-files" class="md-nav__link">
    Static files
  </a>
  
    <nav class="md-nav" aria-label="Static files">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#in-production" class="md-nav__link">
    In Production
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#in-developement" class="md-nav__link">
    In Developement
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#templates_1" class="md-nav__link">
    Templates
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#middlewares" class="md-nav__link">
    Middlewares
  </a>
  
    <nav class="md-nav" aria-label="Middlewares">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#custom-middleware" class="md-nav__link">
    Custom Middleware
  </a>
  
    <nav class="md-nav" aria-label="Custom Middleware">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#function-based-custom-middleware" class="md-nav__link">
    Function Based Custom Middleware
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#class-based-custom-middleware" class="md-nav__link">
    Class Based Custom Middleware
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#settings" class="md-nav__link">
    Settings
  </a>
  
    <nav class="md-nav" aria-label="Settings">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#place-in-settingspy" class="md-nav__link">
    Place in settings.py
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#separated-into-production-development-environments-like" class="md-nav__link">
    Separated into production &amp; development environments like
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#strict-seperation-from-code" class="md-nav__link">
    STRICT SEPERATION FROM CODE
  </a>
  
    <nav class="md-nav" aria-label="STRICT SEPERATION FROM CODE">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#python-decouple" class="md-nav__link">
    Python Decouple
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#signals" class="md-nav__link">
    Signals
  </a>
  
    <nav class="md-nav" aria-label="Signals">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#built-in-signals" class="md-nav__link">
    Built-in Signals
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requestresponse-signals" class="md-nav__link">
    Request/Response Signals
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#way-of-connectingregistering-signals" class="md-nav__link">
    Way of connecting/registering signals
  </a>
  
    <nav class="md-nav" aria-label="Way of connecting/registering signals">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#using-signalconnect" class="md-nav__link">
    using &lt;signal&gt;.connect
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#using-receiver-decorator" class="md-nav__link">
    using receiver() decorator
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#asynchronous-signals-using-celery" class="md-nav__link">
    Asynchronous Signals Using Celery
  </a>
  
    <nav class="md-nav" aria-label="Asynchronous Signals Using Celery">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#installation" class="md-nav__link">
    Installation
  </a>
  
    <nav class="md-nav" aria-label="Installation">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#task-queue-system-celery" class="md-nav__link">
    Task Queue System - Celery
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#message-broker-system-rabbitmq" class="md-nav__link">
    Message Broker System - RabbitMQ
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#setup" class="md-nav__link">
    Setup
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#code" class="md-nav__link">
    Code
  </a>
  
    <nav class="md-nav" aria-label="Code">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#enable-celery" class="md-nav__link">
    Enable Celery
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#write-task" class="md-nav__link">
    Write Task
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#celery-vs-rabiitmq" class="md-nav__link">
    Celery vs RabiitMQ
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#state-management" class="md-nav__link">
    State Management
  </a>
  
    <nav class="md-nav" aria-label="State Management">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#theory" class="md-nav__link">
    Theory
  </a>
  
    <nav class="md-nav" aria-label="Theory">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#stateless" class="md-nav__link">
    Stateless
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#session" class="md-nav__link">
    Session
  </a>
  
    <nav class="md-nav" aria-label="Session">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#anonymous-session" class="md-nav__link">
    Anonymous Session
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#enabling-the-session" class="md-nav__link">
    Enabling the session
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#configuring-the-session-engine" class="md-nav__link">
    Configuring The Session Engine
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#using-database-backed-sessions" class="md-nav__link">
    Using Database-Backed Sessions
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#using-cached-sessions" class="md-nav__link">
    Using Cached Sessions
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#using-file-based-sessions" class="md-nav__link">
    Using File-Based Sessions
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#using-cookie-based-sessions" class="md-nav__link">
    Using Cookie-Based Sessions
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cookies" class="md-nav__link">
    Cookies
  </a>
  
    <nav class="md-nav" aria-label="Cookies">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#what" class="md-nav__link">
    What
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#why" class="md-nav__link">
    Why
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#how" class="md-nav__link">
    How
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uses_1" class="md-nav__link">
    Uses:
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cache" class="md-nav__link">
    Cache
  </a>
  
    <nav class="md-nav" aria-label="Cache">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#why_1" class="md-nav__link">
    Why
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#architecture-django-production-servers" class="md-nav__link">
    Architecture - Django Production Servers
  </a>
  
    <nav class="md-nav" aria-label="Architecture - Django Production Servers">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#web-server" class="md-nav__link">
    Web Server
  </a>
  
    <nav class="md-nav" aria-label="Web Server">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#nginx-pronounced-as-engine-x" class="md-nav__link">
    nginx (Pronounced as: Engine X)
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#application-server" class="md-nav__link">
    Application Server
  </a>
  
    <nav class="md-nav" aria-label="Application Server">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#gunicorn-pronounced-as-gee-unicorn" class="md-nav__link">
    gunicorn (Pronounced as: gee-unicorn)
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#db" class="md-nav__link">
    DB
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#asynchronous-task-queue" class="md-nav__link">
    Asynchronous Task Queue
  </a>
  
    <nav class="md-nav" aria-label="Asynchronous Task Queue">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#celery" class="md-nav__link">
    Celery
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cron-jobs" class="md-nav__link">
    Cron jobs
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#message-broker-solutions" class="md-nav__link">
    Message Broker Solutions
  </a>
  
    <nav class="md-nav" aria-label="Message Broker Solutions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#rabbitmq" class="md-nav__link">
    RabbitMQ
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#redis" class="md-nav__link">
    Redis
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#amazon-sqs" class="md-nav__link">
    Amazon SQS
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#caching-solution" class="md-nav__link">
    Caching Solution
  </a>
  
    <nav class="md-nav" aria-label="Caching Solution">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#memcached" class="md-nav__link">
    Memcached
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#monitoring" class="md-nav__link">
    Monitoring
  </a>
  
    <nav class="md-nav" aria-label="Monitoring">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#graphite" class="md-nav__link">
    Graphite
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#statsd" class="md-nav__link">
    Statsd
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sentry-logging" class="md-nav__link">
    Sentry - logging
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#new-relic" class="md-nav__link">
    New Relic
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#supervisor" class="md-nav__link">
    Supervisor
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#stack-flow" class="md-nav__link">
    Stack Flow
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#working" class="md-nav__link">
    Working
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#deployment-production-environment" class="md-nav__link">
    Deployment - Production Environment
  </a>
  
    <nav class="md-nav" aria-label="Deployment - Production Environment">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#how-to-deploy-django-application-in-production" class="md-nav__link">
    How to deploy django application in Production
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#checklist" class="md-nav__link">
    checklist
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#critical-settings" class="md-nav__link">
    critical settings
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#environment-related-settings" class="md-nav__link">
    Environment Related Settings
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#https" class="md-nav__link">
    HTTPS
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#performance-optimizations" class="md-nav__link">
    Performance Optimizations
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#error-reporting" class="md-nav__link">
    Error Reporting
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#testing" class="md-nav__link">
    Testing
  </a>
  
    <nav class="md-nav" aria-label="Testing">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#run-test-cases" class="md-nav__link">
    Run Test Cases
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#security" class="md-nav__link">
    Security
  </a>
  
    <nav class="md-nav" aria-label="Security">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#csrf-cross-site-request-forgery" class="md-nav__link">
    CSRF - Cross Site Request Forgery
  </a>
  
    <nav class="md-nav" aria-label="CSRF - Cross Site Request Forgery">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#why-csrf" class="md-nav__link">
    Why CSRF?
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#is-it-required-in-rest" class="md-nav__link">
    Is it required in REST
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#django-rest-framewok" class="md-nav__link">
    Django REST Framewok
  </a>
  
    <nav class="md-nav" aria-label="Django REST Framewok">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#some-reasons-you-might-want-to-use-rest-framework" class="md-nav__link">
    Some reasons you might want to use REST framework:
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rest-api" class="md-nav__link">
    REST API
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#http-request-methods-http-verbs" class="md-nav__link">
    HTTP Request Methods (HTTP verbs)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#http-response-codes" class="md-nav__link">
    HTTP Response Codes
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#serializers" class="md-nav__link">
    Serializers
  </a>
  
    <nav class="md-nav" aria-label="Serializers">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#implementations" class="md-nav__link">
    Implementations
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#relations" class="md-nav__link">
    Relations
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#writable-nested-serializers" class="md-nav__link">
    Writable Nested Serializers
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#class-meta-options_1" class="md-nav__link">
    class Meta Options
  </a>
  
    <nav class="md-nav" aria-label="class Meta Options">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#misc" class="md-nav__link">
    Misc
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#views_2" class="md-nav__link">
    Views
  </a>
  
    <nav class="md-nav" aria-label="Views">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#customdisable-request-methods-in-viewset" class="md-nav__link">
    Custom/Disable Request Methods in ViewSet
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mapping-for-views-from-viewset-using-as_view" class="md-nav__link">
    mapping for views from ViewSet using as_view()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#adding-custom-routesaction-to-the-existing-viewset" class="md-nav__link">
    adding custom routes/action to the existing ViewSet
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#urls_1" class="md-nav__link">
    URLs
  </a>
  
    <nav class="md-nav" aria-label="URLs">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#routers" class="md-nav__link">
    Routers
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#actions-using-base_name" class="md-nav__link">
    actions using base_name:
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#how-to-use-namespace-provided-in-url-patterns" class="md-nav__link">
    how to use namespace (provided in url patterns)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#adding-custom-routesaction-urls-to-the-existing-router-or-urlpatterns" class="md-nav__link">
    adding custom routes/action urls to the existing Router or urlpatterns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#api-versioning" class="md-nav__link">
    API Versioning
  </a>
  
    <nav class="md-nav" aria-label="API Versioning">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#configurations" class="md-nav__link">
    Configurations
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uses_2" class="md-nav__link">
    Uses
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#allow-cors-cross-origin-resource-sharing-in-drf" class="md-nav__link">
    Allow CORS (Cross Origin Resource Sharing) in DRF
  </a>
  
    <nav class="md-nav" aria-label="Allow CORS (Cross Origin Resource Sharing) in DRF">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#using-custom-middleware-class" class="md-nav__link">
    Using Custom Middleware class
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#using-package-django-cors-headers" class="md-nav__link">
    Using package django-cors-headers
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#creating-schema-from-api" class="md-nav__link">
    Creating Schema from API
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#setting-media-url-root" class="md-nav__link">
    Setting Media URL &amp; ROOT
  </a>
  
    <nav class="md-nav" aria-label="Setting Media URL &amp; ROOT">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#site-wide" class="md-nav__link">
    Site Wide
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#app-based" class="md-nav__link">
    App Based
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#permission" class="md-nav__link">
    Permission
  </a>
  
    <nav class="md-nav" aria-label="Permission">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#request-methods-level-permissions-in-viewset" class="md-nav__link">
    request methods level permissions (in ViewSet)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#objects-level-permission" class="md-nav__link">
    objects level permission
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#exceptionhttp-response" class="md-nav__link">
    Exception/Http response
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#authentication" class="md-nav__link">
    Authentication
  </a>
  
    <nav class="md-nav" aria-label="Authentication">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#basic-auth" class="md-nav__link">
    Basic Auth
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#session-auth" class="md-nav__link">
    Session Auth
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#token-auth" class="md-nav__link">
    Token Auth
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jwt-json-web-token" class="md-nav__link">
    JWT (JSON Web Token)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#django-rest-auth-register-login-logout-reset-change" class="md-nav__link">
    django-rest-auth (Register, Login, Logout, Reset, Change..)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#djoser" class="md-nav__link">
    djoser
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#email_use_ssl-true-use-any-one-from-tls-ssl" class="md-nav__link">
    EMAIL_USE_SSL = True  #Use any one from TLS, SSL
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#email_backend-djangocoremailbackendsconsoleemailbackend-for-development" class="md-nav__link">
    EMAIL_BACKEND = 'django.core.mail.backends.console.EmailBackend'  #for development
  </a>
  
    <nav class="md-nav" aria-label="EMAIL_BACKEND = 'django.core.mail.backends.console.EmailBackend'  #for development">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#django-templated-mail" class="md-nav__link">
    django-templated-mail
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#testing_1" class="md-nav__link">
    Testing
  </a>
  
    <nav class="md-nav" aria-label="Testing">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#testing-viewset-using" class="md-nav__link">
    Testing ViewSet using:
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#security_1" class="md-nav__link">
    Security
  </a>
  
    <nav class="md-nav" aria-label="Security">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#vulnerabilities" class="md-nav__link">
    Vulnerabilities
  </a>
  
    <nav class="md-nav" aria-label="Vulnerabilities">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#csrf-cross-site-request-forgery_1" class="md-nav__link">
    CSRF (Cross Site Request Forgery)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#xss-cross-site-script" class="md-nav__link">
    XSS (Cross Site Script)
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#vulnerables" class="md-nav__link">
    Vulnerables
  </a>
  
    <nav class="md-nav" aria-label="Vulnerables">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#web-client-local-session-storage" class="md-nav__link">
    Web Client Local/ Session Storage
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cookies-jwtauth" class="md-nav__link">
    Cookies (JWT/Auth)
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#misc_1" class="md-nav__link">
    Misc
  </a>
  
    <nav class="md-nav" aria-label="Misc">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#running-multiple-host-website-from-single-django-project" class="md-nav__link">
    Running Multiple Host (website) from Single Django Project
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get-request-url-string" class="md-nav__link">
    Get request URL string
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get-slugs-from-url" class="md-nav__link">
    Get slugs from url
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#microservice-based-on-rest" class="md-nav__link">
    Microservice Based on REST
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../Python-OOPs/" class="md-nav__link">
        Python OOPs
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../Python-Production-Servers/" class="md-nav__link">
        Python Production Servers
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../Python-Testing/" class="md-nav__link">
        Python Testing
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      


  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="nav-13" type="checkbox" id="nav-13" >
      
      <label class="md-nav__link" for="nav-13">
        Music
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Music" data-md-level="1">
        <label class="md-nav__title" for="nav-13">
          <span class="md-nav__icon md-icon"></span>
          Music
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../music/Piano/" class="md-nav__link">
        Piano
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#intro" class="md-nav__link">
    Intro
  </a>
  
    <nav class="md-nav" aria-label="Intro">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#why-should-we-use-django" class="md-nav__link">
    Why should we use Django
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#mvc-architecture" class="md-nav__link">
    MVC Architecture
  </a>
  
    <nav class="md-nav" aria-label="MVC Architecture">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#models" class="md-nav__link">
    Models
  </a>
  
    <nav class="md-nav" aria-label="Models">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#fields" class="md-nav__link">
    Fields
  </a>
  
    <nav class="md-nav" aria-label="Fields">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#field-options" class="md-nav__link">
    Field Options
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#views" class="md-nav__link">
    Views
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#templates" class="md-nav__link">
    Templates
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#project-structure" class="md-nav__link">
    Project Structure
  </a>
  
    <nav class="md-nav" aria-label="Project Structure">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#wsgi-web-server-gateway-interface" class="md-nav__link">
    WSGI: Web Server Gateway Interface
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rename-django-project" class="md-nav__link">
    Rename Django Project
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#workflow" class="md-nav__link">
    Workflow
  </a>
  
    <nav class="md-nav" aria-label="Workflow">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#django-adminpy-vs-managepy" class="md-nav__link">
    django-admin.py Vs manage.py
  </a>
  
    <nav class="md-nav" aria-label="django-admin.py Vs manage.py">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#uses" class="md-nav__link">
    Uses
  </a>
  
    <nav class="md-nav" aria-label="Uses">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#clean-database" class="md-nav__link">
    Clean Database
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#load-initial-data-fixtures" class="md-nav__link">
    Load initial data / fixtures
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dump-data-save-db-data" class="md-nav__link">
    dump data / save DB data
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#check-production-readyness" class="md-nav__link">
    Check production readyness
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#run-dev-server" class="md-nav__link">
    Run Dev server
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#makemigrations-into-files" class="md-nav__link">
    makemigrations into files
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#migrate-changes-into-db" class="md-nav__link">
    migrate changes into db
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#makemigrations-into-files_1" class="md-nav__link">
    makemigrations into files
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#clean-migration-files" class="md-nav__link">
    Clean Migration Files
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#features" class="md-nav__link">
    Features
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#database" class="md-nav__link">
    Database
  </a>
  
    <nav class="md-nav" aria-label="Database">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#set-charset" class="md-nav__link">
    Set CharSet
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mysql" class="md-nav__link">
    MySQL
  </a>
  
    <nav class="md-nav" aria-label="MySQL">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#prerequisites" class="md-nav__link">
    Prerequisites
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#do-django-models-support-multiple-column-primary-keys" class="md-nav__link">
    Do Django models support multiple-column primary keys?
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#does-django-support-nosql-databases" class="md-nav__link">
    Does Django support NoSQL databases?
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#using-multiple-databases-in-django" class="md-nav__link">
    Using Multiple Databases in Django
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#migrations-in-django" class="md-nav__link">
    Migrations in Django
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#orm-object-relational-mapper" class="md-nav__link">
    ORM - Object Relational Mapper
  </a>
  
    <nav class="md-nav" aria-label="ORM - Object Relational Mapper">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#queryset-features" class="md-nav__link">
    QuerySet Features:
  </a>
  
    <nav class="md-nav" aria-label="QuerySet Features:">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#iteration" class="md-nav__link">
    Iteration
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#slicing" class="md-nav__link">
    Slicing
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#len" class="md-nav__link">
    len()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#list" class="md-nav__link">
    list()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bool" class="md-nav__link">
    bool()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#queryset-operations" class="md-nav__link">
    QuerySet Operations:
  </a>
  
    <nav class="md-nav" aria-label="QuerySet Operations:">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#field-lookups" class="md-nav__link">
    Field Lookups
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#custom-lookups-transforms" class="md-nav__link">
    Custom Lookups &amp; Transforms
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#queries-which-do-not-return-queryset" class="md-nav__link">
    queries which do not return QuerySet
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#all" class="md-nav__link">
    all()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#distinct" class="md-nav__link">
    distinct()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#filter" class="md-nav__link">
    filter()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#select_for_update" class="md-nav__link">
    select_for_update()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#raw" class="md-nav__link">
    raw()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#f" class="md-nav__link">
    F()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#order_by" class="md-nav__link">
    order_by()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#exclude" class="md-nav__link">
    exclude()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#annotate" class="md-nav__link">
    annotate()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#reverse" class="md-nav__link">
    reverse()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#values" class="md-nav__link">
    values()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#values_list" class="md-nav__link">
    values_list()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#extra" class="md-nav__link">
    extra()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#only" class="md-nav__link">
    only()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#defer" class="md-nav__link">
    defer()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dates" class="md-nav__link">
    dates()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#datetimes" class="md-nav__link">
    datetimes()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#none" class="md-nav__link">
    none()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#union" class="md-nav__link">
    union()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#intersection" class="md-nav__link">
    intersection()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#difference" class="md-nav__link">
    difference()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#select_related" class="md-nav__link">
    select_related()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#prefetch_related" class="md-nav__link">
    prefetch_related()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#using" class="md-nav__link">
    using()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#1-n-problems" class="md-nav__link">
    1 + N Problems
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#models_1" class="md-nav__link">
    Models
  </a>
  
    <nav class="md-nav" aria-label="Models">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#query-manager" class="md-nav__link">
    Query Manager
  </a>
  
    <nav class="md-nav" aria-label="Query Manager">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#manager-names" class="md-nav__link">
    Manager names
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#custom-manager" class="md-nav__link">
    Custom Manager
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#inheritance-style-in-django" class="md-nav__link">
    Inheritance style in django?
  </a>
  
    <nav class="md-nav" aria-label="Inheritance style in django?">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#abstract-base-class" class="md-nav__link">
    Abstract base class
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#multi-table-inheritance" class="md-nav__link">
    Multi-table Inheritance
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#proxy-models" class="md-nav__link">
    Proxy models
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#extend-user-model-custom-user-model" class="md-nav__link">
    Extend User Model (Custom User Model)
  </a>
  
    <nav class="md-nav" aria-label="Extend User Model (Custom User Model)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#using-a-proxy-model" class="md-nav__link">
    Using a Proxy Model
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#using-one-to-one-link-with-a-user-model-profile" class="md-nav__link">
    Using One-To-One Link with a User Model (Profile)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#creating-a-custom-user-model-extending-abstractbaseuser" class="md-nav__link">
    Creating a Custom User Model Extending AbstractBaseUser
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#creating-a-custom-user-model-extending-abstractuser" class="md-nav__link">
    Creating a Custom User Model Extending AbstractUser
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#conclusion" class="md-nav__link">
    Conclusion
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#class-meta-options" class="md-nav__link">
    class Meta Options
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#views_1" class="md-nav__link">
    Views
  </a>
  
    <nav class="md-nav" aria-label="Views">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#function-based-generic-view" class="md-nav__link">
    Function Based Generic View
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#class-based-view" class="md-nav__link">
    Class Based View
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#urls" class="md-nav__link">
    URLs
  </a>
  
    <nav class="md-nav" aria-label="URLs">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#using-view-function" class="md-nav__link">
    using view function
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#using-class-based-view" class="md-nav__link">
    using class based view
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#including-app-urls" class="md-nav__link">
    including app urls
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#django-20-using-path" class="md-nav__link">
    django 2.0: using path
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#django-19-using-url" class="md-nav__link">
    django &lt;=1.9: using url
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#static-files" class="md-nav__link">
    Static files
  </a>
  
    <nav class="md-nav" aria-label="Static files">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#in-production" class="md-nav__link">
    In Production
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#in-developement" class="md-nav__link">
    In Developement
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#templates_1" class="md-nav__link">
    Templates
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#middlewares" class="md-nav__link">
    Middlewares
  </a>
  
    <nav class="md-nav" aria-label="Middlewares">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#custom-middleware" class="md-nav__link">
    Custom Middleware
  </a>
  
    <nav class="md-nav" aria-label="Custom Middleware">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#function-based-custom-middleware" class="md-nav__link">
    Function Based Custom Middleware
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#class-based-custom-middleware" class="md-nav__link">
    Class Based Custom Middleware
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#settings" class="md-nav__link">
    Settings
  </a>
  
    <nav class="md-nav" aria-label="Settings">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#place-in-settingspy" class="md-nav__link">
    Place in settings.py
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#separated-into-production-development-environments-like" class="md-nav__link">
    Separated into production &amp; development environments like
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#strict-seperation-from-code" class="md-nav__link">
    STRICT SEPERATION FROM CODE
  </a>
  
    <nav class="md-nav" aria-label="STRICT SEPERATION FROM CODE">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#python-decouple" class="md-nav__link">
    Python Decouple
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#signals" class="md-nav__link">
    Signals
  </a>
  
    <nav class="md-nav" aria-label="Signals">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#built-in-signals" class="md-nav__link">
    Built-in Signals
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requestresponse-signals" class="md-nav__link">
    Request/Response Signals
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#way-of-connectingregistering-signals" class="md-nav__link">
    Way of connecting/registering signals
  </a>
  
    <nav class="md-nav" aria-label="Way of connecting/registering signals">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#using-signalconnect" class="md-nav__link">
    using &lt;signal&gt;.connect
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#using-receiver-decorator" class="md-nav__link">
    using receiver() decorator
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#asynchronous-signals-using-celery" class="md-nav__link">
    Asynchronous Signals Using Celery
  </a>
  
    <nav class="md-nav" aria-label="Asynchronous Signals Using Celery">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#installation" class="md-nav__link">
    Installation
  </a>
  
    <nav class="md-nav" aria-label="Installation">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#task-queue-system-celery" class="md-nav__link">
    Task Queue System - Celery
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#message-broker-system-rabbitmq" class="md-nav__link">
    Message Broker System - RabbitMQ
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#setup" class="md-nav__link">
    Setup
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#code" class="md-nav__link">
    Code
  </a>
  
    <nav class="md-nav" aria-label="Code">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#enable-celery" class="md-nav__link">
    Enable Celery
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#write-task" class="md-nav__link">
    Write Task
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#celery-vs-rabiitmq" class="md-nav__link">
    Celery vs RabiitMQ
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#state-management" class="md-nav__link">
    State Management
  </a>
  
    <nav class="md-nav" aria-label="State Management">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#theory" class="md-nav__link">
    Theory
  </a>
  
    <nav class="md-nav" aria-label="Theory">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#stateless" class="md-nav__link">
    Stateless
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#session" class="md-nav__link">
    Session
  </a>
  
    <nav class="md-nav" aria-label="Session">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#anonymous-session" class="md-nav__link">
    Anonymous Session
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#enabling-the-session" class="md-nav__link">
    Enabling the session
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#configuring-the-session-engine" class="md-nav__link">
    Configuring The Session Engine
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#using-database-backed-sessions" class="md-nav__link">
    Using Database-Backed Sessions
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#using-cached-sessions" class="md-nav__link">
    Using Cached Sessions
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#using-file-based-sessions" class="md-nav__link">
    Using File-Based Sessions
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#using-cookie-based-sessions" class="md-nav__link">
    Using Cookie-Based Sessions
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cookies" class="md-nav__link">
    Cookies
  </a>
  
    <nav class="md-nav" aria-label="Cookies">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#what" class="md-nav__link">
    What
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#why" class="md-nav__link">
    Why
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#how" class="md-nav__link">
    How
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uses_1" class="md-nav__link">
    Uses:
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cache" class="md-nav__link">
    Cache
  </a>
  
    <nav class="md-nav" aria-label="Cache">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#why_1" class="md-nav__link">
    Why
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#architecture-django-production-servers" class="md-nav__link">
    Architecture - Django Production Servers
  </a>
  
    <nav class="md-nav" aria-label="Architecture - Django Production Servers">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#web-server" class="md-nav__link">
    Web Server
  </a>
  
    <nav class="md-nav" aria-label="Web Server">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#nginx-pronounced-as-engine-x" class="md-nav__link">
    nginx (Pronounced as: Engine X)
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#application-server" class="md-nav__link">
    Application Server
  </a>
  
    <nav class="md-nav" aria-label="Application Server">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#gunicorn-pronounced-as-gee-unicorn" class="md-nav__link">
    gunicorn (Pronounced as: gee-unicorn)
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#db" class="md-nav__link">
    DB
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#asynchronous-task-queue" class="md-nav__link">
    Asynchronous Task Queue
  </a>
  
    <nav class="md-nav" aria-label="Asynchronous Task Queue">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#celery" class="md-nav__link">
    Celery
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cron-jobs" class="md-nav__link">
    Cron jobs
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#message-broker-solutions" class="md-nav__link">
    Message Broker Solutions
  </a>
  
    <nav class="md-nav" aria-label="Message Broker Solutions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#rabbitmq" class="md-nav__link">
    RabbitMQ
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#redis" class="md-nav__link">
    Redis
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#amazon-sqs" class="md-nav__link">
    Amazon SQS
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#caching-solution" class="md-nav__link">
    Caching Solution
  </a>
  
    <nav class="md-nav" aria-label="Caching Solution">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#memcached" class="md-nav__link">
    Memcached
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#monitoring" class="md-nav__link">
    Monitoring
  </a>
  
    <nav class="md-nav" aria-label="Monitoring">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#graphite" class="md-nav__link">
    Graphite
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#statsd" class="md-nav__link">
    Statsd
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sentry-logging" class="md-nav__link">
    Sentry - logging
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#new-relic" class="md-nav__link">
    New Relic
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#supervisor" class="md-nav__link">
    Supervisor
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#stack-flow" class="md-nav__link">
    Stack Flow
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#working" class="md-nav__link">
    Working
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#deployment-production-environment" class="md-nav__link">
    Deployment - Production Environment
  </a>
  
    <nav class="md-nav" aria-label="Deployment - Production Environment">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#how-to-deploy-django-application-in-production" class="md-nav__link">
    How to deploy django application in Production
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#checklist" class="md-nav__link">
    checklist
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#critical-settings" class="md-nav__link">
    critical settings
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#environment-related-settings" class="md-nav__link">
    Environment Related Settings
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#https" class="md-nav__link">
    HTTPS
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#performance-optimizations" class="md-nav__link">
    Performance Optimizations
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#error-reporting" class="md-nav__link">
    Error Reporting
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#testing" class="md-nav__link">
    Testing
  </a>
  
    <nav class="md-nav" aria-label="Testing">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#run-test-cases" class="md-nav__link">
    Run Test Cases
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#security" class="md-nav__link">
    Security
  </a>
  
    <nav class="md-nav" aria-label="Security">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#csrf-cross-site-request-forgery" class="md-nav__link">
    CSRF - Cross Site Request Forgery
  </a>
  
    <nav class="md-nav" aria-label="CSRF - Cross Site Request Forgery">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#why-csrf" class="md-nav__link">
    Why CSRF?
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#is-it-required-in-rest" class="md-nav__link">
    Is it required in REST
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#django-rest-framewok" class="md-nav__link">
    Django REST Framewok
  </a>
  
    <nav class="md-nav" aria-label="Django REST Framewok">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#some-reasons-you-might-want-to-use-rest-framework" class="md-nav__link">
    Some reasons you might want to use REST framework:
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rest-api" class="md-nav__link">
    REST API
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#http-request-methods-http-verbs" class="md-nav__link">
    HTTP Request Methods (HTTP verbs)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#http-response-codes" class="md-nav__link">
    HTTP Response Codes
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#serializers" class="md-nav__link">
    Serializers
  </a>
  
    <nav class="md-nav" aria-label="Serializers">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#implementations" class="md-nav__link">
    Implementations
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#relations" class="md-nav__link">
    Relations
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#writable-nested-serializers" class="md-nav__link">
    Writable Nested Serializers
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#class-meta-options_1" class="md-nav__link">
    class Meta Options
  </a>
  
    <nav class="md-nav" aria-label="class Meta Options">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#misc" class="md-nav__link">
    Misc
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#views_2" class="md-nav__link">
    Views
  </a>
  
    <nav class="md-nav" aria-label="Views">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#customdisable-request-methods-in-viewset" class="md-nav__link">
    Custom/Disable Request Methods in ViewSet
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mapping-for-views-from-viewset-using-as_view" class="md-nav__link">
    mapping for views from ViewSet using as_view()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#adding-custom-routesaction-to-the-existing-viewset" class="md-nav__link">
    adding custom routes/action to the existing ViewSet
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#urls_1" class="md-nav__link">
    URLs
  </a>
  
    <nav class="md-nav" aria-label="URLs">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#routers" class="md-nav__link">
    Routers
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#actions-using-base_name" class="md-nav__link">
    actions using base_name:
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#how-to-use-namespace-provided-in-url-patterns" class="md-nav__link">
    how to use namespace (provided in url patterns)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#adding-custom-routesaction-urls-to-the-existing-router-or-urlpatterns" class="md-nav__link">
    adding custom routes/action urls to the existing Router or urlpatterns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#api-versioning" class="md-nav__link">
    API Versioning
  </a>
  
    <nav class="md-nav" aria-label="API Versioning">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#configurations" class="md-nav__link">
    Configurations
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uses_2" class="md-nav__link">
    Uses
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#allow-cors-cross-origin-resource-sharing-in-drf" class="md-nav__link">
    Allow CORS (Cross Origin Resource Sharing) in DRF
  </a>
  
    <nav class="md-nav" aria-label="Allow CORS (Cross Origin Resource Sharing) in DRF">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#using-custom-middleware-class" class="md-nav__link">
    Using Custom Middleware class
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#using-package-django-cors-headers" class="md-nav__link">
    Using package django-cors-headers
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#creating-schema-from-api" class="md-nav__link">
    Creating Schema from API
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#setting-media-url-root" class="md-nav__link">
    Setting Media URL &amp; ROOT
  </a>
  
    <nav class="md-nav" aria-label="Setting Media URL &amp; ROOT">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#site-wide" class="md-nav__link">
    Site Wide
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#app-based" class="md-nav__link">
    App Based
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#permission" class="md-nav__link">
    Permission
  </a>
  
    <nav class="md-nav" aria-label="Permission">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#request-methods-level-permissions-in-viewset" class="md-nav__link">
    request methods level permissions (in ViewSet)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#objects-level-permission" class="md-nav__link">
    objects level permission
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#exceptionhttp-response" class="md-nav__link">
    Exception/Http response
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#authentication" class="md-nav__link">
    Authentication
  </a>
  
    <nav class="md-nav" aria-label="Authentication">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#basic-auth" class="md-nav__link">
    Basic Auth
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#session-auth" class="md-nav__link">
    Session Auth
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#token-auth" class="md-nav__link">
    Token Auth
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jwt-json-web-token" class="md-nav__link">
    JWT (JSON Web Token)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#django-rest-auth-register-login-logout-reset-change" class="md-nav__link">
    django-rest-auth (Register, Login, Logout, Reset, Change..)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#djoser" class="md-nav__link">
    djoser
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#email_use_ssl-true-use-any-one-from-tls-ssl" class="md-nav__link">
    EMAIL_USE_SSL = True  #Use any one from TLS, SSL
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#email_backend-djangocoremailbackendsconsoleemailbackend-for-development" class="md-nav__link">
    EMAIL_BACKEND = 'django.core.mail.backends.console.EmailBackend'  #for development
  </a>
  
    <nav class="md-nav" aria-label="EMAIL_BACKEND = 'django.core.mail.backends.console.EmailBackend'  #for development">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#django-templated-mail" class="md-nav__link">
    django-templated-mail
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#testing_1" class="md-nav__link">
    Testing
  </a>
  
    <nav class="md-nav" aria-label="Testing">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#testing-viewset-using" class="md-nav__link">
    Testing ViewSet using:
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#security_1" class="md-nav__link">
    Security
  </a>
  
    <nav class="md-nav" aria-label="Security">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#vulnerabilities" class="md-nav__link">
    Vulnerabilities
  </a>
  
    <nav class="md-nav" aria-label="Vulnerabilities">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#csrf-cross-site-request-forgery_1" class="md-nav__link">
    CSRF (Cross Site Request Forgery)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#xss-cross-site-script" class="md-nav__link">
    XSS (Cross Site Script)
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#vulnerables" class="md-nav__link">
    Vulnerables
  </a>
  
    <nav class="md-nav" aria-label="Vulnerables">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#web-client-local-session-storage" class="md-nav__link">
    Web Client Local/ Session Storage
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cookies-jwtauth" class="md-nav__link">
    Cookies (JWT/Auth)
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#misc_1" class="md-nav__link">
    Misc
  </a>
  
    <nav class="md-nav" aria-label="Misc">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#running-multiple-host-website-from-single-django-project" class="md-nav__link">
    Running Multiple Host (website) from Single Django Project
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get-request-url-string" class="md-nav__link">
    Get request URL string
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get-slugs-from-url" class="md-nav__link">
    Get slugs from url
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#microservice-based-on-rest" class="md-nav__link">
    Microservice Based on REST
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/toransahu/notes/#docs/lang/python/Python-Django.md" title="Edit this page" class="md-content__button md-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"/></svg>
                  </a>
                
                
                  <h1>Python Django</h1>
                
                <div class="toc">
<ul>
<li><a href="#intro">Intro</a><ul>
<li><a href="#why-should-we-use-django">Why should we use Django</a></li>
</ul>
</li>
<li><a href="#mvc-architecture">MVC Architecture</a><ul>
<li><a href="#models">Models</a><ul>
<li><a href="#fields">Fields</a><ul>
<li><a href="#field-options">Field Options</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#views">Views</a></li>
<li><a href="#templates">Templates</a></li>
</ul>
</li>
<li><a href="#project-structure">Project Structure</a><ul>
<li><a href="#wsgi-web-server-gateway-interface">WSGI: Web Server Gateway Interface</a></li>
<li><a href="#rename-django-project">Rename Django Project</a></li>
</ul>
</li>
<li><a href="#workflow">Workflow</a><ul>
<li><a href="#django-adminpy-vs-managepy">django-admin.py Vs manage.py</a><ul>
<li><a href="#uses">Uses</a><ul>
<li><a href="#clean-database">Clean Database</a></li>
<li><a href="#load-initial-data-fixtures">Load initial data / fixtures</a></li>
<li><a href="#dump-data-save-db-data">dump data / save DB data</a></li>
<li><a href="#check-production-readyness">Check production readyness</a></li>
<li><a href="#run-dev-server">Run Dev server</a></li>
<li><a href="#makemigrations-into-files">makemigrations into files</a></li>
<li><a href="#migrate-changes-into-db">migrate changes into db</a></li>
<li><a href="#makemigrations-into-files_1">makemigrations into files</a></li>
<li><a href="#clean-migration-files">Clean Migration Files</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><a href="#features">Features</a></li>
<li><a href="#database">Database</a><ul>
<li><a href="#set-charset">Set CharSet</a></li>
<li><a href="#mysql">MySQL</a><ul>
<li><a href="#prerequisites">Prerequisites</a></li>
</ul>
</li>
<li><a href="#do-django-models-support-multiple-column-primary-keys">Do Django models support multiple-column primary keys?</a></li>
<li><a href="#does-django-support-nosql-databases">Does Django support NoSQL databases?</a></li>
<li><a href="#using-multiple-databases-in-django">Using Multiple Databases in Django</a></li>
<li><a href="#migrations-in-django">Migrations in Django</a></li>
</ul>
</li>
<li><a href="#orm-object-relational-mapper">ORM - Object Relational Mapper</a><ul>
<li><a href="#queryset-features">QuerySet Features:</a><ul>
<li><a href="#iteration">Iteration</a></li>
<li><a href="#slicing">Slicing</a></li>
<li><a href="#len">len()</a></li>
<li><a href="#list">list()</a></li>
<li><a href="#bool">bool()</a></li>
</ul>
</li>
<li><a href="#queryset-operations">QuerySet Operations:</a><ul>
<li><a href="#field-lookups">Field Lookups</a></li>
<li><a href="#custom-lookups-transforms">Custom Lookups &amp; Transforms</a></li>
<li><a href="#queries-which-do-not-return-queryset">queries which do not return QuerySet</a></li>
<li><a href="#all">all()</a></li>
<li><a href="#distinct">distinct()</a></li>
<li><a href="#filter">filter()</a></li>
<li><a href="#select_for_update">select_for_update()</a></li>
<li><a href="#raw">raw()</a></li>
<li><a href="#f">F()</a></li>
<li><a href="#order_by">order_by()</a></li>
<li><a href="#exclude">exclude()</a></li>
<li><a href="#annotate">annotate()</a></li>
<li><a href="#reverse">reverse()</a></li>
<li><a href="#values">values()</a></li>
<li><a href="#values_list">values_list()</a></li>
<li><a href="#extra">extra()</a></li>
<li><a href="#only">only()</a></li>
<li><a href="#defer">defer()</a></li>
<li><a href="#dates">dates()</a></li>
<li><a href="#datetimes">datetimes()</a></li>
<li><a href="#none">none()</a></li>
<li><a href="#union">union()</a></li>
<li><a href="#intersection">intersection()</a></li>
<li><a href="#difference">difference()</a></li>
<li><a href="#select_related">select_related()</a></li>
<li><a href="#prefetch_related">prefetch_related()</a></li>
<li><a href="#using">using()</a></li>
</ul>
</li>
<li><a href="#1-n-problems">1 + N Problems</a></li>
</ul>
</li>
<li><a href="#models_1">Models</a><ul>
<li><a href="#query-manager">Query Manager</a><ul>
<li><a href="#manager-names">Manager names</a></li>
<li><a href="#custom-manager">Custom Manager</a></li>
</ul>
</li>
<li><a href="#inheritance-style-in-django">Inheritance style in django?</a><ul>
<li><a href="#abstract-base-class">Abstract base class</a></li>
<li><a href="#multi-table-inheritance">Multi-table Inheritance</a></li>
<li><a href="#proxy-models">Proxy models</a></li>
</ul>
</li>
<li><a href="#extend-user-model-custom-user-model">Extend User Model (Custom User Model)</a><ul>
<li><a href="#using-a-proxy-model">Using a Proxy Model</a></li>
<li><a href="#using-one-to-one-link-with-a-user-model-profile">Using One-To-One Link with a User Model (Profile)</a></li>
<li><a href="#creating-a-custom-user-model-extending-abstractbaseuser">Creating a Custom User Model Extending AbstractBaseUser</a></li>
<li><a href="#creating-a-custom-user-model-extending-abstractuser">Creating a Custom User Model Extending AbstractUser</a></li>
<li><a href="#conclusion">Conclusion</a></li>
</ul>
</li>
<li><a href="#class-meta-options">class Meta Options</a></li>
</ul>
</li>
<li><a href="#views_1">Views</a><ul>
<li><a href="#function-based-generic-view">Function Based Generic View</a></li>
<li><a href="#class-based-view">Class Based View</a></li>
</ul>
</li>
<li><a href="#urls">URLs</a><ul>
<li><a href="#using-view-function">using view function</a></li>
<li><a href="#using-class-based-view">using class based view</a></li>
<li><a href="#including-app-urls">including app urls</a></li>
<li><a href="#django-20-using-path">django 2.0: using path</a></li>
<li><a href="#django-19-using-url">django &lt;=1.9: using url</a></li>
</ul>
</li>
<li><a href="#static-files">Static files</a><ul>
<li><a href="#in-production">In Production</a></li>
<li><a href="#in-developement">In Developement</a></li>
</ul>
</li>
<li><a href="#templates_1">Templates</a></li>
<li><a href="#middlewares">Middlewares</a><ul>
<li><a href="#custom-middleware">Custom Middleware</a><ul>
<li><a href="#function-based-custom-middleware">Function Based Custom Middleware</a></li>
<li><a href="#class-based-custom-middleware">Class Based Custom Middleware</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#settings">Settings</a><ul>
<li><a href="#place-in-settingspy">Place in settings.py</a></li>
<li><a href="#separated-into-production-development-environments-like">Separated into production &amp; development environments like</a></li>
<li><a href="#strict-seperation-from-code">STRICT SEPERATION FROM CODE</a><ul>
<li><a href="#python-decouple">Python Decouple</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#signals">Signals</a><ul>
<li><a href="#built-in-signals">Built-in Signals</a></li>
<li><a href="#requestresponse-signals">Request/Response Signals</a></li>
<li><a href="#way-of-connectingregistering-signals">Way of connecting/registering signals</a><ul>
<li><a href="#using-signalconnect">using &lt;signal&gt;.connect</a></li>
<li><a href="#using-receiver-decorator">using receiver() decorator</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#asynchronous-signals-using-celery">Asynchronous Signals Using Celery</a><ul>
<li><a href="#installation">Installation</a><ul>
<li><a href="#task-queue-system-celery">Task Queue System - Celery</a></li>
<li><a href="#message-broker-system-rabbitmq">Message Broker System - RabbitMQ</a></li>
</ul>
</li>
<li><a href="#setup">Setup</a></li>
<li><a href="#code">Code</a><ul>
<li><a href="#enable-celery">Enable Celery</a></li>
<li><a href="#write-task">Write Task</a></li>
</ul>
</li>
<li><a href="#celery-vs-rabiitmq">Celery vs RabiitMQ</a></li>
</ul>
</li>
<li><a href="#state-management">State Management</a><ul>
<li><a href="#theory">Theory</a><ul>
<li><a href="#stateless">Stateless</a></li>
</ul>
</li>
<li><a href="#session">Session</a><ul>
<li><a href="#anonymous-session">Anonymous Session</a></li>
<li><a href="#enabling-the-session">Enabling the session</a></li>
<li><a href="#configuring-the-session-engine">Configuring The Session Engine</a></li>
<li><a href="#using-database-backed-sessions">Using Database-Backed Sessions</a></li>
<li><a href="#using-cached-sessions">Using Cached Sessions</a></li>
<li><a href="#using-file-based-sessions">Using File-Based Sessions</a></li>
<li><a href="#using-cookie-based-sessions">Using Cookie-Based Sessions</a></li>
</ul>
</li>
<li><a href="#cookies">Cookies</a><ul>
<li><a href="#what">What</a></li>
<li><a href="#why">Why</a></li>
<li><a href="#how">How</a></li>
<li><a href="#uses_1">Uses:</a></li>
</ul>
</li>
<li><a href="#cache">Cache</a><ul>
<li><a href="#why_1">Why</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#architecture-django-production-servers">Architecture - Django Production Servers</a><ul>
<li><a href="#web-server">Web Server</a><ul>
<li><a href="#nginx-pronounced-as-engine-x">nginx (Pronounced as: Engine X)</a></li>
</ul>
</li>
<li><a href="#application-server">Application Server</a><ul>
<li><a href="#gunicorn-pronounced-as-gee-unicorn">gunicorn (Pronounced as: gee-unicorn)</a></li>
</ul>
</li>
<li><a href="#db">DB</a></li>
<li><a href="#asynchronous-task-queue">Asynchronous Task Queue</a><ul>
<li><a href="#celery">Celery</a></li>
<li><a href="#cron-jobs">Cron jobs</a></li>
</ul>
</li>
<li><a href="#message-broker-solutions">Message Broker Solutions</a><ul>
<li><a href="#rabbitmq">RabbitMQ</a></li>
<li><a href="#redis">Redis</a></li>
<li><a href="#amazon-sqs">Amazon SQS</a></li>
</ul>
</li>
<li><a href="#caching-solution">Caching Solution</a><ul>
<li><a href="#memcached">Memcached</a></li>
</ul>
</li>
<li><a href="#monitoring">Monitoring</a><ul>
<li><a href="#graphite">Graphite</a></li>
<li><a href="#statsd">Statsd</a></li>
<li><a href="#sentry-logging">Sentry - logging</a></li>
<li><a href="#new-relic">New Relic</a></li>
<li><a href="#supervisor">Supervisor</a></li>
</ul>
</li>
<li><a href="#stack-flow">Stack Flow</a></li>
<li><a href="#working">Working</a></li>
</ul>
</li>
<li><a href="#deployment-production-environment">Deployment - Production Environment</a><ul>
<li><a href="#how-to-deploy-django-application-in-production">How to deploy django application in Production</a></li>
<li><a href="#checklist">checklist</a></li>
<li><a href="#critical-settings">critical settings</a></li>
<li><a href="#environment-related-settings">Environment Related Settings</a></li>
<li><a href="#https">HTTPS</a></li>
<li><a href="#performance-optimizations">Performance Optimizations</a></li>
<li><a href="#error-reporting">Error Reporting</a></li>
</ul>
</li>
<li><a href="#testing">Testing</a><ul>
<li><a href="#run-test-cases">Run Test Cases</a></li>
</ul>
</li>
<li><a href="#security">Security</a><ul>
<li><a href="#csrf-cross-site-request-forgery">CSRF - Cross Site Request Forgery</a><ul>
<li><a href="#why-csrf">Why CSRF?</a></li>
<li><a href="#is-it-required-in-rest">Is it required in REST</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#django-rest-framewok">Django REST Framewok</a><ul>
<li><a href="#some-reasons-you-might-want-to-use-rest-framework">Some reasons you might want to use REST framework:</a></li>
<li><a href="#rest-api">REST API</a></li>
<li><a href="#http-request-methods-http-verbs">HTTP Request Methods (HTTP verbs)</a></li>
<li><a href="#http-response-codes">HTTP Response Codes</a></li>
<li><a href="#serializers">Serializers</a><ul>
<li><a href="#implementations">Implementations</a></li>
<li><a href="#relations">Relations</a></li>
<li><a href="#writable-nested-serializers">Writable Nested Serializers</a></li>
<li><a href="#class-meta-options_1">class Meta Options</a><ul>
<li><a href="#misc">Misc</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#views_2">Views</a><ul>
<li><a href="#customdisable-request-methods-in-viewset">Custom/Disable Request Methods in ViewSet</a></li>
<li><a href="#mapping-for-views-from-viewset-using-as_view">mapping for views from ViewSet using as_view()</a></li>
<li><a href="#adding-custom-routesaction-to-the-existing-viewset">adding custom routes/action to the existing ViewSet</a></li>
</ul>
</li>
<li><a href="#urls_1">URLs</a><ul>
<li><a href="#routers">Routers</a></li>
<li><a href="#actions-using-base_name">actions using base_name:</a></li>
<li><a href="#how-to-use-namespace-provided-in-url-patterns">how to use namespace (provided in url patterns)</a></li>
<li><a href="#adding-custom-routesaction-urls-to-the-existing-router-or-urlpatterns">adding custom routes/action urls to the existing Router or urlpatterns</a></li>
</ul>
</li>
<li><a href="#api-versioning">API Versioning</a><ul>
<li><a href="#configurations">Configurations</a></li>
<li><a href="#uses_2">Uses</a></li>
</ul>
</li>
<li><a href="#allow-cors-cross-origin-resource-sharing-in-drf">Allow CORS (Cross Origin Resource Sharing) in DRF</a><ul>
<li><a href="#using-custom-middleware-class">Using Custom Middleware class</a></li>
<li><a href="#using-package-django-cors-headers">Using package django-cors-headers</a></li>
</ul>
</li>
<li><a href="#creating-schema-from-api">Creating Schema from API</a></li>
<li><a href="#setting-media-url-root">Setting Media URL &amp; ROOT</a><ul>
<li><a href="#site-wide">Site Wide</a></li>
<li><a href="#app-based">App Based</a></li>
</ul>
</li>
<li><a href="#permission">Permission</a><ul>
<li><a href="#request-methods-level-permissions-in-viewset">request methods level permissions (in ViewSet)</a></li>
<li><a href="#objects-level-permission">objects level permission</a></li>
<li><a href="#exceptionhttp-response">Exception/Http response</a></li>
</ul>
</li>
<li><a href="#authentication">Authentication</a><ul>
<li><a href="#basic-auth">Basic Auth</a></li>
<li><a href="#session-auth">Session Auth</a></li>
<li><a href="#token-auth">Token Auth</a></li>
<li><a href="#jwt-json-web-token">JWT (JSON Web Token)</a></li>
<li><a href="#django-rest-auth-register-login-logout-reset-change">django-rest-auth (Register, Login, Logout, Reset, Change..)</a></li>
<li><a href="#djoser">djoser</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#email_use_ssl-true-use-any-one-from-tls-ssl">EMAIL_USE_SSL = True  #Use any one from TLS, SSL</a></li>
<li><a href="#email_backend-djangocoremailbackendsconsoleemailbackend-for-development">EMAIL_BACKEND = 'django.core.mail.backends.console.EmailBackend'  #for development</a><ul>
<li><a href="#django-templated-mail">django-templated-mail</a></li>
<li><a href="#testing_1">Testing</a><ul>
<li><a href="#testing-viewset-using">Testing ViewSet using:</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#security_1">Security</a><ul>
<li><a href="#vulnerabilities">Vulnerabilities</a><ul>
<li><a href="#csrf-cross-site-request-forgery_1">CSRF (Cross Site Request Forgery)</a></li>
<li><a href="#xss-cross-site-script">XSS (Cross Site Script)</a></li>
</ul>
</li>
<li><a href="#vulnerables">Vulnerables</a><ul>
<li><a href="#web-client-local-session-storage">Web Client Local/ Session Storage</a></li>
<li><a href="#cookies-jwtauth">Cookies (JWT/Auth)</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#misc_1">Misc</a><ul>
<li><a href="#running-multiple-host-website-from-single-django-project">Running Multiple Host (website) from Single Django Project</a></li>
<li><a href="#get-request-url-string">Get request URL string</a></li>
<li><a href="#get-slugs-from-url">Get slugs from url</a></li>
<li><a href="#microservice-based-on-rest">Microservice Based on REST</a></li>
</ul>
</li>
</ul>
</div>
<p>To Do:
* Project Structure
    * REST App
    * App
* Working: Re-phrase
* Django Form
* UUID</p>
<p>Source:
* https://docs.djangoproject.com/en/1.11/contents/
* https://docs.djangoproject.com/en/1.11/topics/
* https://www.ibm.com/developerworks/library/os-django/index.html
* https://www.edureka.co/blog/django-tutorial/</p>
<h2 id="intro">Intro<a class="headerlink" href="#intro" title="Permanent link">#</a></h2>
<ul>
<li>Django is an open source Web development framework for the Python</li>
<li>Designed to be loosely coupled and tightly cohesive, meaning that different parts of the framework, while connected to one another, are not dependent on one another</li>
<li>DRY principle</li>
</ul>
<h3 id="why-should-we-use-django">Why should we use Django<a class="headerlink" href="#why-should-we-use-django" title="Permanent link">#</a></h3>
<ul>
<li>modular</li>
<li>ease the administration by auto-generated web admin</li>
<li>pre-packaged APIs</li>
<li>template system to avoid code duplication</li>
<li>enables to define URL for gives function</li>
<li>seperates business logic from HTML</li>
<li>everything is in python</li>
</ul>
<h2 id="mvc-architecture">MVC Architecture<a class="headerlink" href="#mvc-architecture" title="Permanent link">#</a></h2>
<ul>
<li>MTV - Model, Template, View</li>
<li>Similar to MVC</li>
</ul>
<h3 id="models">Models<a class="headerlink" href="#models" title="Permanent link">#</a></h3>
<ul>
<li>Describes database schema &amp; data structure</li>
</ul>
<h4 id="fields">Fields<a class="headerlink" href="#fields" title="Permanent link">#</a></h4>
<ul>
<li>BinaryField</li>
<li>BigAutoField</li>
<li>BigIntegerField</li>
<li>CharField</li>
<li>DateField</li>
<li>DateTimeField</li>
<li>DecimalField</li>
<li>DurationFields</li>
<li>EmailField</li>
<li>IntegerField</li>
<li>BooleanField</li>
<li>TextField</li>
<li>ImageField</li>
<li>FileField</li>
<li>FilePathField</li>
<li>FloatField</li>
<li>GenericIPAddressField</li>
<li>
<p>AutoField</p>
</li>
<li>
<p>ForeignKey</p>
<ul>
<li>ManytoOne solution</li>
</ul>
</li>
<li>ManyToMany</li>
<li>
<p>OneToOne</p>
</li>
<li>
<p>SlugField</p>
</li>
<li>TimeField</li>
<li>URLField</li>
<li>UUIDField</li>
</ul>
<h5 id="field-options">Field Options<a class="headerlink" href="#field-options" title="Permanent link">#</a></h5>
<ul>
<li>blank</li>
<li>null</li>
<li>primary_key</li>
<li>max_length</li>
<li>choices</li>
<li>validators</li>
<li>db_columns</li>
<li>db_index</li>
<li>db_tablespace</li>
<li>default</li>
<li>editable</li>
<li>help_text</li>
<li>error_messages</li>
<li>auto_now</li>
<li>auto_now_add</li>
<li>unique</li>
<li>unique_for_date</li>
<li>unique_for_month</li>
<li>unique_for_year</li>
<li>verbose_name</li>
</ul>
<h3 id="views">Views<a class="headerlink" href="#views" title="Permanent link">#</a></h3>
<ul>
<li>Same as Controller in MVC</li>
<li>Controls what a user sees</li>
<li>it retrieves data from appropriate model, executes any calculation on data and pass it to template</li>
<li>5 Module Name: HttpResponse, template.render(templatename),from django.shortcuts import render(req,temp_name,context), get_object_or_404,</li>
</ul>
<h3 id="templates">Templates<a class="headerlink" href="#templates" title="Permanent link">#</a></h3>
<ul>
<li>Same as View in MVC</li>
<li>describes how user sees data &amp; info</li>
<li>describes how tha data recieved from views should be changed/formatted for display on the page</li>
</ul>
<p><strong>Note:</strong>  According to Django the framework + URL config feature itself is known as <strong>Controller.</strong></p>
<p><img alt="arch" src="https://cdn.edureka.co/blog/wp-content/uploads/2017/08/Architecture-Django-Tutorial-Edureka-1.png" /></p>
<h2 id="project-structure">Project Structure<a class="headerlink" href="#project-structure" title="Permanent link">#</a></h2>
<pre><code class="language-HTTP">                             Project (just a container)/
                             |  
                             |-----project/
                             |     |--__init__.py 
                             |     |--settings.py
                             |     |--urls.py
                             |     --wsgi.py
                             |
                             |-----app1/  
                             |  
                             |  
                             |  
                             |-----app2-RESTful/  
                             |  
                             |  
                             |  
                             |-----manage.py  
                             |  
                             |  
                             |  
                             -----db.sqlite3  
</code></pre>
<ul>
<li>Project: main project package<ul>
<li>settings.py: python module (module level) represents django settings</li>
<li>urls.py: represents site-wide urls configuration (includes apps also)</li>
<li>wsgi.py: Web-server-gateway-interface: djangos's primary deployement platform<ul>
<li>wsgi.py gets created on "startproject"</li>
<li>contains "application" callable &amp; "DJANGO_SETTINGS_MODULE" django setting eviroment variable<ul>
<li>DJANGO_SETTINGS_MODULE: locates setting file, default: project_name.settings.py</li>
<li>application: used by server to communicate with code, default: get_wsgi_application()</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>App1</li>
<li>App2- REST-ful</li>
</ul>
<h3 id="wsgi-web-server-gateway-interface">WSGI: Web Server Gateway Interface<a class="headerlink" href="#wsgi-web-server-gateway-interface" title="Permanent link">#</a></h3>
<ul>
<li>an interface between web server &amp; application</li>
<li>contains some statements, set of rules</li>
<li>its not a software/library/framework</li>
<li>WSGI compliant server will able to communicate with a WSGI compliant web app</li>
<li>in WSGI, WSGI application has to be callable &amp; it needs to be given to web server, so web server can call web application whenever it receives a request</li>
</ul>
<h3 id="rename-django-project">Rename Django Project<a class="headerlink" href="#rename-django-project" title="Permanent link">#</a></h3>
<ul>
<li>Your django project structure</li>
</ul>
<pre><code>ProjectName/
         manage.py 
         ProjectName/ 
                 __init__.py 
                 settings.py 
                 urls.py 
                 wsgi.py
</code></pre>
<ul>
<li>changes required at 4 places<ul>
<li>settings.py</li>
</ul>
</li>
</ul>
<pre><code>ROOT_URLCONF = 'NewProjectName.urls'
WSGI_APPLICATION = 'NewProjectName.wsgi.application'
</code></pre>
<pre><code>- wsgi.py
</code></pre>
<pre><code>os.environ.setdefault(&quot;DJANGO_SETTINGS_MODULE&quot;, &quot;NewProjectName.settings&quot;)
</code></pre>
<pre><code>- manage.py
</code></pre>
<pre><code>os.environ.setdefault(&quot;DJANGO_SETTINGS_MODULE&quot;, &quot;NewProjectName.settings&quot;)
</code></pre>
<h2 id="workflow">Workflow<a class="headerlink" href="#workflow" title="Permanent link">#</a></h2>
<ol>
<li>
<p>runserver --&gt; web-server gateway interface WSGI--&gt; DJANGO_SETTING_MODULE env var --&gt;by default project.Setting.py (site folder) --&gt; ROOT_URLCONF --&gt; url.py (site url file location) --&gt;</p>
</li>
<li>
<p>Browser --&gt; URL --&gt; DNS + PortNo from application (protocol based)--&gt; IP + port --&gt; http request--&gt; Server --&gt;web-server gateway interface WSGI--&gt; DJANGO_SETTING_MODULE env var --&gt;by default project.Setting.py (site folder) --&gt; ROOT_URLCONF --&gt; url.py (site url file location) --&gt; urlpattern --&gt; url scanning --&gt; matched view --&gt; model + http response + template --&gt; web page</p>
</li>
</ol>
<h3 id="django-adminpy-vs-managepy">django-admin.py Vs manage.py<a class="headerlink" href="#django-adminpy-vs-managepy" title="Permanent link">#</a></h3>
<ul>
<li>Django-admin.py: It is a Django's command line utility for administrative tasks.</li>
<li>Manage.py: It is an automatically created file in each Django project. It is a thin wrapper around the Django-admin.py.</li>
</ul>
<h4 id="uses">Uses<a class="headerlink" href="#uses" title="Permanent link">#</a></h4>
<h5 id="clean-database">Clean Database<a class="headerlink" href="#clean-database" title="Permanent link">#</a></h5>
<pre><code class="language-bash">python manage.py flush
</code></pre>
<h5 id="load-initial-data-fixtures">Load initial data / fixtures<a class="headerlink" href="#load-initial-data-fixtures" title="Permanent link">#</a></h5>
<ul>
<li>src: https://coderwall.com/p/mvsoyg/django-dumpdata-and-loaddata</li>
</ul>
<pre><code class="language-bash">
#prerequisites- &lt;app_dir&gt;/&lt;fixtures&gt;/&lt;fixture_file.json&gt;
#else provide fixture files path
python manage.py loaddata &lt;fixture_file_name&gt;
</code></pre>
<h5 id="dump-data-save-db-data">dump data / save DB data<a class="headerlink" href="#dump-data-save-db-data" title="Permanent link">#</a></h5>
<ul>
<li>src: https://coderwall.com/p/mvsoyg/django-dumpdata-and-loaddata</li>
</ul>
<pre><code class="language-bash">#whole db
python manage.py dumpdata &gt; [db.json]

#app wise
python manage.py dumpdata [app_name] &gt; [app.json]

#table/model wise
python manage.py dumpdata [app.model (in small)] &gt; [app_model.json]

#exclude some table
python manage.py dumpdata --exclude [app.model (in small)] &gt; [db.json]

#specify indentation
python manage.py dumpdata --indent 4 &gt; [db.json]

#specify output format
python manage.py dumpdata --format [json/xml/yaml] &gt; [db.json]


#backup whole db fresh (without any Integrity Issue)
python manage.py dumpdata --exclude auth.permission --exclude contenttypes &gt; db.json
</code></pre>
<h5 id="check-production-readyness">Check production readyness<a class="headerlink" href="#check-production-readyness" title="Permanent link">#</a></h5>
<pre><code class="language-bash">python manage.py check --deploy 
</code></pre>
<h5 id="run-dev-server">Run Dev server<a class="headerlink" href="#run-dev-server" title="Permanent link">#</a></h5>
<pre><code class="language-bash">python manage.py runserver 0.0.0.0:8000
</code></pre>
<h5 id="makemigrations-into-files">makemigrations into files<a class="headerlink" href="#makemigrations-into-files" title="Permanent link">#</a></h5>
<pre><code class="language-bash">python manage.py makemifrations &lt;app_name&gt;
</code></pre>
<h5 id="migrate-changes-into-db">migrate changes into db<a class="headerlink" href="#migrate-changes-into-db" title="Permanent link">#</a></h5>
<pre><code class="language-bash">python manage.py migrate
</code></pre>
<h5 id="makemigrations-into-files_1">makemigrations into files<a class="headerlink" href="#makemigrations-into-files_1" title="Permanent link">#</a></h5>
<pre><code class="language-bash">python manage.py makemifrations &lt;app_name&gt;
</code></pre>
<h5 id="clean-migration-files">Clean Migration Files<a class="headerlink" href="#clean-migration-files" title="Permanent link">#</a></h5>
<h2 id="features">Features<a class="headerlink" href="#features" title="Permanent link">#</a></h2>
<ul>
<li>Admin Interface (CRUD: Create, Retrieve, Update, Delete)</li>
<li>Templating</li>
<li>Form Handling</li>
<li>Internationalization</li>
<li>Session, User management, role-based permissions</li>
<li>ORM (Object-Relational Mapping)</li>
<li>Testing Framework</li>
<li>Best Documentation</li>
</ul>
<h2 id="database">Database<a class="headerlink" href="#database" title="Permanent link">#</a></h2>
<ul>
<li>site folder</li>
<li>setting.py</li>
<li>DATABASES</li>
<li>fill dict entries<ul>
<li>ENGINE: type of db<ul>
<li>django.db.backends.sqlite3</li>
<li>django.db.backends.mysql</li>
<li>django.db.backends.postgresql_psycopg2</li>
<li>django.db.backends.oracle </li>
</ul>
</li>
<li>NAME: name of database</li>
<li>USERNAME(optional)</li>
<li>PASSWORD(optional)</li>
<li>HOST(optional)</li>
</ul>
</li>
</ul>
<pre><code class="language-python">
DATABASES = {
    'sqlite3': {
        'ENGINE': 'django.db.backends.sqlite3',
        'NAME': os.path.join(BASE_DIR, 'db.sqlite3'),
    },
    'default': {
        'ENGINE': 'django.db.backends.mysql',
        'NAME': 'employees',
        'USER': 'test',

        'HOST': 'localhost',
        'PORT': '',
    }

}

</code></pre>
<ul>
<li>(optional) are required in case of DB other than sqlite.</li>
</ul>
<h3 id="set-charset">Set CharSet<a class="headerlink" href="#set-charset" title="Permanent link">#</a></h3>
<p>By deafult django uses <code>latin1</code>, its better to use unicode <code>utf8</code> to support all types of language characters.
So, Put this in settings.py:</p>
<pre><code class="language-python">DATABASE_OPTIONS = dict(charset=&quot;utf8&quot;)
</code></pre>
<h3 id="mysql">MySQL<a class="headerlink" href="#mysql" title="Permanent link">#</a></h3>
<h4 id="prerequisites">Prerequisites<a class="headerlink" href="#prerequisites" title="Permanent link">#</a></h4>
<pre><code class="language-bash">sudo apt install python-dev libmysqlclient-dev
pipenv install mysqlclient
</code></pre>
<ul>
<li>login to <code>root</code></li>
</ul>
<pre><code class="language-bash">sudo mysql -u root -p
</code></pre>
<ul>
<li>create another user &amp; grant all access</li>
</ul>
<pre><code class="language-bash">use `&lt;db_name&gt;`
CREATE USER 'dev'@'localhost' IDENTIFIED BY 'password';
GRANT ALL PRIVILEGES ON *.* TO 'dev'@'localhost' WITH GRANT OPTION;
</code></pre>
<ul>
<li>
<p>use <code>dev</code> user in django</p>
</li>
<li>
<p>install workbench (optional)</p>
</li>
</ul>
<pre><code class="language-bash">sudo apt install  mysql-workbench
</code></pre>
<h3 id="do-django-models-support-multiple-column-primary-keys">Do Django models support multiple-column primary keys?<a class="headerlink" href="#do-django-models-support-multiple-column-primary-keys" title="Permanent link">#</a></h3>
<p><strong>Ans</strong> No. Only single-column primary keys are supported. But using the <strong>unique_together</strong> model option we can achieve it.</p>
<h3 id="does-django-support-nosql-databases">Does Django support NoSQL databases?<a class="headerlink" href="#does-django-support-nosql-databases" title="Permanent link">#</a></h3>
<p><strong>Ans</strong> No. Not officially. But can using 3rd party forks like Django non-rel.</p>
<h3 id="using-multiple-databases-in-django">Using Multiple Databases in Django<a class="headerlink" href="#using-multiple-databases-in-django" title="Permanent link">#</a></h3>
<p>Different ways of using multiple databases:
* QuerySet's "using" Method
    ```python
    # This will run on the 'default' database.
    Author.objects.all()</p>
<pre><code># So will this.
Author.objects.using('default').all()

# This will run on the 'other' database.
Author.objects.using('other').all()
```
</code></pre>
<ul>
<li>Model.save()'s "using" Parameter
        <code>python
        choice_one = Choice.objects.get(pk=1)
        choice_one.text = "New Text"
        choice_one.save(using = "Polls_DB")</code></li>
<li>Database Routing</li>
</ul>
<h3 id="migrations-in-django">Migrations in Django<a class="headerlink" href="#migrations-in-django" title="Permanent link">#</a></h3>
<ul>
<li>applies changes in models to database tables<ul>
<li>like deleteing/adding models/fields</li>
</ul>
</li>
<li>commands<ul>
<li><strong>makemigrations</strong><ul>
<li>creates migration files as per changes in models</li>
<li>inside app--&gt;migrations--&gt;0001_initial.py, contains Migration class with all the operations/changes</li>
<li>does not applies changes in DB
<code>python
    python manage.py makemigrations</code></li>
</ul>
</li>
<li><strong>migrate</strong><ul>
<li>applies migration files to DB
<code>python
    python manage.py migrate</code></li>
</ul>
</li>
<li><strong>sqlmigrate</strong><ul>
<li>generates sql from migration files
<code>python
    python manage.py sqlmigrate polls_app 0001_initial</code></li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="orm-object-relational-mapper">ORM - Object Relational Mapper<a class="headerlink" href="#orm-object-relational-mapper" title="Permanent link">#</a></h2>
<ul>
<li>defines your data model entirely in python</li>
<li>provides rich &amp; dynamic database-access API</li>
</ul>
<h3 id="queryset-features">QuerySet Features:<a class="headerlink" href="#queryset-features" title="Permanent link">#</a></h3>
<h4 id="iteration">Iteration<a class="headerlink" href="#iteration" title="Permanent link">#</a></h4>
<pre><code class="language-python">for e in Entry.objects.all():
    print(e.headline)
</code></pre>
<h4 id="slicing">Slicing<a class="headerlink" href="#slicing" title="Permanent link">#</a></h4>
<h4 id="len">len()<a class="headerlink" href="#len" title="Permanent link">#</a></h4>
<pre><code class="language-python">record_count = len(Entry.objects.all()) # will return length of result list
</code></pre>
<h4 id="list">list()<a class="headerlink" href="#list" title="Permanent link">#</a></h4>
<pre><code class="language-python">entry_list = list(Entry.objects.all()) # convert to list
</code></pre>
<h4 id="bool">bool()<a class="headerlink" href="#bool" title="Permanent link">#</a></h4>
<pre><code class="language-python">bool(Entry.objects.filter(age=21)) # same as EXISTS, will return True if there are results
</code></pre>
<h3 id="queryset-operations">QuerySet Operations:<a class="headerlink" href="#queryset-operations" title="Permanent link">#</a></h3>
<h4 id="field-lookups">Field Lookups<a class="headerlink" href="#field-lookups" title="Permanent link">#</a></h4>
<ul>
<li>Parameter passed using "," comma == AND</li>
<li>For OR, use exclude()</li>
<li>field__gt: greater than</li>
<li>field__gte: greater than equal to </li>
<li>field__lt: less than</li>
<li>field__lte: less than equal to</li>
<li>list slicing [:5] == for starting 5 records</li>
<li>list slicing some_queryset.reverse()[:5] == for last 5 records</li>
<li>field__exact</li>
<li>field__iexact: non-casesensitive match</li>
<li>field__contains : Entry.objects.get(headline__contains='Lennon'), same as LIKE %Lennon%</li>
<li>field__icontains : Entry.objects.get(headline__icontains='LeNnon'), same as ILIKE %LenNon%</li>
<li>field__in : Entry.objects.filter(id__in=[1, 3, 4]), same as SELECT ... WHERE id IN (1, 3, 4);</li>
<li>field__startswith: Entry.objects.filter(headline__startswith='Lennon')</li>
<li>field__istartswith: Entry.objects.filter(headline__istartswith='LeNnon')</li>
<li>field__endswith: Entry.objects.filter(headline__endswith='Lennon')</li>
<li>field__iendswith: Entry.objects.filter(headline__iendswith='Lennon')</li>
<li>field__range : Entry.objects.filter(pub_date__range=(start_date, end_date)), same as SELECT ... WHERE pub_date BETWEEN '2005-01-01' and '2005-03-31';</li>
<li>field__date:<ul>
<li>Entry.objects.filter(pub_date__date=datetime.date(2005, 1, 1))</li>
<li>Entry.objects.filter(pub_date__date__gt=datetime.date(2005, 1, 1))</li>
</ul>
</li>
<li>year</li>
<li>month</li>
<li>day</li>
<li>week</li>
<li>week_day</li>
<li>quarter</li>
<li>time : Entry.objects.filter(pub_date__time=datetime.time(14, 30))</li>
<li>hour</li>
<li>minute</li>
<li>second</li>
<li>isnull : Entry.objects.filter(pub_date__isnull=True), same as SELECT ... WHERE pub_date IS NULL;</li>
<li>regex : Entry.objects.get(title__regex=r'^(An?|The) +')</li>
<li>iregex : Entry.objects.get(title__iregex=r'^(An?|The) +')</li>
</ul>
<h4 id="custom-lookups-transforms">Custom Lookups &amp; Transforms<a class="headerlink" href="#custom-lookups-transforms" title="Permanent link">#</a></h4>
<ul>
<li>e.g. : title__slug='first-blog'</li>
<li>TODO</li>
</ul>
<h4 id="queries-which-do-not-return-queryset">queries which do not return QuerySet<a class="headerlink" href="#queries-which-do-not-return-queryset" title="Permanent link">#</a></h4>
<ul>
<li>get()<ul>
<li>returns object</li>
<li>MultipleObjectsError</li>
</ul>
</li>
<li>get_or_create()</li>
<li>update_or_create()</li>
<li>bulk_create()</li>
<li>count()<ul>
<li>return count</li>
</ul>
</li>
<li>in_bulk()</li>
<li>iterator()</li>
<li>latest()</li>
<li>earliest()</li>
<li>first()</li>
<li>last()</li>
<li>aggreagte()<ul>
<li>returns dict</li>
</ul>
</li>
<li>exists()<ul>
<li>return True/False</li>
</ul>
</li>
<li>delete()<ul>
<li>returns the number of objects deleted and a dictionary with the number of deletions per object type.</li>
</ul>
</li>
<li>update()<ul>
<li>returns the number of objects updated</li>
</ul>
</li>
</ul>
<h4 id="all">all()<a class="headerlink" href="#all" title="Permanent link">#</a></h4>
<ul>
<li>same as SELECT *</li>
</ul>
<h4 id="distinct">distinct()<a class="headerlink" href="#distinct" title="Permanent link">#</a></h4>
<ul>
<li>same as SELECT DISTINCT</li>
</ul>
<pre><code class="language-python">Author.objects.distinct()
Entry.objects.order_by('blog').distinct('blog') # write parameters in same order in both
Entry.objects.order_by('blog').distinct('blog') # if 'blog' is foreign Model, then by deafult order_by will take it as 'blog__name', so explicity define it as 'blog__id' or 'blog__pk', else will not produce any result
</code></pre>
<h4 id="filter">filter()<a class="headerlink" href="#filter" title="Permanent link">#</a></h4>
<h4 id="select_for_update">select_for_update()<a class="headerlink" href="#select_for_update" title="Permanent link">#</a></h4>
<ul>
<li>will lock the row(s) till end of transaction</li>
</ul>
<h4 id="raw">raw()<a class="headerlink" href="#raw" title="Permanent link">#</a></h4>
<ul>
<li>raw(raw_query, params=None, translations=None)</li>
</ul>
<h4 id="f">F()<a class="headerlink" href="#f" title="Permanent link">#</a></h4>
<ul>
<li>for updating (increment/decrement) column value without fetching the current value in python memory </li>
</ul>
<pre><code class="language-python">from django.db.models import F

User.object.filter(pk=1).update(salary = F('salary') + 1000) # here F is usefull
</code></pre>
<h4 id="order_by">order_by()<a class="headerlink" href="#order_by" title="Permanent link">#</a></h4>
<pre><code class="language-python">User.objects.filter(age=21).order_by('-salary', 'name') # negative salary means in descending order
User.objects.filter(age=21).order_by('?') # random order (expensive)
User.objects.order_by('id') 
</code></pre>
<h4 id="exclude">exclude()<a class="headerlink" href="#exclude" title="Permanent link">#</a></h4>
<pre><code class="language-python">Entry.objects.exclude(pub_date__gt=datetime.date(2005, 1, 3)) # __gt: greater than
</code></pre>
<h4 id="annotate">annotate()<a class="headerlink" href="#annotate" title="Permanent link">#</a></h4>
<pre><code class="language-python">from django.db.models import Count

u = User.objects.annotate(Count('
</code></pre>
<h4 id="reverse">reverse()<a class="headerlink" href="#reverse" title="Permanent link">#</a></h4>
<ul>
<li>to reverse the order</li>
</ul>
<h4 id="values">values()<a class="headerlink" href="#values" title="Permanent link">#</a></h4>
<ul>
<li>returns dictionary object instead list query result</li>
</ul>
<pre><code class="language-python">Blog.objects.values()
Blog.objects.values('id', 'name')
</code></pre>
<h4 id="values_list">values_list()<a class="headerlink" href="#values_list" title="Permanent link">#</a></h4>
<ul>
<li>same as values() but returns tuple</li>
</ul>
<h4 id="extra">extra()<a class="headerlink" href="#extra" title="Permanent link">#</a></h4>
<ul>
<li>extra(select=None, where=None, params=None, tables=None, order_by=None, select_params=None)</li>
<li>Sometimes, the Django query syntax by itself cant easily express a complex WHERE clause. For these edge cases, Django provides the extra() QuerySet modifier  a hook for injecting specific clauses into the SQL generated by a QuerySet.</li>
</ul>
<h4 id="only">only()<a class="headerlink" href="#only" title="Permanent link">#</a></h4>
<ul>
<li>opposite to defer</li>
<li>name those, which should not get deferred except rest</li>
</ul>
<h4 id="defer">defer()<a class="headerlink" href="#defer" title="Permanent link">#</a></h4>
<ul>
<li>to defer some fields from a large data base</li>
<li>passing field to it will not load those columns in queryset from DB, </li>
<li>but we can access to field if we need by calling </li>
<li>we can never defer pk</li>
</ul>
<h4 id="dates">dates()<a class="headerlink" href="#dates" title="Permanent link">#</a></h4>
<h4 id="datetimes">datetimes()<a class="headerlink" href="#datetimes" title="Permanent link">#</a></h4>
<h4 id="none">none()<a class="headerlink" href="#none" title="Permanent link">#</a></h4>
<ul>
<li>returns null queryset </li>
<li>instance of EmptyQuerySet</li>
</ul>
<h4 id="union">union()<a class="headerlink" href="#union" title="Permanent link">#</a></h4>
<ul>
<li>same as SELECT * FROM TABLE1 UNION SELECT * FROM TABLE2</li>
<li>queryset1.union(queryset2)</li>
</ul>
<h4 id="intersection">intersection()<a class="headerlink" href="#intersection" title="Permanent link">#</a></h4>
<h4 id="difference">difference()<a class="headerlink" href="#difference" title="Permanent link">#</a></h4>
<h4 id="select_related">select_related()<a class="headerlink" href="#select_related" title="Permanent link">#</a></h4>
<ul>
<li>returns Foreign key related objects without hitting database</li>
</ul>
<pre><code class="language-python">#Hits the database.
e = Entry.objects.get(id=5)

#Hits the database again to get the related Blog object.
b = e.blog


#Hits the database.
e = Entry.objects.select_related('blog').get(id=5)

#Doesn't hit the database, because e.blog has been prepopulated
#in the previous query.
b = e.blog
</code></pre>
<h4 id="prefetch_related">prefetch_related()<a class="headerlink" href="#prefetch_related" title="Permanent link">#</a></h4>
<ul>
<li>To solve the <code>1 + N</code> problem in all types of ORM<ul>
<li>after Django 1.4</li>
</ul>
</li>
</ul>
<h4 id="using">using()<a class="headerlink" href="#using" title="Permanent link">#</a></h4>
<ul>
<li>for choosing databse for the queryset</li>
</ul>
<h3 id="1-n-problems"><code>1 + N</code> Problems<a class="headerlink" href="#1-n-problems" title="Permanent link">#</a></h3>
<p>TODO</p>
<h2 id="models_1">Models<a class="headerlink" href="#models_1" title="Permanent link">#</a></h2>
<h3 id="query-manager">Query Manager<a class="headerlink" href="#query-manager" title="Permanent link">#</a></h3>
<ul>
<li>A class</li>
<li>An interface through which database query operations are performed to Django models</li>
<li>by default Manager for each Model is <strong>objects</strong></li>
<li>e.g. Questions.<strong>object</strong>.all()</li>
</ul>
<h4 id="manager-names">Manager names<a class="headerlink" href="#manager-names" title="Permanent link">#</a></h4>
<ul>
<li>if you want to rename <strong>objects</strong></li>
<li>e.g.</li>
</ul>
<pre><code class="language-python">from django.db import models

class Person(models.Model):
    #...
    people = models.Manager()

#Uses    
Person.objects.all()    #AttributeError  
Person.people.all()    
</code></pre>
<h4 id="custom-manager">Custom Manager<a class="headerlink" href="#custom-manager" title="Permanent link">#</a></h4>
<ul>
<li>if you want to define some more query methods</li>
<li>Extend models.Manager class</li>
<li>Code: https://gist.github.com/toransahu/62cd045891656b90f7e18a492e9b81db</li>
</ul>
<h3 id="inheritance-style-in-django">Inheritance style in django?<a class="headerlink" href="#inheritance-style-in-django" title="Permanent link">#</a></h3>
<h4 id="abstract-base-class">Abstract base class<a class="headerlink" href="#abstract-base-class" title="Permanent link">#</a></h4>
<ul>
<li>you define a base class model as a abstract class<ul>
<li>cannot instantiate</li>
<li>cannot use as a regular model</li>
<li>cannot create a table in db</li>
</ul>
</li>
<li>you want to reuse the code for attributes (fields/methods) of the base class into other models<ul>
<li>each child model will have their own table in db</li>
</ul>
</li>
<li>e.g.</li>
</ul>
<pre><code class="language-python">class CommonInfo(models.Model):
    name = models.CharField(max_length=100)
    age = models.PositiveIntegerField()

    class Meta:
        abstract = True

class Student(CommonInfo):
    home_group = models.CharField(max_length=5)
</code></pre>
<h4 id="multi-table-inheritance">Multi-table Inheritance<a class="headerlink" href="#multi-table-inheritance" title="Permanent link">#</a></h4>
<ul>
<li>This style is used when subclassing an existing model &amp; need each model to have its own database table</li>
<li>e.g.</li>
</ul>
<pre><code class="language-python">from django.db import models

class Place(models.Model):
    name = models.CharField(max_length=50)
    address = models.CharField(max_length=80)

class Restaurant(Place):
    serves_hot_dogs = models.BooleanField(default=False)
    serves_pizza = models.BooleanField(default=False)
</code></pre>
<ul>
<li>All of the fields of Place will also be available in Restaurant, although the data will reside in a different database table. So these are both possible:</li>
</ul>
<pre><code class="language-bash">Place.objects.filter(name=&quot;Bob's Cafe&quot;)
Restaurant.objects.filter(name=&quot;Bob's Cafe&quot;)
</code></pre>
<ul>
<li>Note: The inheritance relationship introduces links between the child model and each of its parents (via an automatically-created OneToOneField)</li>
</ul>
<h4 id="proxy-models">Proxy models<a class="headerlink" href="#proxy-models" title="Permanent link">#</a></h4>
<ul>
<li>You can use this model, If you only want to modify the Python level behavior of the model (means any methods/functions), without changing the models fields</li>
<li>unlike multi-table inheritance, <ul>
<li>if we only want to <ul>
<li>add some methods</li>
<li>change the default manager</li>
<li>change the default ordering</li>
</ul>
</li>
<li>and at the same time we don't want to create different tables for each model</li>
<li>we can inherit the base model &amp; can define child models as proxy</li>
</ul>
</li>
<li>e.g.</li>
</ul>
<pre><code class="language-python">from django.db import models

class Person(models.Model):
    first_name = models.CharField(max_length=30)
    last_name = models.CharField(max_length=30)

class MyPerson(Person):
    class Meta:
        proxy = True

    def do_something(self):
        #...
        pass
</code></pre>
<h3 id="extend-user-model-custom-user-model">Extend User Model (Custom User Model)<a class="headerlink" href="#extend-user-model-custom-user-model" title="Permanent link">#</a></h3>
<p>Some modifications on top of Django's default User Model just to fit our web appplication.<br />
Source: https://simpleisbetterthancomplex.com/tutorial/2016/07/22/how-to-extend-django-user-model.html</p>
<p><strong>4 Ways to extend existing User Model:</strong></p>
<h4 id="using-a-proxy-model">Using a Proxy Model<a class="headerlink" href="#using-a-proxy-model" title="Permanent link">#</a></h4>
<ul>
<li>Proxy Model: <ul>
<li>Model inheritance without creating a new table in database.</li>
<li>Used to change the deafult behaviour of an existing model (e.g. methods, ordering by) without affecting exisitng database table</li>
</ul>
</li>
<li>When used: When you don't need to save extra information in the databse, but want to add extra methods or change query Manager</li>
<li>Code: https://gist.github.com/toransahu/676d4a8c29b5cbd7737ff1c0a0b4dfc4</li>
</ul>
<h4 id="using-one-to-one-link-with-a-user-model-profile">Using One-To-One Link with a User Model (Profile)<a class="headerlink" href="#using-one-to-one-link-with-a-user-model-profile" title="Permanent link">#</a></h4>
<ul>
<li>One-To-One Link:<ul>
<li>one to one relationship between two Django Models</li>
<li>Both Models are normal django model</li>
<li>implemented using models.OneToOneField(SomeModelHere)</li>
</ul>
</li>
<li>When Should Use<ul>
<li>when you need to store some extra information about the exisitng User Model that's not related to authentication process</li>
<li>called as User Profile</li>
</ul>
</li>
<li>How to Use<ul>
<li>Create User model &amp; Profile model</li>
<li>Create OneToOneField in Profile model of User model</li>
<li>Define <strong>signals</strong> so our Profile model will be automatically created/updated when we create/update User instances</li>
<li>We'll use <strong>post_save</strong> signals for this purpose</li>
<li>follow e.g. https://gist.github.com/toransahu/f0bd7313c24605ce92d38a7b09caf4b4</li>
</ul>
</li>
</ul>
<h4 id="creating-a-custom-user-model-extending-abstractbaseuser">Creating a Custom User Model Extending AbstractBaseUser<a class="headerlink" href="#creating-a-custom-user-model-extending-abstractbaseuser" title="Permanent link">#</a></h4>
<ul>
<li>Custom User Model Extending AbstractBaseUser<ul>
<li>a new User model inheriting AbtractBaseUser class</li>
<li>require extra care &amp; AUTH_USER_MODEL reference in settings.py</li>
<li>ideally it should be done in starting of the project</li>
</ul>
</li>
<li>When Should Use<ul>
<li>when specific requirement in authentication process</li>
<li>e.g. change identification token from username to emailId or mobile_number</li>
</ul>
</li>
<li>Code: https://gist.github.com/toransahu/4a6314f40676a75b0288953f5c0e8b1c    </li>
</ul>
<h4 id="creating-a-custom-user-model-extending-abstractuser">Creating a Custom User Model Extending AbstractUser<a class="headerlink" href="#creating-a-custom-user-model-extending-abstractuser" title="Permanent link">#</a></h4>
<ul>
<li>Custom User Model Extending AbstractUser<ul>
<li>a new User model inheriting AbtractUser class</li>
<li>require extra care &amp; AUTH_USER_MODEL reference in settings.py</li>
<li>ideally it should be done in starting of the project</li>
</ul>
</li>
<li>When Should Use<ul>
<li>when we are perfectly happy with how Django handles the authentication process and we don't want to change anything on it</li>
<li>yet we want to add some extra information directly in the User model without having to create extra class like Profile</li>
</ul>
</li>
<li>Code: https://gist.github.com/toransahu/0ce910494dedb8b9f2774b751f45b559    </li>
</ul>
<p>Whenever we define custom User Model like this</p>
<pre><code class="language-python">from django.db import models
from django.contrib.auth.models import AbstractUser

class User(AbstractUser):
    name = models.CharField(max_length=100, blank=True, null=True)
</code></pre>
<p>we need to specify custom user model in settings.py like</p>
<pre><code class="language-python">AUTH_USER_MODEL = your_app.User'
</code></pre>
<p>and we can refer this User model in our code either as</p>
<pre><code class="language-python">User = get_user_model()
</code></pre>
<p>or  </p>
<pre><code class="language-python">User = settings.AUTH_USER_MODEL # use when define a foreign relationship, to make it resuable app
</code></pre>
<h4 id="conclusion">Conclusion<a class="headerlink" href="#conclusion" title="Permanent link">#</a></h4>
<p><strong>Proxy Model:</strong> You are happy with everything Django User provide and dont need to store extra information.<br />
<strong>User Profile:</strong> You are happy with the way Django handles the auth and need to add some non-auth related attributes to the User.<br />
<strong>Custom User Model from AbstractBaseUser:</strong> The way Django handles auth doesnt fit your project.<br />
<strong>Custom User Model from AbstractUser:</strong> The way Django handles auth is a perfect fit for your project but still you want to add extra attributes without having to create a separate Model.</p>
<h3 id="class-meta-options">class <code>Meta</code> Options<a class="headerlink" href="#class-meta-options" title="Permanent link">#</a></h3>
<p>TODO:</p>
<h2 id="views_1">Views<a class="headerlink" href="#views_1" title="Permanent link">#</a></h2>
<h3 id="function-based-generic-view">Function Based Generic View<a class="headerlink" href="#function-based-generic-view" title="Permanent link">#</a></h3>
<ul>
<li>
<p>with template (by rendering)
    ```python
    from django.shortcuts import render</p>
<p>def home(request):
    return render(request, 'home.html')
<code>* without template : using HttpResponse</code>python
from django.http import HttpResponse</p>
<p>def home(request):
    return HttpResponse("Hello World")
```
* Need to write conditional branch for different HTTP request type like POST, GET, PUT
* Need to provide view method name in URL
* Disadvantage: Cannot extend</p>
</li>
</ul>
<h3 id="class-based-view">Class Based View<a class="headerlink" href="#class-based-view" title="Permanent link">#</a></h3>
<ul>
<li>Module: from django.views import View</li>
<li>Inherit View class</li>
<li>Need to define get(), post() like HTTP methods</li>
<li>Need to provide ClassName.as_view() in URL</li>
<li>Advantage: Can be extended by sub classes</li>
</ul>
<pre><code class="language-python">    from django.http import HttpResponse
    from django.views import View

    class MyView(View):
        def get(self, request):
            # &lt;view logic&gt;
            return HttpResponse('result')
    ```

## Class Based Generic View
* Module: from django.views.generic import ListView
* Can inherit ListView, TemplateView... class
* No need to define request handler methods
* set model attribute to Model Class
* Need to provide ClassName.as_view() in URL
```python
    from django.views.generic import ListView
    from books.models import Publisher

    class PublisherList(ListView):
        model = Publisher
</code></pre>
<h2 id="urls">URLs<a class="headerlink" href="#urls" title="Permanent link">#</a></h2>
<h3 id="using-view-function">using view function<a class="headerlink" href="#using-view-function" title="Permanent link">#</a></h3>
<pre><code class="language-python">    urlpatterns=[
        path('/',views.home(),name='home'),]
</code></pre>
<h3 id="using-class-based-view">using class based view<a class="headerlink" href="#using-class-based-view" title="Permanent link">#</a></h3>
<pre><code class="language-python">    urlpatterns=[
        path('/',views.IndexView.as_view(),name='index'),]
</code></pre>
<h3 id="including-app-urls">including app urls<a class="headerlink" href="#including-app-urls" title="Permanent link">#</a></h3>
<pre><code class="language-python">    from django.urls import path, include

    urlpatterns = [
            path('', include('home.urls')),]
</code></pre>
<h3 id="django-20-using-path">django 2.0: using path<a class="headerlink" href="#django-20-using-path" title="Permanent link">#</a></h3>
<pre><code class="language-python">    from django.urls import path, include
</code></pre>
<h3 id="django-19-using-url">django &lt;=1.9: using url<a class="headerlink" href="#django-19-using-url" title="Permanent link">#</a></h3>
<pre><code class="language-python">    from django.conf.urls import url
</code></pre>
<h2 id="static-files">Static files<a class="headerlink" href="#static-files" title="Permanent link">#</a></h2>
<h3 id="in-production">In Production<a class="headerlink" href="#in-production" title="Permanent link">#</a></h3>
<ul>
<li>set STATIC_ROOT in settings.py</li>
<li>run manage.py collectstatic</li>
</ul>
<h3 id="in-developement">In Developement<a class="headerlink" href="#in-developement" title="Permanent link">#</a></h3>
<pre><code class="language-python">    STATICFILES_FINDERS = (
        'django.contrib.staticfiles.finders.FileSystemFinder',
        'django.contrib.staticfiles.finders.AppDirectoriesFinder'
    )

    STATICFILES_DIRS = [
        os.path.join(BASE_DIR, 'static'),
        '/var/www/static/',
    ]
    STATIC_URL = '/static/'
</code></pre>
<h2 id="templates_1">Templates<a class="headerlink" href="#templates_1" title="Permanent link">#</a></h2>
<ul>
<li>Contains<ul>
<li>Markups<ul>
<li>JS, CSS, HTML, XML</li>
</ul>
</li>
<li>django tags<ul>
<li>Variables/Logic blocks<ul>
<li>{% extends 'home/base.html' %}</li>
<li>{% load static %}</li>
</ul>
</li>
<li>Comments<ul>
<li>{# CSS files#}</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="middlewares">Middlewares<a class="headerlink" href="#middlewares" title="Permanent link">#</a></h2>
<ul>
<li>Middleware is framework of hooks to Django's request/response processing</li>
<li>its light and low-level plugin system for making global changes in Django's input/output</li>
<li>each middleware component in responsible for performing some <strong>specific task</strong></li>
<li>Some usage of middlewares in Django is:<ul>
<li>Session management</li>
<li>User authentication</li>
<li>Cross-site request forgery protection</li>
<li>Content Gzipping, etc.            </li>
</ul>
</li>
</ul>
<h3 id="custom-middleware">Custom Middleware<a class="headerlink" href="#custom-middleware" title="Permanent link">#</a></h3>
<ul>
<li>a middleware factory (i.e. outer function or a class) is a callable<ul>
<li>it takes an argument called <code>get_response</code><ul>
<li><code>get_response</code> might be an actual Django <code>view</code> if the middleware is last listed </li>
<li>else, <code>get_response</code> might be a <strong>next middleware</strong> </li>
</ul>
</li>
<li>and it returns a <code>middleware</code> (or ultimately a <code>response</code>)<ul>
<li>a <code>middleware</code> is also a callable which takes an arg called <code>request</code></li>
<li>and it returns a <code>response</code></li>
</ul>
</li>
</ul>
</li>
</ul>
<h4 id="function-based-custom-middleware">Function Based Custom Middleware<a class="headerlink" href="#function-based-custom-middleware" title="Permanent link">#</a></h4>
<pre><code class="language-python">def simple_middleware(get_response):
    # One-time configuration and initialization.

    def middleware(request):
        # Code to be executed for each request before
        # the view (and later middleware) are called.

        response = get_response(request)

        # Code to be executed for each request/response after
        # the view is called.

        return response

    return middleware
</code></pre>
<h4 id="class-based-custom-middleware">Class Based Custom Middleware<a class="headerlink" href="#class-based-custom-middleware" title="Permanent link">#</a></h4>
<pre><code class="language-python">class SimpleMiddleware:
    def __init__(self, get_response):
        self.get_response = get_response
        # One-time configuration and initialization.

    def __call__(self, request):
        # Code to be executed for each request before
        # the view (and later middleware) are called.

        response = self.get_response(request)

        # Code to be executed for each request/response after
        # the view is called.

        return response
</code></pre>
<h2 id="settings">Settings<a class="headerlink" href="#settings" title="Permanent link">#</a></h2>
<h3 id="place-in-settingspy">Place in settings.py<a class="headerlink" href="#place-in-settingspy" title="Permanent link">#</a></h3>
<h3 id="separated-into-production-development-environments-like">Separated into production &amp; development environments like<a class="headerlink" href="#separated-into-production-development-environments-like" title="Permanent link">#</a></h3>
<pre><code>- base_settings.py
- dev_settings.py
- prod_settings.py
- settings.py
</code></pre>
<h3 id="strict-seperation-from-code">STRICT SEPERATION FROM CODE<a class="headerlink" href="#strict-seperation-from-code" title="Permanent link">#</a></h3>
<h4 id="python-decouple">Python Decouple<a class="headerlink" href="#python-decouple" title="Permanent link">#</a></h4>
<ul>
<li>Source: https://pypi.org/project/python-decouple/</li>
<li>Usage</li>
<li>Where the settings data are stored?<ul>
<li>Ini file</li>
<li>Env file</li>
</ul>
</li>
<li>How it works?<ul>
<li>Understanding the CAST argument</li>
</ul>
</li>
</ul>
<h2 id="signals">Signals<a class="headerlink" href="#signals" title="Permanent link">#</a></h2>
<p>Signals are a strategy to allow decoupled applications to get notified when some event occurs.<br />
Source: https://simpleisbetterthancomplex.com/tutorial/2016/07/28/how-to-create-django-signals.html</p>
<ul>
<li>where to create <code>&lt;signals_module&gt;.py</code>?<ul>
<li>anywhere</li>
<li>recommended: inside apps</li>
</ul>
</li>
</ul>
<h3 id="built-in-signals">Built-in Signals<a class="headerlink" href="#built-in-signals" title="Permanent link">#</a></h3>
<ul>
<li>
<p>django.db.models.signals.pre_init:
<code>receiver_function(sender, *args, **kwargs)</code></p>
</li>
<li>
<p>django.db.models.signals.post_init:
<code>receiver_function(sender, instance)</code></p>
</li>
<li>
<p>django.db.models.signals.pre_save:
<code>receiver_function(sender, instance, raw, using, update_fields)</code></p>
</li>
<li>
<p>django.db.models.signals.post_save:
<code>receiver_function(sender, instance, created, raw, using, update_fields)</code></p>
</li>
<li>
<p>django.db.models.signals.pre_delete:
<code>receiver_function(sender, instance, using)</code></p>
</li>
<li>
<p>django.db.models.signals.post_delete:
<code>receiver_function(sender, instance, using)</code></p>
</li>
<li>
<p>django.db.models.signals.m2m_changed:
<code>receiver_function(sender, instance, action, reverse, model, pk_set, using)</code></p>
</li>
</ul>
<h3 id="requestresponse-signals">Request/Response Signals<a class="headerlink" href="#requestresponse-signals" title="Permanent link">#</a></h3>
<ul>
<li>
<p>django.core.signals.request_started:
<code>receiver_function(sender, environ)</code></p>
</li>
<li>
<p>django.core.signals.request_finished:
<code>receiver_function(sender, environ)</code></p>
</li>
<li>
<p>django.core.signals.got_request_exception:
<code>receiver_function(sender, request)</code></p>
</li>
</ul>
<h3 id="way-of-connectingregistering-signals">Way of connecting/registering signals<a class="headerlink" href="#way-of-connectingregistering-signals" title="Permanent link">#</a></h3>
<h4 id="using-signalconnect">using <code>&lt;signal&gt;.connect</code><a class="headerlink" href="#using-signalconnect" title="Permanent link">#</a></h4>
<ul>
<li>Need to register signals inside ready() in <code>AppConfig</code> class in <code>&lt;app&gt;.apps.py</code></li>
<li>Need to define <code>default_app_config = '&lt;app&gt;.apps.&lt;App&gt;Config'</code> in <code>&lt;app&gt;.__init__.py</code><ul>
<li>ignore if <code>'&lt;app&gt;.apps.&lt;App&gt;Config'</code> is inside <code>INSTALLED_APPS</code> insettings.py</li>
</ul>
</li>
<li>Issues: In django 2.0+, not working fine. Throwing error: <code>AppRegistryNotReady: Apps aren't loaded yet.</code></li>
<li>e.g.: https://gist.github.com/toransahu/c3870b4ad58bde5a9b9563f7e0883729</li>
</ul>
<h4 id="using-receiver-decorator">using <code>receiver()</code> decorator<a class="headerlink" href="#using-receiver-decorator" title="Permanent link">#</a></h4>
<ul>
<li>Only need to import signals inside ready() in <code>AppConfig</code> class in <code>&lt;app&gt;.apps.py</code></li>
<li>Need to define <code>default_app_config = '&lt;app&gt;.apps.&lt;App&gt;Config'</code> in <code>&lt;app&gt;.__init__.py</code><ul>
<li>ignore if <code>'&lt;app&gt;.apps.&lt;App&gt;Config'</code> is inside <code>INSTALLED_APPS</code> insettings.py</li>
</ul>
</li>
<li>No issues till yet</li>
<li>e.g.: https://gist.github.com/toransahu/c3870b4ad58bde5a9b9563f7e0883729</li>
</ul>
<h2 id="asynchronous-signals-using-celery">Asynchronous Signals Using Celery<a class="headerlink" href="#asynchronous-signals-using-celery" title="Permanent link">#</a></h2>
<ul>
<li>src<ul>
<li>https://simpleisbetterthancomplex.com/tutorial/2017/08/20/how-to-use-celery-with-django.html</li>
<li>http://docs.celeryproject.org/en/latest/django/first-steps-with-django.html</li>
</ul>
</li>
</ul>
<h3 id="installation">Installation<a class="headerlink" href="#installation" title="Permanent link">#</a></h3>
<h4 id="task-queue-system-celery">Task Queue System - Celery<a class="headerlink" href="#task-queue-system-celery" title="Permanent link">#</a></h4>
<pre><code class="language-bash">pip install celery

</code></pre>
<h4 id="message-broker-system-rabbitmq">Message Broker System - RabbitMQ<a class="headerlink" href="#message-broker-system-rabbitmq" title="Permanent link">#</a></h4>
<ul>
<li>src: http://docs.celeryproject.org/en/latest/getting-started/brokers/rabbitmq.html#broker-rabbitmq</li>
</ul>
<pre><code class="language-bash">sudo apt install rabbitmq-server
</code></pre>
<h3 id="setup">Setup<a class="headerlink" href="#setup" title="Permanent link">#</a></h3>
<ul>
<li>no need to define any setup, but can set credentials for rabbitmq-server</li>
</ul>
<h3 id="code">Code<a class="headerlink" href="#code" title="Permanent link">#</a></h3>
<h4 id="enable-celery">Enable Celery<a class="headerlink" href="#enable-celery" title="Permanent link">#</a></h4>
<ul>
<li>Define celery instance in project level inside celery.py</li>
<li>Load celery when django starts<ul>
<li>import the celery instance app to <strong>init</strong>.py in project package</li>
</ul>
</li>
</ul>
<h4 id="write-task">Write Task<a class="headerlink" href="#write-task" title="Permanent link">#</a></h4>
<ul>
<li>
<p>code: https://gist.github.com/toransahu/d01c7374c5317a908b99ac03cf24cc11</p>
</li>
<li>
<p>create tasks.py inside django app</p>
<ul>
<li>celery searches for tasks inside <code>tasks.py</code> modules</li>
</ul>
</li>
<li>
<p>either import celery app instance &amp; use
    <code>python
    from backend.celery import app
    @app.task
    def foo():
        pass</code></p>
</li>
<li>or use <code>shared_task</code>
    <code>python
    from celery import shared_task
    @shared_task
    def foo():
        pass</code>    </li>
<li>
<p>set broker_url inside settings.py</p>
<ul>
<li>every celery config variables start with <code>CELERY_</code></li>
</ul>
<p><code>python
CELERY_BROKER_URL = 'amqp://localhost'</code></p>
</li>
<li>
<p>start rabbitmq</p>
<ul>
<li>starts automatically on boot</li>
</ul>
<p><code>bash
sudo systemctl enable rabbitmq-server
sudo systemctl start rabbitmq-server</code></p>
</li>
<li>
<p>start celery worker</p>
<ul>
<li>need to run inside src folder</li>
<li>need to be in virtual env</li>
</ul>
<p><code>bash
celery -A project_name worker -l info</code></p>
</li>
<li>
<p>or create script to start celery</p>
<ul>
<li>cd ethereal-machines-backend/src (where manage.py is)</li>
<li>vim start_celery.sh<ul>
<li>make sure to write #! /bin/bash in first line</li>
</ul>
</li>
<li>chmod a+x start_celery.sh</li>
<li>start_celery.sh should look like this: https://gist.github.com/toransahu/31874def1bd661db676d0dfe02e1c651</li>
</ul>
</li>
</ul>
<h3 id="celery-vs-rabiitmq">Celery vs RabiitMQ<a class="headerlink" href="#celery-vs-rabiitmq" title="Permanent link">#</a></h3>
<ul>
<li>
<p>Celery is a queue Wrapper/Framework which takes away the complexity of having to manage the underlying AMQP mechanisms/architecture that come with operating RabbitMQ directly</p>
</li>
<li>
<p>Celery is just a very high level of abstraction to implement the producer / consumer of events. It takes out several painful things you need to do to work for example with rabbitmq. Celery itself is not the queue. The events queues are stored in the system of your choice, celery helps you to work with such events without having to write the producer / consumer from scratch.</p>
</li>
</ul>
<hr />
<h2 id="state-management">State Management<a class="headerlink" href="#state-management" title="Permanent link">#</a></h2>
<ul>
<li>Session:</li>
<li>Anonymous Session</li>
<li>Cookies</li>
</ul>
<h3 id="theory">Theory<a class="headerlink" href="#theory" title="Permanent link">#</a></h3>
<h4 id="stateless">Stateless<a class="headerlink" href="#stateless" title="Permanent link">#</a></h4>
<ul>
<li>Meaning navigating from one web page to another will not retain infos of first one.</li>
<li>There is no persistence between one request and the next, and there is no way the server can tell whether successive requests come from the same person</li>
<li>e.g. HTTP, REST</li>
</ul>
<p>This lack of state is managed using sessions.</p>
<h3 id="session">Session<a class="headerlink" href="#session" title="Permanent link">#</a></h3>
<ul>
<li>are a semi-permanent, two-way communication between your browser and the web server.  </li>
<li>The session framework lets you store and retrieve arbitrary data on a per-site-visitor basis</li>
<li>It stores data on the server side and abstracts the sending and receiving of cookies</li>
<li>can be implemented through middleware</li>
<li>In client side cookies contain a session ID  not the data itself (unless youre using the cookie based backend)</li>
</ul>
<pre><code class="language-python">INSTALLED_APPS = [
    'django.contrib.sessions',
    ]

MIDDLEWARE = [
    'django.contrib.sessions.middleware.SessionMiddleware',
    ]
</code></pre>
<h4 id="anonymous-session">Anonymous Session<a class="headerlink" href="#anonymous-session" title="Permanent link">#</a></h4>
<ul>
<li>to keep track of data relevant to your visit</li>
<li>the web server can only record what you did, not who you are</li>
</ul>
<h4 id="enabling-the-session">Enabling the session<a class="headerlink" href="#enabling-the-session" title="Permanent link">#</a></h4>
<ul>
<li>Using middleware</li>
<li>MIDDLEWARE_CLASSES in setting.py should contain 'django.contrib.sessions.middleware.SessionMiddleware'</li>
<li>by deafult enabled</li>
</ul>
<h4 id="configuring-the-session-engine">Configuring The Session Engine<a class="headerlink" href="#configuring-the-session-engine" title="Permanent link">#</a></h4>
<ul>
<li>by default stored in database using the model django.contrib.sessions.models.Session</li>
<li>can be configured to store session data on file system or in cache</li>
</ul>
<h4 id="using-database-backed-sessions">Using Database-Backed Sessions<a class="headerlink" href="#using-database-backed-sessions" title="Permanent link">#</a></h4>
<ul>
<li>need to add 'django.contrib.sessions' to your INSTALLED_APPS setting</li>
</ul>
<h4 id="using-cached-sessions">Using Cached Sessions<a class="headerlink" href="#using-cached-sessions" title="Permanent link">#</a></h4>
<ul>
<li>for better performance, for making web pages more responsive</li>
<li>local memory cache backend doesnt retain data long enough to be a good choice</li>
<li>use third-party like Memcached cache backend, else use file system or DB based session</li>
<li>two different implementation:<ul>
<li>Only cache<ul>
<li>Set SESSION_ENGINE to "django.contrib.sessions.backends.cache"</li>
</ul>
</li>
<li>Cache + DB (Persistent)<ul>
<li>set SESSION_ENGINE to "django.contrib.sessions.backends.cached_db"</li>
<li>every write to the cache will also be written to the database</li>
<li>use the database if the data is not already in the cache</li>
</ul>
</li>
</ul>
</li>
</ul>
<h4 id="using-file-based-sessions">Using File-Based Sessions<a class="headerlink" href="#using-file-based-sessions" title="Permanent link">#</a></h4>
<ul>
<li>have to set the SESSION_ENGINE settings to django.contrib.sessions.backends.file</li>
</ul>
<h4 id="using-cookie-based-sessions">Using Cookie-Based Sessions<a class="headerlink" href="#using-cookie-based-sessions" title="Permanent link">#</a></h4>
<h3 id="cookies">Cookies<a class="headerlink" href="#cookies" title="Permanent link">#</a></h3>
<h4 id="what">What<a class="headerlink" href="#what" title="Permanent link">#</a></h4>
<ul>
<li>An HTTP cookie (web cookie, browser cookie) is a small piece of data that a server sends to the user's web browser. </li>
<li>The browser may store it and send it back with the next request to the same server. </li>
<li>module: http.cookies</li>
</ul>
<h4 id="why">Why<a class="headerlink" href="#why" title="Permanent link">#</a></h4>
<ul>
<li>Typically, it's used to tell if two requests came from the same browser  keeping a user logged-in, for example. </li>
</ul>
<h4 id="how">How<a class="headerlink" href="#how" title="Permanent link">#</a></h4>
<ul>
<li>It remembers stateful information for the stateless HTTP protocol.</li>
</ul>
<h4 id="uses_1">Uses:<a class="headerlink" href="#uses_1" title="Permanent link">#</a></h4>
<ul>
<li>Session management<ul>
<li>Logins, shopping carts, game scores, or anything else the server should remember</li>
</ul>
</li>
<li>Personalization<ul>
<li>User preferences, themes, and other settings</li>
</ul>
</li>
<li>Tracking<ul>
<li>Recording and analyzing user behavior</li>
</ul>
</li>
</ul>
<h3 id="cache">Cache<a class="headerlink" href="#cache" title="Permanent link">#</a></h3>
<h4 id="why_1">Why<a class="headerlink" href="#why_1" title="Permanent link">#</a></h4>
<ul>
<li>The performance of web sites and applications can be significantly improved by reusing previously fetched resources. </li>
<li>Web caches reduce latency and network traffic and thus lessen the time needed to display a representation of a resource. </li>
<li>By making use of HTTP caching, Web sites become more responsive.</li>
</ul>
<h2 id="architecture-django-production-servers">Architecture - Django Production Servers<a class="headerlink" href="#architecture-django-production-servers" title="Permanent link">#</a></h2>
<p><img src="https://www.sayonetech.com/media/2015/06/18/django-host_.png"></p>
<p>Source : https://www.sayonetech.com/blog/how-host-your-django-project-production-server/#.WgSKV3VL9Xo</p>
<h3 id="web-server">Web Server<a class="headerlink" href="#web-server" title="Permanent link">#</a></h3>
<ul>
<li>the outermost tier of the Backend(3-tiers)</li>
<li>Apache, nginx, lighttpd, cherokee</li>
<li>used as proxy, reverse proxy, load balancer, static data (css, html, images) dispatcher and cache</li>
<li>it can't talk directly to Django applications</li>
</ul>
<h4 id="nginx-pronounced-as-engine-x">nginx (Pronounced as: Engine X)<a class="headerlink" href="#nginx-pronounced-as-engine-x" title="Permanent link">#</a></h4>
<h3 id="application-server">Application Server<a class="headerlink" href="#application-server" title="Permanent link">#</a></h3>
<ul>
<li>the middle tier of the Backend(3-tiers)</li>
<li>Gunicorn, mod_python, mod_wsgi, mod_uwsgi, FastCGI</li>
<li>is used to handle all dynamic requests, basically based on URL pattern (view call)</li>
<li>the Interface between the web server and the python app so that the app(or any python framework) understands the incoming requests</li>
<li>create a Unix socket, and serve responses to nginx via the wsgi protocol - the socket passes data in both directions</li>
</ul>
<h4 id="gunicorn-pronounced-as-gee-unicorn">gunicorn (Pronounced as: gee-unicorn)<a class="headerlink" href="#gunicorn-pronounced-as-gee-unicorn" title="Permanent link">#</a></h4>
<ul>
<li>inspired from Ruby's Unicorn</li>
</ul>
<h3 id="db">DB<a class="headerlink" href="#db" title="Permanent link">#</a></h3>
<ul>
<li>the third tier of the Backend(3-tiers)</li>
<li>MySQL/ Postgres/ Other databases </li>
</ul>
<h3 id="asynchronous-task-queue">Asynchronous Task Queue<a class="headerlink" href="#asynchronous-task-queue" title="Permanent link">#</a></h3>
<h4 id="celery">Celery<a class="headerlink" href="#celery" title="Permanent link">#</a></h4>
<ul>
<li>Celery is an asynchronous task/job queue based on distributed message passing <ul>
<li>requires an external solution to send and receive messages<ul>
<li>i.e. Message Brokers like RabbitMQ, Redis</li>
</ul>
</li>
<li>focused on real-time operation, but supports scheduling as well</li>
</ul>
</li>
</ul>
<h4 id="cron-jobs">Cron jobs<a class="headerlink" href="#cron-jobs" title="Permanent link">#</a></h4>
<h3 id="message-broker-solutions">Message Broker Solutions<a class="headerlink" href="#message-broker-solutions" title="Permanent link">#</a></h3>
<h4 id="rabbitmq">RabbitMQ<a class="headerlink" href="#rabbitmq" title="Permanent link">#</a></h4>
<h4 id="redis">Redis<a class="headerlink" href="#redis" title="Permanent link">#</a></h4>
<h4 id="amazon-sqs">Amazon SQS<a class="headerlink" href="#amazon-sqs" title="Permanent link">#</a></h4>
<h3 id="caching-solution">Caching Solution<a class="headerlink" href="#caching-solution" title="Permanent link">#</a></h3>
<h4 id="memcached">Memcached<a class="headerlink" href="#memcached" title="Permanent link">#</a></h4>
<h3 id="monitoring">Monitoring<a class="headerlink" href="#monitoring" title="Permanent link">#</a></h3>
<p>When our project is hosted, we need to monitor it using some tools to check its performance, its error logs and  user interactions.We have some tools available for this.</p>
<h4 id="graphite">Graphite<a class="headerlink" href="#graphite" title="Permanent link">#</a></h4>
<ul>
<li>Graphite provides real-time visualization and storage of numeric time-series data on an enterprise level.</li>
</ul>
<h4 id="statsd">Statsd<a class="headerlink" href="#statsd" title="Permanent link">#</a></h4>
<ul>
<li>A network daemon that runs on the Node.js platform and listens for statistics, like counters and timers, sent over UDP or TCP and sends aggregates to one or more pluggable backend services (e.g.,Graphite).</li>
</ul>
<h4 id="sentry-logging">Sentry - logging<a class="headerlink" href="#sentry-logging" title="Permanent link">#</a></h4>
<ul>
<li>Sentry is a modern error logging and aggregation platform.</li>
</ul>
<h4 id="new-relic">New Relic<a class="headerlink" href="#new-relic" title="Permanent link">#</a></h4>
<ul>
<li>A software analytics tool suite used by developers, ops, and software companies to understand how your applications are performing in development and production.</li>
</ul>
<h4 id="supervisor">Supervisor<a class="headerlink" href="#supervisor" title="Permanent link">#</a></h4>
<ul>
<li>a process control system</li>
<li>a client/server system <ul>
<li>which allows its users to monitor and control a number of process in UNIX-like OS</li>
</ul>
</li>
<li>similar to <code>launchd</code>, <code>daemontools</code>, and <code>runit</code></li>
<li>monitors projects</li>
<li>starts on boot</li>
<li>Supervisord starts processes as its subprocesses, and can be configured to automatically restart them on a crash</li>
<li>accurately shows the up/down times of the processes</li>
<li>can asign priorities to the processes</li>
<li>can group the processes</li>
</ul>
<h3 id="stack-flow">Stack Flow<a class="headerlink" href="#stack-flow" title="Permanent link">#</a></h3>
<ul>
<li>User requests from browser.</li>
<li>Request reaches Nginx.</li>
<li>If (request is staic)<ul>
<li>Nginx serves the request.</li>
</ul>
</li>
<li>Else if (request is dynamic)<ul>
<li>Nginx forwards the request to Application server (Gunicorn).</li>
<li>Gunicorn receives the request, executes corresponding python (Flask) code.</li>
<li>Gunicorn returns the response to Nginx.</li>
</ul>
</li>
<li>Nginx serves the response to the user.</li>
</ul>
<h3 id="working">Working<a class="headerlink" href="#working" title="Permanent link">#</a></h3>
<p>You need both Nginx and Gunicorn (or something similar) for a proper Django deployment
The complete answer is both Nginx and Gunicorn handle the request. Basically, Nginx will receive the request and if it's a dynamic request (generally based on URL patterns) then it will give that request to Gunicorn, which will process it, and then return a response to Nginx which then forwards the response back to the original client.</p>
<h2 id="deployment-production-environment">Deployment - Production Environment<a class="headerlink" href="#deployment-production-environment" title="Permanent link">#</a></h2>
<h3 id="how-to-deploy-django-application-in-production">How to deploy django application in Production<a class="headerlink" href="#how-to-deploy-django-application-in-production" title="Permanent link">#</a></h3>
<ul>
<li>https://devcenter.heroku.com/articles/getting-started-with-python#introduction</li>
<li>https://developer.mozilla.org/en-US/docs/Learn/Server-side/Django/Deployment</li>
<li>DEBUG = False</li>
<li>change default SECRET_KEY (used for CRSF protection) and hide it somewhere else</li>
<li>Run manage.py check --deploy (to check the default list of changes mentioned by django)</li>
</ul>
<p><strong> checklist </strong> https://docs.djangoproject.com/en/1.10/howto/deployment/checklist/</p>
<h3 id="checklist">checklist<a class="headerlink" href="#checklist" title="Permanent link">#</a></h3>
<ul>
<li>in settings<ul>
<li>must be set properly for Django to provide the expected level of security;</li>
<li>are expected to be different in each environment;</li>
<li>enable optional security features;</li>
<li>enable performance optimizations;</li>
<li>provide error reporting.</li>
</ul>
</li>
<li>or Run manage.py check --deploy   <ul>
<li>to list all the factors listed below</li>
</ul>
</li>
<li>take care of these things if releasing source code </li>
</ul>
<h3 id="critical-settings">critical settings<a class="headerlink" href="#critical-settings" title="Permanent link">#</a></h3>
<ul>
<li>
<p>SECRET_KEY</p>
<ul>
<li>Instead of hardcoding the secret key in your settings module, consider loading it from an environment variable or file
```python
import os
SECRET_KEY = os.environ['SECRET_KEY']</li>
</ul>
<p>with open('/etc/secret_key.txt') as f:
    SECRET_KEY = f.read().strip()
```
- avoid committing it to source control</p>
</li>
<li>
<p>DEBUG : set to False</p>
</li>
</ul>
<h3 id="environment-related-settings">Environment Related Settings<a class="headerlink" href="#environment-related-settings" title="Permanent link">#</a></h3>
<ul>
<li>ALLOWED_HOSTS<ul>
<li>When DEBUG = False, Django doesnt work at all without a suitable value for ALLOWED_HOSTS.</li>
<li>This setting is required to protect your site against some CSRF attacks</li>
</ul>
</li>
<li>CACHE<ul>
<li>change it for production performance otimization</li>
<li>default for developement is 'local-memory caching'</li>
<li>instead use cache servers like Memcached<ul>
<li>using  'cached sessions'</li>
<li>Cache servers often have weak authentication. </li>
<li>Make sure they only accept connections from your application servers.</li>
</ul>
</li>
</ul>
</li>
<li>DATABASE<ul>
<li>Database passwords are very sensitive. Keep them in environment  variable or in file same as SECRET_KEY</li>
<li>For maximum security, make sure database servers only accept connections from your application servers.</li>
<li>If you havent set up backups for your database, do it right now!</li>
</ul>
</li>
<li>EMAIL_BACKEND and related settings<ul>
<li>If your site sends emails, these values need to be set correctly.<ul>
<li>modify the DEFAULT_FROM_EMAIL and SERVER_EMAIL settings</li>
</ul>
</li>
<li>By default, Django sends email from webmaster@localhost and root@localhost. </li>
</ul>
</li>
<li>STATIC_ROOT and STATIC_URL<ul>
<li>Static files are automatically served by the development server. </li>
<li>In production, you must define a STATIC_ROOT directory where collectstatic will copy them.</li>
</ul>
</li>
<li>MEDIA_ROOT and MEDIA_URL<ul>
<li>Media files are uploaded by your users. Theyre untrusted! </li>
<li>Make sure your web server never attempts to interpret them. </li>
<li>For instance, if a user uploads a .php file, the web server shouldnt execute it.</li>
</ul>
</li>
</ul>
<h3 id="https">HTTPS<a class="headerlink" href="#https" title="Permanent link">#</a></h3>
<ul>
<li>Any website which allows users to log in should enforce site-wide HTTPS to avoid transmitting access tokens in clear. </li>
<li>In Django, access tokens include the login/password, the session cookie, and password reset tokens. </li>
<li>Note: You cant do much to protect password reset tokens if youre sending them by email</li>
<li>web server must redirect all HTTP traffic to HTTPS, and only transmit HTTPS requests to Django.<ul>
<li>because: the same session cookie is used for HTTP and HTTPS. </li>
</ul>
</li>
<li>Once youve set up HTTPS, enable the following settings.<ul>
<li>CSRF_COOKIE_SECURE<ul>
<li>Set this to True to avoid transmitting the CSRF cookie over HTTP accidentally.</li>
</ul>
</li>
<li>SESSION_COOKIE_SECURE<ul>
<li>Set this to True to avoid transmitting the session cookie over HTTP accidentally.</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="performance-optimizations">Performance Optimizations<a class="headerlink" href="#performance-optimizations" title="Permanent link">#</a></h3>
<ul>
<li>DEBUG = False</li>
<li>CONN_MAX_AGE</li>
<li>TEMPLATES<ul>
<li>Enabling the cached template loader often improves performance drastically, as it avoids compiling each template every time it needs to be rendered. </li>
</ul>
</li>
</ul>
<h3 id="error-reporting">Error Reporting<a class="headerlink" href="#error-reporting" title="Permanent link">#</a></h3>
<ul>
<li>LOGGING<ul>
<li>Review your logging configuration before putting your website in production, and check that it works as expected as soon as you have received some traffic</li>
</ul>
</li>
<li>Customize the default error views<ul>
<li>Django includes default views and templates for several HTTP error codes. You may want to override the default templates by creating the following templates in your root template directory: 404.html, 500.html, 403.html, and 400.html.     </li>
</ul>
</li>
</ul>
<h2 id="testing">Testing<a class="headerlink" href="#testing" title="Permanent link">#</a></h2>
<ul>
<li>
<p>Class level testing for each app</p>
<p>```python
from django.test import TestCase</p>
<p>class QuestionModelTests(TestCase):
    def test_was_published_recently_with_future_question(self):
        #do something
        self.assertIs(future_question.was_published_recently(), False)
```</p>
</li>
</ul>
<h3 id="run-test-cases">Run Test Cases<a class="headerlink" href="#run-test-cases" title="Permanent link">#</a></h3>
<pre><code class="language-bash">python manage.py test appname
</code></pre>
<h2 id="security">Security<a class="headerlink" href="#security" title="Permanent link">#</a></h2>
<h3 id="csrf-cross-site-request-forgery">CSRF - Cross Site Request Forgery<a class="headerlink" href="#csrf-cross-site-request-forgery" title="Permanent link">#</a></h3>
<h4 id="why-csrf">Why CSRF?<a class="headerlink" href="#why-csrf" title="Permanent link">#</a></h4>
<ul>
<li>CSRF attack happens in presence of state</li>
<li>It really boils down to the browsers ability to automatically present login credentials for any request by sending along cookies. If a session id is stored in a cookie the browser will automatically send it along with all requests that go back to the original website. This means that an attacker doesn't actually have to know authentication details to take an action as the victim user. Rather, the attacker just has to trick the victims browser into making a request, and the credentials to authenticate the request will ride along for free.</li>
</ul>
<h4 id="is-it-required-in-rest">Is it required in REST<a class="headerlink" href="#is-it-required-in-rest" title="Permanent link">#</a></h4>
<ul>
<li>No, it will be useless piece of code</li>
<li>because REST is <strong>stateless</strong> at client-side</li>
<li>a cookie-less REST endpoint is completely immune from CSRF attacks</li>
<li>if there is cookie used for authentication, then we need CSRF protection</li>
<li>HTTP/BasicAuthentication will also need CSRF protection</li>
<li>also, if any app uses any tech to store state of app at clientside, then its not a RESTful app</li>
<li>src: https://security.stackexchange.com/questions/166724/should-i-use-csrf-protection-on-rest-api-endpoints</li>
</ul>
<h2 id="django-rest-framewok">Django REST Framewok<a class="headerlink" href="#django-rest-framewok" title="Permanent link">#</a></h2>
<p>Django REST framework "djangorestframework" is powerful &amp; flexibal toolkit for creating web APIs.
- https://stackoverflow.com/questions/671118/what-exactly-is-restful-programming</p>
<h5 id="some-reasons-you-might-want-to-use-rest-framework">Some reasons you might want to use REST framework:<a class="headerlink" href="#some-reasons-you-might-want-to-use-rest-framework" title="Permanent link">#</a></h5>
<ul>
<li>The Web browsable API is a huge usability win for your developers.</li>
<li>Authentication policies including packages for OAuth1a and OAuth2.</li>
<li>Serialization that supports both ORM and non-ORM data sources.</li>
<li>Customizable all the way down - just use regular function-based views if you don't need the more powerful features.</li>
<li>Extensive documentation, and great community support.</li>
</ul>
<h3 id="rest-api">REST API<a class="headerlink" href="#rest-api" title="Permanent link">#</a></h3>
<ul>
<li>Representation State Transfer</li>
<li>An architectural pattern for creating an API that uses HTTP as its communication method</li>
<li>for designing network based application</li>
<li>Resource: <ul>
<li>If we have endpoint/URI(URL or URN), lets say https://127.0.0.1/coders then we have resource. Here coders is a resource.</li>
<li>Its nothing new, we already used to make URLs that way</li>
</ul>
</li>
<li>Representation:<ul>
<li>When a client makes a GET request to coders/toran/ client gets following JSON response
<code>JSON
{
"nickname": "toran",
"powerLevel": 5
}</code></li>
<li>so, this is representation in the form of JSON having metadata</li>
<li>representation also could be XML, HTML</li>
<li>the same applies when a client sends a request which contains a 'coder' data, its sends representation</li>
</ul>
</li>
<li>Representational State:<ul>
<li>like browsing the web</li>
<li>a HTML page is a representation of a resource at current state (or current data) of that resource.</li>
<li>When we submit a form, we just send a representation back to the server</li>
</ul>
</li>
<li>Representational State Transfer<ul>
<li>a client and server exchange representations of a resource, which reflects its current state or desired state.</li>
<li>So, REST is a way for two machines to transfer the state of a resource via representations.</li>
</ul>
</li>
</ul>
<h3 id="http-request-methods-http-verbs">HTTP Request Methods (HTTP verbs)<a class="headerlink" href="#http-request-methods-http-verbs" title="Permanent link">#</a></h3>
<p>HTTP defines a set of request methods to indicate the desired action to be performed for a given resource</p>
<ul>
<li>
<p><strong>GET</strong></p>
<ul>
<li>The GET method requests a representation of a specified resource.</li>
<li>GET request should only used for data retrieval. (But can also be used for submit/posting/sending data)</li>
<li>a resource is mentioned in URL.  </li>
</ul>
</li>
<li>
<p><strong>POST</strong></p>
<ul>
<li>Used to modify/update an existing entity of a specified resource.<ul>
<li>Do mention the object/entity of the resource in the URL to update</li>
<li>we should use PUT and PATCH for update<ul>
<li>PUT would create a new unwanted resource when the resouce doesn't exists while updating that particular resource</li>
<li>PATCH is perfect for partial updation</li>
</ul>
</li>
<li>But there is no restrictions using POST for updates</li>
</ul>
</li>
</ul>
<p><code>HTTP
POST /questions/&lt;existing_question&gt; HTTP/1.1
Host: www.example.com/</code>  <br />
- Used to submit a new entity/data to a specified resource.
    - Do not mention the object/entity of the resource in the URL while creating it. Otherwise it will give "Resource Not Found" error.
<code>HTTP
POST /questions/ HTTP/1.1
Host: www.example.com/</code>  <br />
- Causes change in state of the resource
- Use this if you want server to let the name, the URL object while creating a new one
- Two simultaneous POST requests works fine (lets say, 1st request is updating some part &amp; 2nd request is updating other part of an object)<br />
- The <code>UPDATE</code> performed by the POST method might not result in a resource that can be identified by a URI.</p>
</li>
<li>
<p><strong>PUT</strong></p>
<ul>
<li>Used to create a new resource entity or <strong>overrite</strong> (Completely replaces) the existing one.</li>
<li>For a new resource entity:
    <code>HTTP
    PUT /questions/&lt;new_question&gt; HTTP/1.1
    Host: www.example.com/</code></li>
<li>To overrite an existing one
    <code>HTTP
    PUT /questions/&lt;existing_question&gt; HTTP/1.1
    Host: www.example.com/</code>    </li>
<li>Usefull when you know the name of the entity/object</li>
<li>Use this if you want to name the URL object while creating a new one</li>
<li>PUT is idempotent, so if you PUT the same object twice, it has no effect (will overrite)</li>
<li>Can create or update an object with the same URL  </li>
</ul>
</li>
<li>
<p><strong>DELETE</strong></p>
<ul>
<li>Deletes/destroyes a specified resource object/entity/record.  </li>
</ul>
</li>
<li>
<p><strong>PATCH</strong></p>
<ul>
<li>Used to make partial modification to an existing resource object/entity.</li>
<li>Works differently than POST &amp; PUT for update</li>
<li>Need to have URL object known
<code>HTTP
PATCH /users/1 HTTP/1.1
Host: www.example.com
Content-Type: application/example
If-Match: "c0b42b66e"
Content-Length: 120
[changes]</code>
where [changes] could be JSON/XML like {email:'toran.sahu@yahoo.com'}  </li>
</ul>
</li>
<li>
<p><strong>HEAD</strong></p>
<ul>
<li>Ask for the response same as GET but without response/message body.  </li>
</ul>
</li>
<li>
<p><strong>OPTIONS</strong></p>
<ul>
<li>Used to describe the communication option for the target resource  </li>
</ul>
</li>
<li>
<p><strong>CONNECT</strong></p>
<ul>
<li>Establishes a tunnel to the server identified by the target resource  </li>
</ul>
</li>
<li>
<p><strong>TRACE</strong></p>
<ul>
<li>Performs message loop-back test along the path to the target resource  </li>
</ul>
</li>
</ul>
<p><strong>Note:</strong> There is a very common confusion in terminology. <strong>"Resource"</strong>
- In URI "app/questions/1" here "1" is also know as resource and at the same time "questions" is also know as resource.
- Some people around the globe also use "1" as record/entity &amp; "questions" as resource.
- We could generalize "1" as "resource object" and "questions" as "resource class"</p>
<h3 id="http-response-codes">HTTP Response Codes<a class="headerlink" href="#http-response-codes" title="Permanent link">#</a></h3>
<ul>
<li>200 (Ok)</li>
<li>201 (Created)</li>
<li>204 (No Content)</li>
<li>304</li>
<li>404</li>
<li>501 (Not Implemented)</li>
</ul>
<h3 id="serializers">Serializers<a class="headerlink" href="#serializers" title="Permanent link">#</a></h3>
<ul>
<li>Module: from rest_framework import serializers</li>
<li>Provides a way to serialize &amp; deserialize Model instances into representations like JSON.</li>
<li><strong>Serialization</strong> is mechanism of converting the state of an object into byte-stream, which can be displayed, stored.</li>
<li><strong>Deserialization</strong> is reverse mechanism of serialization.</li>
</ul>
<p><strong>Note:</strong> In django its very similar to Django Form class and includes similar validation flags on the various fields, such as required, max_length and default.</p>
<h4 id="implementations">Implementations<a class="headerlink" href="#implementations" title="Permanent link">#</a></h4>
<ul>
<li>Inherit classes<ul>
<li>serializers.Serializer<ul>
<li>need to write all the fields mentioned in Model (only those, which we want to use here)</li>
<li>need to define create() &amp; update() method to create/update new Model instance from validated data (representaion/JSON)</li>
</ul>
</li>
<li>serializers.ModelSerializer<ul>
<li>Inside Meta class mention<ul>
<li>model inside Meta class; model = Snippet i.e. Class</li>
<li>fields = ('id', ....,'title') i.e. tuple</li>
</ul>
</li>
<li>Automatically implements default create() and update() methods</li>
<li><strong>Note</strong>: If we want to include <code>url</code> in fields, then the base_name (in case of routers) in urls.py should same as the name of Model in lower case, alternatively don't mention base_name</li>
</ul>
</li>
<li>serializers.HyperlinkedModelSerializer<ul>
<li>The only difference is, as in citation you included, that primary and foreign keys are represented by URLs that point to those resources, instead of just actual key values.</li>
<li>The benefit is that you will not have to construct resource URLs in your frontend when you want to retrieve related objects.</li>
</ul>
</li>
</ul>
</li>
</ul>
<h4 id="relations">Relations<a class="headerlink" href="#relations" title="Permanent link">#</a></h4>
<ul>
<li>src: http://www.django-rest-framework.org/api-guide/relations/#serializer-relations</li>
</ul>
<h4 id="writable-nested-serializers">Writable Nested Serializers<a class="headerlink" href="#writable-nested-serializers" title="Permanent link">#</a></h4>
<ul>
<li>scr: http://www.django-rest-framework.org/api-guide/relations/#writable-nested-serializers</li>
<li>code: https://gist.github.com/toransahu/221371c981c20f0b9c645019a53b90c7</li>
<li>by default django does not provides write access in case of nested model objects &amp; their model serializers</li>
<li>
<p>strategy</p>
<ul>
<li>create 2 models</li>
<li>assign M2M/Foreign key field in one model</li>
<li>
<p>write serializers for both the models</p>
<ul>
<li>keep foreign model serializers normal/default</li>
<li>for other model serializer write custom code <ul>
<li>override create() method<ul>
<li>handle foreign field data explicitly</li>
<li>create post instance from data</li>
<li>iterate over list value of foreign field<ul>
<li>create instance of image</li>
<li>append image instance to post instance's foreign field</li>
</ul>
</li>
</ul>
</li>
<li>override update() method</li>
</ul>
</li>
</ul>
</li>
<li>
<p>write normal viewset for only one : i.e. posts (both is optional)</p>
</li>
<li>Issues faced:</li>
<li>if nested fields are char<ul>
<li>if posting as application/json from django form : works fine</li>
<li>if posting as multipart/form-data from django form: validation fails for required fields<ul>
<li>means data received is empty</li>
</ul>
</li>
<li>works fine with python code only iff data &amp; files both are provided</li>
</ul>
</li>
<li>if nested fields are image<ul>
<li>cannot post using django form</li>
<li>able to post using custom form: https://github.com/toransahu/multiple-file-upload</li>
<li>able to post using python code</li>
</ul>
</li>
</ul>
</li>
</ul>
<h4 id="class-meta-options_1">class <code>Meta</code> Options<a class="headerlink" href="#class-meta-options_1" title="Permanent link">#</a></h4>
<p>TODO:</p>
<h5 id="misc">Misc<a class="headerlink" href="#misc" title="Permanent link">#</a></h5>
<ul>
<li>
<p>Note:</p>
<ol>
<li>after serializer.is_valid() we can't save serializer if we have already accessed serializer.data; to avoid this, access serializer.validated_data</li>
<li>custom create &amp; update in serializer - writable nested serializers</li>
<li>
<p>datefield attribute: auto_now vs auto_now_add</p>
<ul>
<li>
<p>auto_now: </p>
<ul>
<li>Automatically set the field to now every time the object is saved</li>
<li>Useful for "last-modified" timestamps</li>
<li>cannot be overriden</li>
</ul>
</li>
<li>
<p>auto_now_add</p>
<ul>
<li>Automatically set the field to now when the object is first created</li>
<li>Useful for creation of timestamps</li>
<li>cannot be overriden</li>
</ul>
</li>
</ul>
</li>
</ol>
</li>
<li>
<p>Postman:</p>
<ul>
<li>nested: https://medium.com/@darilldrems/how-to-send-arrays-with-get-or-post-request-in-postman-f87ca70b154e</li>
</ul>
</li>
<li>
<p>Try:</p>
<ul>
<li>https://github.com/beda-software/drf-writable-nested</li>
<li>https://github.com/alanjds/drf-nested-routers</li>
<li><a href="https://gist.github.com/yprez/7704036">Base64 ImageField</a></li>
</ul>
</li>
</ul>
<h3 id="views_2">Views<a class="headerlink" href="#views_2" title="Permanent link">#</a></h3>
<ul>
<li>Function Based View    <ul>
<li>Using normal functions like in Django (without using any rest_framework feature)<ul>
<li>Modules: 
    <code>python
    from django.views.decorators.csrf import csrf_exempt
    from django.http import HttpResponse, JsonResponse
    from rest_framework.renderers import JSONRenderer
    from rest_framework.parsers import JSONParser</code></li>
<li>Approach:<ul>
<li>write function with conditional branching for different http request methods</li>
<li>write a _list function for listing all records (GET) &amp; submiting a record (POST)</li>
<li>write a _detail function for fetching, modifying or destroying a specific record by pk, ID or Name</li>
<li>use JSON response &amp; parser</li>
</ul>
</li>
<li>use @csrf_exempt decorator for safety</li>
<li>code: https://gist.github.com/toransahu/1bad12b87dcd160c0de0d29d218d9bf6 </li>
</ul>
</li>
<li>Using @api_view() decorator<ul>
<li>Modules: 
    <code>python
    from rest_framework import status
    from rest_framework.decorators import api_view
    from rest_framework.response import Response</code></li>
<li>Approach:<ul>
<li>write function with conditional branching for different http request methods</li>
<li>write a _list function for listing all records (GET) &amp; submiting a record (POST) </li>
<li>write a _detail function for fetching, modifying or destroying a specific record by pk, ID or Name</li>
<li>decorate with @api_view() with parameters like ['GET'], ['GET', 'POST'], ['GET', 'PUT', 'DELETE'] etc</li>
<li>By default @api_view() takes GET method if nothing is mentioned</li>
</ul>
</li>
<li>code: https://gist.github.com/toransahu/5c99704ec721e461b5f8fa67776a6d74 </li>
</ul>
</li>
</ul>
</li>
<li>
<p>Class Based View</p>
<ul>
<li>By Inheriting APIView class<ul>
<li>Modules: 
    <code>python
    from rest_framework.views import APIView
    from rest_framework.response import Response
    from rest_framework import status
    from django.http import Http404</code></li>
<li>Approach:<ul>
<li>write classes and define request handler methods in name of http request method for each http request method </li>
<li>write a List class for listing all records (GET) &amp; submiting a record (POST) </li>
<li>write a Detail class for fetching, modifying or destroying a specific record by pk, ID or Name</li>
</ul>
</li>
<li>similar to Django's "View" class</li>
<li>Note<ul>
<li>request handler methods receives REST's Request instance instead django's HttpRequest instance</li>
<li>request handler methods may return REST's Response instance instead django's HttpResponse instance</li>
</ul>
</li>
<li>set few attributes like<ul>
<li>authentication_classes = (authentication.TokenAuthentication,)</li>
<li>permission_classes = (permissions.IsAdminUser,)</li>
</ul>
</li>
<li>code: https://gist.github.com/toransahu/bcdb1a6beb5da0475c8c056837da940f</li>
</ul>
</li>
<li>Using mixins<ul>
<li>Modules:
    <code>python
    from rest_framework import mixins
    from rest_framework import generics</code></li>
<li>Approach:<ul>
<li>write classes and inherit <code>generics.GenericAPIView</code> &amp; mixins as per use</li>
<li>write a List class and inherit mixins.ListModelMixin, mixins.CreateModelMixin, generics.GenericAPIView</li>
<li>write a Detail class and inherit mixins.RetrieveModelMixin, mixins.UpdateModelMixin, mixins.DestroyModelMixin, generics.GenericAPIView</li>
<li>base class providescore functionality &amp; mixin classes provides actions like .list(), .create(), .retrieve(), .update() and .destroy()</li>
</ul>
</li>
<li>Code: https://gist.github.com/toransahu/dfc2666307c1628042b99edaba630c07</li>
</ul>
</li>
<li>
<p>Using generic class-based views</p>
<ul>
<li>Modules:
    <code>python
    from rest_framework import generics</code></li>
<li>Approach:<ul>
<li>write List class and inherit generics.ListCreateAPIView</li>
<li>write Detail class and generics.RetrieveUpdateDestroyAPIView</li>
</ul>
</li>
<li>Code: https://gist.github.com/toransahu/ab21d8bf46f45616ccb9285dbd0b201a</li>
</ul>
</li>
<li>
<p>Using ViewSet</p>
<ul>
<li>Modules:
    <code>from rest_framework import viewsets</code></li>
<li>Approach:<ul>
<li>Only need to write a single class, named <code>ModelNameViewSet</code> and inhert <code>viewsets.ModelViewSet</code></li>
<li>facilitates router for URL writing</li>
</ul>
</li>
<li>Advantage:<ul>
<li>provides create, retrieve, update, and destroy in a single Class def</li>
<li>DRY View code</li>
<li>DRY URL code</li>
<li>can also add custom endpoints as per our need, apart from regular create, retrieve, update, and destroy endpoint provided by ViewSet</li>
</ul>
</li>
<li>Code: https://gist.github.com/toransahu/c7d43776065aa6fda05d7389133c68f9</li>
</ul>
</li>
</ul>
</li>
</ul>
<h4 id="customdisable-request-methods-in-viewset">Custom/Disable Request Methods in ViewSet<a class="headerlink" href="#customdisable-request-methods-in-viewset" title="Permanent link">#</a></h4>
<ul>
<li>By default ViewSets provides All the requests methods</li>
<li>this technique will give power to override,disable those methods</li>
<li>to do this use <code>mixins</code> with <code>viewset.GenericViewSet</code>, or override methods of ViewSet class</li>
<li>url: https://gist.github.com/toransahu/e02fc30cd0e55e968971c46e59862acb</li>
</ul>
<h4 id="mapping-for-views-from-viewset-using-as_view">mapping for views from ViewSet using <code>as_view()</code><a class="headerlink" href="#mapping-for-views-from-viewset-using-as_view" title="Permanent link">#</a></h4>
<ul>
<li>syntax<ul>
<li><code>{&lt;method&gt;:&lt;action&gt;}</code></li>
</ul>
</li>
<li>patterns<ul>
<li>{'get': 'list'}</li>
<li>{'get': 'retrieve'}</li>
<li>{'post': 'create'}</li>
<li>{'put': 'update'}</li>
<li>{'patch': 'partial_update'}</li>
<li>{'delete': 'destroy'}</li>
</ul>
</li>
</ul>
<h4 id="adding-custom-routesaction-to-the-existing-viewset">adding custom routes/action to the existing ViewSet<a class="headerlink" href="#adding-custom-routesaction-to-the-existing-viewset" title="Permanent link">#</a></h4>
<ul>
<li>https://gist.github.com/toransahu/95781bc23f39192276d011d0aa990470</li>
<li>http://www.django-rest-framework.org/api-guide/routers/#customizing-dynamic-routes</li>
</ul>
<h3 id="urls_1">URLs<a class="headerlink" href="#urls_1" title="Permanent link">#</a></h3>
<ul>
<li>if using include(<some_other_url.py>)<ul>
<li>dont provide namespace </li>
<li>if providing namespace inside include<ul>
<li>define app_name = <appname> in app/urls.py</li>
</ul>
</li>
</ul>
</li>
</ul>
<h4 id="routers">Routers<a class="headerlink" href="#routers" title="Permanent link">#</a></h4>
<p>REST framework adds support for automatic URL routing to Django, and provides you with a simple, quick and consistent way of wiring your view logic to a set of URLs.</p>
<pre><code class="language-python">from django.urls import path
from .views import BlogViewSet
from rest_framework.routers import DefaultRouter


router = DefaultRouter()
router.register('', BlogViewSet, base_name='blogs')

urlpatterns = router.urls
</code></pre>
<ul>
<li><strong>Note:</strong><ul>
<li><strong>Try to keep <code>base_name</code> same as Model name, because <code>view_name</code> like blog-detail, blog-list comes from Model &amp; not from app's name</strong></li>
<li><strong>when we create custom actions (similar to -list, -detail) in any View using @detail_route(), we access that action using <code>base_name</code> in serializers.</strong> </li>
<li>alternatively remove base_name</li>
</ul>
</li>
</ul>
<h4 id="actions-using-base_name">actions using base_name:<a class="headerlink" href="#actions-using-base_name" title="Permanent link">#</a></h4>
<ul>
<li><code>&lt;base_name&gt;-list</code></li>
<li><code>&lt;base_name&gt;-detail</code></li>
<li><code>&lt;base_name&gt;-&lt;any_custom&gt;</code></li>
</ul>
<h4 id="how-to-use-namespace-provided-in-url-patterns">how to use namespace (provided in url patterns)<a class="headerlink" href="#how-to-use-namespace-provided-in-url-patterns" title="Permanent link">#</a></h4>
<ul>
<li>using <code>from django.urls import reverse</code><ul>
<li><code>reverse(&lt;namespace&gt;:&lt;base_name&gt;-&lt;action&gt;</code> or</li>
<li><code>reverse(&lt;namespace&gt;:&lt;model_name&gt;-&lt;action&gt;</code></li>
</ul>
</li>
</ul>
<h4 id="adding-custom-routesaction-urls-to-the-existing-router-or-urlpatterns">adding custom routes/action urls to the existing Router or urlpatterns<a class="headerlink" href="#adding-custom-routesaction-urls-to-the-existing-router-or-urlpatterns" title="Permanent link">#</a></h4>
<ul>
<li>https://gist.github.com/toransahu/95781bc23f39192276d011d0aa990470</li>
</ul>
<h3 id="api-versioning">API Versioning<a class="headerlink" href="#api-versioning" title="Permanent link">#</a></h3>
<ul>
<li><a href="http://www.django-rest-framework.org/api-guide/versioning/">Source</a></li>
<li><a href="https://gearheart.io/blog/api-versioning-with-django-rest-framework/">e.g.</a></li>
<li>Its always a good idea to version your API so that you can make changes in your API without disturbing your current clients.</li>
<li>e.g. http://127.0.0.1:8000/api/v1/blogs/</li>
</ul>
<h4 id="configurations">Configurations<a class="headerlink" href="#configurations" title="Permanent link">#</a></h4>
<ul>
<li>settings.py  </li>
</ul>
<pre><code class="language-python">REST_FRAMEWORK = {
    'DEFAULT_VERSIONING_CLASS': 'rest_framework.versioning.NamespaceVersioning'
}
</code></pre>
<ul>
<li>urls.py</li>
</ul>
<pre><code class="language-python">urlpatterns = [
    path('admin/', admin.site.urls),
    path('api/v1/blogs/', include('blogs.urls', namespace='v1')),
]
</code></pre>
<ul>
<li>blogs/urls.py</li>
</ul>
<pre><code class="language-python">app_name = 'blogs'

router = DefaultRouter()
router.register('', BlogViewSet, base_name='blogs')

urlpatterns = router.urls
</code></pre>
<h4 id="uses_2">Uses<a class="headerlink" href="#uses_2" title="Permanent link">#</a></h4>
<ul>
<li>Once you have set versioning, django will be able to provide value of <code>request.version</code> else it will be <code>None</code></li>
<li>so, apply conditions (<code>if/else</code>) in View or serializers<ul>
<li>if there are changes in fields, then use versioning in serializers</li>
<li>else, if there are only changes in some functionalities, (which current client cannot consume), then use versioning in veiws only, like:
    <code>python
    def get_serializer_class(self):
        if self.request.version == 'v1':
            return AccountSerializerVersion1
        return AccountSerializer</code></li>
</ul>
</li>
</ul>
<h3 id="allow-cors-cross-origin-resource-sharing-in-drf">Allow CORS (Cross Origin Resource Sharing) in DRF<a class="headerlink" href="#allow-cors-cross-origin-resource-sharing-in-drf" title="Permanent link">#</a></h3>
<ul>
<li><a href="https://www.techiediaries.com/django-cors/">Source1</a></li>
<li><a href="https://github.com/ottoyiu/django-cors-headers">Source2</a></li>
</ul>
<h4 id="using-custom-middleware-class">Using Custom Middleware class<a class="headerlink" href="#using-custom-middleware-class" title="Permanent link">#</a></h4>
<ul>
<li>need to define for each app</li>
<li><code>python manage.py startapp app</code></li>
<li>
<p>create <code>app/cors.py</code> and write</p>
<p><code>python
class CorsMiddleware(object):
def process_response(self, req, resp):
    response["Access-Control-Allow-Origin"] = "*"
    return response</code>
- <code>MIDDLEWARE_CLASSES = ['app.CorsMiddleware']</code></p>
</li>
</ul>
<h4 id="using-package-django-cors-headers">Using package <code>django-cors-headers</code><a class="headerlink" href="#using-package-django-cors-headers" title="Permanent link">#</a></h4>
<ul>
<li>works site-wide</li>
<li><code>pipenv install django-cors-headers</code></li>
<li>in <code>settings.py</code> <code>INSTALLED_APPS = ['corsheaders']</code></li>
<li><code>MIDDLEWARE_CLASSES = ['corsheaders.middleware.CorsMiddleware',]</code>, keep in top as possible as</li>
<li>Allow using any one<ul>
<li><code>CORS_ORIGIN_ALLOW_ALL = True</code></li>
<li>OR <code>CORS_ORIGIN_ALLOW_ALL = False</code> <code>CORS_ORIGIN_WHITELIST = ['http//:localhost:8000',]</code></li>
</ul>
</li>
<li>also set <code>ALLOWED_HOSTS = ['192.168.1.121']</code></li>
<li>and run server like <code>python manage.py runserver 192.168.1.121:8000</code></li>
</ul>
<h3 id="creating-schema-from-api">Creating Schema from API<a class="headerlink" href="#creating-schema-from-api" title="Permanent link">#</a></h3>
<ul>
<li>provides all the details about api endpoint present in site-wide urls<ul>
<li>will show all the endpoints<ul>
<li>actions<ul>
<li>fields</li>
</ul>
</li>
</ul>
</li>
<li>if any authentication is needed<ul>
<li>it will show schema accordingly; if not authenticated, it will show that much api endpoints only</li>
</ul>
</li>
</ul>
</li>
<li>need to configure in site-wide urls.py</li>
<li>source: http://www.django-rest-framework.org/api-guide/schemas/</li>
<li><code>pipenv install coreapi</code></li>
</ul>
<pre><code class="language-python">from rest_framework.schemas import get_schema_view

schema_view = get_schema_view(title=&quot;Server Monitoring API&quot;)

urlpatterns = [
    url('^&lt;dollor_sign&gt;', schema_view),
    ...
]
</code></pre>
<h3 id="setting-media-url-root">Setting Media URL &amp; ROOT<a class="headerlink" href="#setting-media-url-root" title="Permanent link">#</a></h3>
<h4 id="site-wide">Site Wide<a class="headerlink" href="#site-wide" title="Permanent link">#</a></h4>
<h4 id="app-based">App Based<a class="headerlink" href="#app-based" title="Permanent link">#</a></h4>
<ul>
<li>define MEDIA_URL &amp; MEDIA_ROOT in settings.py</li>
</ul>
<pre><code class="language-python"># Media files
# https://timmyomahony.com/blog/static-vs-media-and-root-vs-path-in-django/

# the relative browser URL to be used when accessing our media files in the browser
MEDIA_URL = 'media/'

# the absolute path to the folder that will hold our user uploads
# to get absolute path without hardcoding
ENV_PATH = os.path.abspath(os.path.dirname(__file__)) + os.sep + os.pardir
MEDIA_ROOT = os.path.join(ENV_PATH, 'media/')
</code></pre>
<ul>
<li>add following code in app/urls.py  </li>
</ul>
<pre><code class="language-python"># adding media url
from django.conf import settings # from backend.settings import DEBUG
from django.conf.urls.static import static

# If developement env
if settings.DEBUG is True:
    urlpatterns += static(settings.MEDIA_URL, document_root=settings.MEDIA_ROOT)
</code></pre>
<ul>
<li>want to set upload_to directory dynamically:<ul>
<li>code: https://gist.github.com/toransahu/8f9407250cee7a729473335bdd7a3f3b</li>
<li>here comes, signal things, pre_save, post_save</li>
</ul>
</li>
</ul>
<h3 id="permission">Permission<a class="headerlink" href="#permission" title="Permanent link">#</a></h3>
<h4 id="request-methods-level-permissions-in-viewset">request methods level permissions (in ViewSet)<a class="headerlink" href="#request-methods-level-permissions-in-viewset" title="Permanent link">#</a></h4>
<ul>
<li>this needs when "a user must post only or admin must post only" type of requirements comes </li>
<li>url-view: https://gist.github.com/toransahu/e02fc30cd0e55e968971c46e59862acb</li>
<li>url-permission: https://gist.github.com/toransahu/c40b625165a395fabf772700f3ab2e04</li>
</ul>
<h4 id="objects-level-permission">objects level permission<a class="headerlink" href="#objects-level-permission" title="Permanent link">#</a></h4>
<ul>
<li>TODO</li>
</ul>
<h4 id="exceptionhttp-response">Exception/Http response<a class="headerlink" href="#exceptionhttp-response" title="Permanent link">#</a></h4>
<p>When the permissions checks fail either a "403 Forbidden" or a "401 Unauthorized" response will be returned, according to the following rules:</p>
<ul>
<li>The request was successfully authenticated, but permission was denied.  An HTTP 403 Forbidden response will be returned.</li>
<li>The request was not successfully authenticated, and the highest priority authentication class does not use WWW-Authenticate headers.  An HTTP 403 Forbidden response will be returned.</li>
<li>The request was not successfully authenticated, and the highest priority authentication class does use WWW-Authenticate headers.  An HTTP 401 Unauthorized response, with an appropriate WWW-Authenticate header will be returned.</li>
</ul>
<h3 id="authentication">Authentication<a class="headerlink" href="#authentication" title="Permanent link">#</a></h3>
<p>Source: http://www.django-rest-framework.org/api-guide/authentication/</p>
<h4 id="basic-auth">Basic Auth<a class="headerlink" href="#basic-auth" title="Permanent link">#</a></h4>
<ul>
<li>module:
    <code>from rest_framework.authentication import  BasicAuthentication</code></li>
<li>By default used in DRF, whether you mention it in <code>settings.py</code> or <code>views.py</code> or not</li>
<li>is only suitable for testing purpose, don't use in production</li>
<li>if using in production<ul>
<li>you need to stick to Django Admin Login form page, can't use JSON</li>
<li>need to be <code>HTTPS</code></li>
</ul>
</li>
</ul>
<h4 id="session-auth">Session Auth<a class="headerlink" href="#session-auth" title="Permanent link">#</a></h4>
<ul>
<li>module<ul>
<li><code>from rest_framework.authentication import SessionAuthentication</code></li>
</ul>
</li>
<li>TODO</li>
</ul>
<h4 id="token-auth">Token Auth<a class="headerlink" href="#token-auth" title="Permanent link">#</a></h4>
<p>Source: https://stackoverflow.com/questions/14838128/django-rest-framework-token-authentication</p>
<ul>
<li>module<ul>
<li>`from rest_framework.authentication import TokenAuthentication</li>
</ul>
</li>
<li>
<p>Prerequisites</p>
<ul>
<li>add 'rest_framework.authtoken' to INSTALLED_APPS in settings.py</li>
<li>
<p>mention TokenAuthentication class in</p>
<ul>
<li>
<p>views or</p>
<ul>
<li>function based</li>
</ul>
<p>```python
@authentication_classes([TokenAuthentication, ])
def abcd-detail():
    pass</p>
<p>```</p>
<ul>
<li>class based</li>
</ul>
<p>```python
class Abcd():
    authentication_classes = [TokenAuthentication, ]</p>
<p>```</p>
</li>
<li>
<p>settings.py
<code>python
REST_FRAMEWORK = {
    'DEFAULT_VERSIONING_CLASS':
    'rest_framework.versioning.NamespaceVersioning',
    'DEFAULT_AUTHENTICATION_CLASSES': (
        # 'rest_framework.authentication.BasicAuthentication',
        # 'rest_framework.authentication.SessionAuthentication',
        'rest_framework.authentication.TokenAuthentication',
    ),
}</code></p>
</li>
<li>Obtain Token
DRF provides a view which returns a token on correct username &amp; password.<ul>
<li>include following in urls.py</li>
</ul>
</li>
</ul>
</li>
</ul>
<p>```python
from rest_framework.authtoken.views import obtain_auth_token</p>
<p>urlpatterns = [path('api-auth-token/', obtain_auth_token),]
<code>``
- call the view as:</code>http POST 127.0.0.1:8000/api-token-auth/ username='admin' password='whatever'`</p>
<ul>
<li>will get token like:
<code>json
{
    "token": "blah_blah_blah"
}</code></li>
<li>Use the Token in API call</li>
<li>put the following in Header
 <code>key: Authorization  value: Token token_value</code>
 Please mind the space between Token &amp; token_value</li>
</ul>
<p><code>http GET 127.0.0.1:8000/whatever 'Authorization: Token your_token_value'</code></p>
</li>
</ul>
<h4 id="jwt-json-web-token">JWT (JSON Web Token)<a class="headerlink" href="#jwt-json-web-token" title="Permanent link">#</a></h4>
<ul>
<li>src: http://getblimp.github.io/django-rest-framework-jwt/</li>
<li>quick replacement of Default Token Auth</li>
<li>
<p>Basic Changes Needed:</p>
<ul>
<li>pip install djangorestframework-jwt</li>
<li>
<p>add in REST_FRAMEWORK setting
    <code>'DEFAULT_AUTHENTICATION_CLASSES': ( 'rest_framework_jwt.authentication.JSONWebTokenAuthentication', )</code></p>
</li>
<li>
<p>add view in url
    ```python
    from rest_framework_jwt.views import obtain_jwt_token
    #...</p>
<p>urlpatterns = [
    '',
    # ...</p>
<pre><code>url(r'^api-token-auth/', obtain_jwt_token),
</code></pre>
<p>]
```</p>
</li>
</ul>
</li>
<li>
<p>jwt setting variables</p>
</li>
</ul>
<pre><code class="language-python">JWT_AUTH = {
    'JWT_ENCODE_HANDLER':  
    'rest_framework_jwt.utils.jwt_encode_handler',

    'JWT_DECODE_HANDLER':  
    'rest_framework_jwt.utils.jwt_decode_handler',

    'JWT_PAYLOAD_HANDLER':  
    'rest_framework_jwt.utils.jwt_payload_handler',

    'JWT_PAYLOAD_GET_USER_ID_HANDLER':  
    'rest_framework_jwt.utils.jwt_get_user_id_from_payload_handler',

    'JWT_RESPONSE_PAYLOAD_HANDLER':  
    'rest_framework_jwt.utils.jwt_response_payload_handler',

    #'JWT_SECRET_KEY': settings.SECRET_KEY,  #will take from settings.py by default  
    'JWT_GET_USER_SECRET_KEY': None,  
    'JWT_PUBLIC_KEY': None,
    'JWT_PRIVATE_KEY': None,
    'JWT_ALGORITHM': 'HS256',
    'JWT_VERIFY': True,
    'JWT_VERIFY_EXPIRATION': True,
    'JWT_LEEWAY': 0,
    'JWT_EXPIRATION_DELTA': datetime.timedelta(seconds=300),
    'JWT_AUDIENCE': None,
    'JWT_ISSUER': None,

    'JWT_ALLOW_REFRESH': True,  #allowing it to refresh
    'JWT_REFRESH_EXPIRATION_DELTA': datetime.timedelta(days=7),

    'JWT_AUTH_HEADER_PREFIX': 'Token',
    'JWT_AUTH_COOKIE': None,

}
</code></pre>
<h4 id="django-rest-auth-register-login-logout-reset-change">django-rest-auth (Register, Login, Logout, Reset, Change..)<a class="headerlink" href="#django-rest-auth-register-login-logout-reset-change" title="Permanent link">#</a></h4>
<ul>
<li>src<ul>
<li>http://django-rest-auth.readthedocs.io/en/latest/api_endpoints.html</li>
<li>https://michaelwashburnjr.com/django-user-authentication/</li>
</ul>
</li>
<li>not recommanded, is not completely RESTful<ul>
<li>have issues with <code>password/reset</code> &amp; <code>password/reset/confirm/</code></li>
</ul>
</li>
<li>depends on <code>django-allauth</code> for email things</li>
</ul>
<h4 id="djoser">djoser<a class="headerlink" href="#djoser" title="Permanent link">#</a></h4>
<ul>
<li>src: http://djoser.readthedocs.io/en/stable/sample_usage.html</li>
<li>
<p>djoser uses following settings for email configuration (which is also used by django's default mail module</p>
<ul>
<li><code>from django.core.mail import send_mail</code></li>
</ul>
<p>```python
CONFIG_PATH = os.path.join(ENV_PATH, '../configs/')</p>
<p>EMAIL_USE_TLS = True</p>
<h2 id="email_use_ssl-true-use-any-one-from-tls-ssl">EMAIL_USE_SSL = True  #Use any one from TLS, SSL<a class="headerlink" href="#email_use_ssl-true-use-any-one-from-tls-ssl" title="Permanent link">#</a></h2>
<p>EMAIL_BACKEND = 'django.core.mail.backends.smtp.EmailBackend'  #default one, production</p>
<h2 id="email_backend-djangocoremailbackendsconsoleemailbackend-for-development">EMAIL_BACKEND = 'django.core.mail.backends.console.EmailBackend'  #for development<a class="headerlink" href="#email_backend-djangocoremailbackendsconsoleemailbackend-for-development" title="Permanent link">#</a></h2>
<p>EMAIL_HOST = 'smtp.gmail.com'
with open(os.path.join(CONFIG_PATH, 'email_pwd')) as f:
    EMAIL_HOST_PASSWORD = f.readline()
EMAIL_HOST_USER = 'noreply.etherealmachines@gmail.com'
EMAIL_PORT = 587
DEFAULT_FROM_EMAIL = EMAIL_HOST_USER
EMAIL_ADMIN = ('toran.ethereal@gmail.com', )
```
- djoser setting variables</p>
</li>
</ul>
<pre><code class="language-python">DJOSER = {
    'PASSWORD_RESET_CONFIRM_URL': 'auth/password/reset/confirm/{uid}/{token}',
    'ACTIVATION_URL': 'auth/password/reset/confirm/{uid}/{token}',
    'EMAIL': {
        'activation': 'djoser.email.ActivationEmail',
        'confirmation': 'djoser.email.ConfirmationEmail',
        'password_reset': 'djoser.email.PasswordResetEmail',
    },
    # DEFAULT; no need to define here
    'SERIALIZERS': {
        'activation': 'djoser.serializers.ActivationSerializer',
        'password_reset': 'djoser.serializers.PasswordResetSerializer',
        'password_reset_confirm': 'djoser.serializers.PasswordResetConfirmSerializer',
        'password_reset_confirm_retype': 'djoser.serializers.PasswordResetConfirmRetypeSerializer',
        'set_password': 'djoser.serializers.SetPasswordSerializer',
        'set_password_retype': 'djoser.serializers.SetPasswordRetypeSerializer',
        'set_username': 'djoser.serializers.SetUsernameSerializer',
        'set_username_retype': 'djoser.serializers.SetUsernameRetypeSerializer',
        'user_create': 'djoser.serializers.UserCreateSerializer',
        'user_delete': 'djoser.serializers.UserDeleteSerializer',
        'user': 'djoser.serializers.UserSerializer',
        'token': 'djoser.serializers.TokenSerializer',
        'token_create': 'djoser.serializers.TokenCreateSerializer',
    },
}
</code></pre>
<h4 id="django-templated-mail">django-templated-mail<a class="headerlink" href="#django-templated-mail" title="Permanent link">#</a></h4>
<ul>
<li>djoser uses it to create mail template &amp; send mails</li>
<li>few setting variables:<ul>
<li>DOMAIN</li>
<li>SITE_NAME</li>
</ul>
</li>
</ul>
<h3 id="testing_1">Testing<a class="headerlink" href="#testing_1" title="Permanent link">#</a></h3>
<h4 id="testing-viewset-using">Testing ViewSet using:<a class="headerlink" href="#testing-viewset-using" title="Permanent link">#</a></h4>
<ul>
<li>APITestCase</li>
<li>Token Authentication</li>
<li>APIRequestFactory</li>
<li>Source: https://gist.github.com/toransahu/706bd1de705e21f3be000e1517f7cae8</li>
</ul>
<h2 id="security_1">Security<a class="headerlink" href="#security_1" title="Permanent link">#</a></h2>
<ul>
<li>https://stormpath.com/blog/where-to-store-your-jwts-cookies-vs-html5-web-storage</li>
<li>
<p>http://kylebebak.github.io/post/django-rest-framework-auth-csrf</p>
</li>
<li>
<p>django-jwt (JWT_AUTH_COOKIE ) is not safe</p>
<ul>
<li>https://github.com/GetBlimp/django-rest-framework-jwt/issues/338</li>
</ul>
</li>
<li>
<p>if SessionAuthentication is enabled, then CSRF will be used (if ON)</p>
<ul>
<li>https://stackoverflow.com/questions/30871033/django-rest-framework-remove-csrf</li>
</ul>
</li>
<li>if JWTAuthentications is enabled, then CSRF is automatically disabled</li>
</ul>
<h3 id="vulnerabilities">Vulnerabilities<a class="headerlink" href="#vulnerabilities" title="Permanent link">#</a></h3>
<h4 id="csrf-cross-site-request-forgery_1">CSRF (Cross Site Request Forgery)<a class="headerlink" href="#csrf-cross-site-request-forgery_1" title="Permanent link">#</a></h4>
<h4 id="xss-cross-site-script">XSS (Cross Site Script)<a class="headerlink" href="#xss-cross-site-script" title="Permanent link">#</a></h4>
<h3 id="vulnerables">Vulnerables<a class="headerlink" href="#vulnerables" title="Permanent link">#</a></h3>
<h4 id="web-client-local-session-storage">Web Client Local/ Session Storage<a class="headerlink" href="#web-client-local-session-storage" title="Permanent link">#</a></h4>
<ul>
<li>XSS</li>
</ul>
<h4 id="cookies-jwtauth">Cookies (JWT/Auth)<a class="headerlink" href="#cookies-jwtauth" title="Permanent link">#</a></h4>
<ul>
<li>CSRF</li>
<li>ajax call : https://gist.github.com/bengolder/aa9033efc8959dc38e5d</li>
</ul>
<h2 id="misc_1">Misc<a class="headerlink" href="#misc_1" title="Permanent link">#</a></h2>
<h3 id="running-multiple-host-website-from-single-django-project">Running Multiple Host (website) from Single Django Project<a class="headerlink" href="#running-multiple-host-website-from-single-django-project" title="Permanent link">#</a></h3>
<ul>
<li>source: http://effbot.org/zone/django-multihost.htm</li>
</ul>
<h3 id="get-request-url-string">Get request URL string<a class="headerlink" href="#get-request-url-string" title="Permanent link">#</a></h3>
<pre><code class="language-python">from django.contrib.sites.shortcuts import get_current_site


print('query_params are:', request.build_absolute_uri())  #returns url with domain
print(request.get_full_path())  #returns url without domain
print(get_current_site(request).domain, request.get_host())  #both returns host or domain
</code></pre>
<h3 id="get-slugs-from-url">Get slugs from url<a class="headerlink" href="#get-slugs-from-url" title="Permanent link">#</a></h3>
<p>if you have any 
- url like: http://127.0.0.1:8000/auth/password/reset/confirm/Mw/4vw-d9cdc8954482ecf8e253/
- url pattern like: path('password/reset/confirm/<slug:uid>/<slug:token>/', password_reset_confirm, name='password_reset_confirm_custom_get')
then code to fetch uid &amp; token will be: https://gist.github.com/toransahu/68663e302f87a9c32a1dcd0654408577</p>
<h3 id="microservice-based-on-rest">Microservice Based on REST<a class="headerlink" href="#microservice-based-on-rest" title="Permanent link">#</a></h3>
<ul>
<li>https://www.fullstackpython.com/microservices.html</li>
<li>https://martinfowler.com/articles/microservices.html</li>
<li>https://dev.otto.de/2016/03/20/why-microservices/</li>
<li>with flask: https://medium.com/@ssola/building-microservices-with-python-part-i-5240a8dcc2fb</li>
<li>django to flask based microservice - https://medium.com/greedygame-media/how-we-broke-up-our-monolithic-django-service-into-microservices-8ad6ff4db9d4</li>
<li>https://blog.rapid7.com/2016/09/15/microservices-please-dont/</li>
</ul>
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid" aria-label="Footer">
        
          <a href="../Python-Basics/" class="md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-footer-nav__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
            </div>
            <div class="md-footer-nav__title">
              <div class="md-ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                Python Basics
              </div>
            </div>
          </a>
        
        
          <a href="../Python-OOPs/" class="md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-footer-nav__title">
              <div class="md-ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                Python OOPs
              </div>
            </div>
            <div class="md-footer-nav__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs
        </a>
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../../assets/javascripts/vendor.93c04032.min.js"></script>
      <script src="../../../assets/javascripts/bundle.83e5331e.min.js"></script><script id="__lang" type="application/json">{"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing"}</script>
      
      <script>
        app = initialize({
          base: "../../..",
          features: [],
          search: Object.assign({
            worker: "../../../assets/javascripts/worker/search.8c7e0a7e.min.js"
          }, typeof search !== "undefined" && search)
        })
      </script>
      
        <script src="../../../javascripts/config.js"></script>
      
        <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
      
    
  </body>
</html>